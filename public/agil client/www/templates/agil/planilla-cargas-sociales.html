<div>
    <div class="row">
        <div class="col-xs-12">
            <!-- PAGE CONTENT BEGINS -->
            <h2 class="text-primary">PLANILLAS DE CARGAS SOCIALES</h2>
            <button class="btn-woBox button-glow" ng-click="abrirDialogNuevaPlanillaSueldos()">
                <i class="ace-icon fa fa-plus align-top bigger-125"></i>
                Nueva Planilla
            </button>
            <!-- <button ng-disabled="!aplicacion.puede_crear" class="btn btn-danger" ng-click="crearNuevoProducto()" href="#dialog-iniciar-mantenimiento" data-toggle="modal">
                Importar
            </button>
            <button ng-disabled="!aplicacion.puede_crear" class="btn btn-success" ng-click="crearNuevoProducto()" href="#dialog-iniciar-mantenimiento" data-toggle="modal">    
                Ejemplo de Importación
            </button> -->

            <!-- <button  class="btn btn-info pull-right"   ng-click="abrirDialogParametros()">
                <i class="ace-icon fa fa-cogs align-top bigger-125"></i>
                Parametros
            </button> -->
            <br>
            <br>
            <fieldset>
                <legend>Filtro Planilla de sueldos</legend>
                <table class="table table-striped table-bordered table-hover table-block" align="center">
                    <tbody>
                        <tr>
                            <td class="no-border-right"></td>
                            <td>
                                <label>Mes</label>&nbsp;
                            </td>
                            <td>
                                <label>Año</label>&nbsp;
                            </td>
                            <td colspan="3">
                            </td>
                        </tr>
                        <tr>
                            <td class="no-border-right text-right">PERIODO</td>
                            <td>
                                <select id="pago" name="pago" required ng-model="planilla.mes">
                                    <option value="" ng-show="false"></option>
                                    <option value="0">------TODOS------</option>
                                    <option value="1-ENERO">ENERO</option>
                                    <option value="2-FEBRERO">FEBRERO</option>
                                    <option value="3-MARZO">MARZO</option>
                                    <option value="4-ABRIL">ABRIL</option>
                                    <option value="5-MAYO">MAYO</option>
                                    <option value="6-JUNIO">JUNIO</option>
                                    <option value="7-JULIO">JULIO</option>
                                    <option value="8-AGOSTO">AGOSTO</option>
                                    <option value="9-SEPTIEMBRE">SEPTIEMBRE</option>
                                    <option value="10-OCTUBRE">OCTUBRE</option>
                                    <option value="11-NOVIEMBRE">NOVIEMBRE</option>
                                    <option value="12-DICIEMBRE">DICIEMBRE</option>
                                </select>
                            </td>
                            <td>
                                <select required id="gestion" name="gestion"
                                    ng-options="gestion.nombre_corto as gestion.nombre for gestion in gestiones | orderBy:'-nombre' track by gestion.id"
                                    ng-model="planilla.gestion">
                                    <option value="" ng-show="false"></option>
                                </select>
                            </td>
                            <td colspan="3">
                                <button type="button" ng-click="filtrarListaPlanillaCargaSociales(planilla)"
                                    ng-disabled="formularioFiltroVentas.$invalid" class="btn btn-primary">
                                    <i class="ace-icon fa fa-search  align-top bigger-125"></i>
                                    Filtrar
                                </button>
                                <button class="btn btn-danger btn-md">
                                    <i class="ace-icon fa fa-print align-top bigger-125"></i>
                                    PDF
                                </button>
                                <button class="btn btn-success btn-md">
                                    <i class="ace-icon fa fa-print bigger-125"></i>
                                    Excel
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </fieldset>
            <div class="table-header">
                <a class="white" href="#" data-toggle="modal" data-target="#dialog-editar-historico">
                    <i class="ace-icon fa fa-h-square bigger-130"></i>
                </a> Lista de Planillas
            </div>
            <!-- div.table-responsive -->
            <table id="" class="table table-striped table-bordered table-hover">
                <thead>
                    <tr>
                        <th width="2%">Nro.</th>
                        <th>Año</th>
                        <th>Mes:</th>
                        <th>Tipo</th>
                        <th>Sueldo Básico:</th>
                        <th>Horas Extras:</th>
                        <th>Total Horas Extras</th>
                        <th>Recargo Nocturno</th>
                        <th>Bono Antiguedad</th>
                        <th>Bono Frontera</th>
                        <th>Otros Bonos</th>
                        <th>Total Ganado</th>
                        <th>AFP </th>
                        <th>Sol </th>
                        <th>Pro-V. </th>
                        <th>Seguro de Salud </th>
                        <th class="">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="p in planilla.planillas">
                        <td>{{$index + 1}}</td>
                        <td>{{p.anio}}</td>
                        <td>{{p.mes.split('-')[1]}}</td>
                        <td>Indefinido</td>
                        <td>{{p.importe_sueldo_basico}}</td>
                        <td>{{p.total_horas_extras}}</td>
                        <td>{{p.importe_horas_extras}}</td>
                        <td>{{p.importe_recargo_nocturno}}</td>
                        <td>{{p.importe_bono_antiguedad}}</td>
                        <td>{{p.importe_bono_frontera}}</td>
                        <td>{{p.importe_otros_bonos}}</td>
                        <td>{{p.importe_total_ganado}}</td>
                        <td>{{p.importe_afp}}</td>
                        <td>{{p.importe_sol}}</td>
                        <td>{{p.importe_pro_v}}</td>
                        <td>{{p.importe_cns}}</td>
                        <td class="">
                            <div class="hidden-sm hidden-xs action-buttons">
                                <a class="blue" href="javascript:void(0)" ng-click="verPlanilla(p)">
                                    <i class="ace-icon fa fa-search-plus bigger-130"></i>
                                </a>
                                <!-- <a class="red" href="#">
                                    <i class="ace-icon fa fa-pencil-square-o bigger-130"></i>
                                </a>
                                <a class="blue" href="#">
                                    <i class="ace-icon glyphicon glyphicon-print bigger-130"></i>
                                </a>
                                <a class="red" href="#">
                                    <i class="ace-icon fa fa-trash-o bigger-130"></i>
                                </a> -->
                                <a class="text-info" href="javascript:void(0)" ng-if="!p.id_comprobante"
                                    ng-click="generarComprobanteDelMes(p)">
                                    <i class="ace-icon fa fa-sign-out bigger-130"></i>
                                </a>
                            </div>
                        </td>

                    </tr>
                    <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td>TOTALES</td>
                        <td>{{planilla.sumaSueldoBasico}}</td>
                        <td>{{planilla.sumaTotalHorasExtras}}</td>
                        <td>{{planilla.sumaImporteHorasExtras}}</td>
                        <td>{{planilla.sumaRecargoNocturno}}</td>
                        <td>{{planilla.sumaBonoAntiguedad}}</td>
                        <td>{{planilla.sumaBonoFrontera}}</td>
                        <td>{{planilla.sumaOtrosBonos}}</td>
                        <td>{{planilla.sumaTotalGanado}}</td>
                        <td>{{planilla.sumaAFP}}</td>
                        <td>{{planilla.sumaSol}}</td>
                        <td>{{planilla.sumaProV}}</td>
                        <td>{{planilla.sumaCNS}}</td>
                        <td class="">

                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <!-- Modal planilla sueldos ================================00-->
    <div class="modal" id="dialog-nueva-planilla-sueldos">

        <div class="modal-header ficha">
            <h4 class="modal-title" id="myModalLabel"> Planilla de Cargas Sociales</h4>
        </div>

        <div class="modal-body">
            <div class="">
                <form name="filtrosueldos" class="form-horizontal" novalidate ng-submit="generar(planilla)">
                    <div class="form-group">
                        <div class="col-sm-2">
                            <label>Mes</label>
                            <select id="pago" class="form-control" name="pago" required ng-model="planilla.mes">
                                <option value="" ng-show="false"></option>
                                <option value="1-ENERO">ENERO</option>
                                <option value="2-FEBRERO">FEBRERO</option>
                                <option value="3-MARZO">MARZO</option>
                                <option value="4-ABRIL">ABRIL</option>
                                <option value="5-MAYO">MAYO</option>
                                <option value="6-JUNIO">JUNIO</option>
                                <option value="7-JULIO">JULIO</option>
                                <option value="8-AGOSTO">AGOSTO</option>
                                <option value="9-SEPTIEMBRE">SEPTIEMBRE</option>
                                <option value="10-OCTUBRE">OCTUBRE</option>
                                <option value="11-NOVIEMBRE">NOVIEMBRE</option>
                                <option value="12-DICIEMBRE">DICIEMBRE</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <label>Año</label>
                            <select required class="form-control" id="gestion" name="gestion"
                                ng-options="gestion.nombre_corto as gestion.nombre for gestion in gestiones | orderBy:'-nombre' track by gestion.id"
                                ng-model="planilla.gestion">
                                <option value="" ng-show="false"></option>
                            </select>
                        </div>
                        <div class="col-sm-8 margin-buttons-filter">
                            <button type="button" ng-click="filtrarSueldos(planilla)"
                                ng-disabled="!planilla.mes || !planilla.gestion" class="btn btn-primary">
                                <i class="ace-icon fa fa-search  align-top bigger-125"></i>
                                FILTRAR
                            </button>
                            <button ng-disabled="!planilla.RecursosHumanosEmpleados" type="submit" class="btn btn-info">
                                <i class=""></i>
                                Guardar
                            </button>

                            <button ng-disabled="!planilla.RecursosHumanosEmpleados" type="button"
                                class="btn btn-success" ng-click="imprimirPlanillaCS(planilla)">
                                <i class="fa fa-print"></i>
                                Pre Impresión Pdf
                            </button>
                            <button ng-disabled="!planilla.RecursosHumanosEmpleados" type="button"
                                class="btn btn-yellow" ng-click="excelPlanillaSueldo(planilla)">
                                <i class="fa fa-cloud-download align-top bigger-125"></i>
                                Pre Impresión Excel
                            </button>
                            <button type="button" class="btn btn-danger pull-right"
                                ng-click="cerrarDialogNuevaPlanillaSueldos()">
                                <i class="glyphicon glyphicon-remove align-top bigger-125" aria-hidden="true"></i>
                                Salir
                            </button>
                        </div>
                    </div>
                </form>

            </div>


            <div class="table-header">
                Planilla de sueldos
            </div>
            <!-- div.table-responsive -->
            <div class="container-table-planillas" id="scrollp">
                <div id="test" class="table-content2">
                    <table class="table table-sueldos1">
                        <thead>
                            <tr>
                                <th class="td-sueldos-fix1 table-th-static">Nro.</th>
                                <th class="td-sueldos-fix2 table-th-static">Empleado</th>
                                <th class="td-sueldos-fix3 table-th-static">Fecha Ingreso:</th>
                                <th class="">Sueldo Básico:</th>
                                <th class="">DT:</th>
                                <th class="">Ganado:</th>
                                <th class="">Horas Extras:</th>
                                <th class="" width="10%">Total Hrs Extras</th>
                                <th class="">Recargo Nocturno</th>
                                <th class="">Bono Antiguedad</th>
                                <th class="">Bono Frontera</th>
                                <th class="">Otros Bonos</th>
                                <th class="">Total Ganado</th>
                                <th class="">AFP 1.71%</th>
                                <th class="">Sol 3%</th>
                                <th class="">Pro-V. 2%</th>
                                <th class="">CNS 10%</th>
                                <th class="">Prev.Indemn. 8.33%</th>
                                <th class="">Prov.Aguin. 8.33%</th>
                                <th>Total Aportes</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="empleado in planilla.RecursosHumanosEmpleados">
                                <td class="td-sueldos-fix1">{{$index+1}}</td>
                                <td class="td-sueldos-fix2">
                                    {{empleado.nombre_completo}}
                                    <a popover-placement="right"
                                        uib-popover-template="dynamicPopoverEmpleado.templateUrl"
                                        popover-trigger="outsideClick: outsideClick" popover-title="Datos"
                                        class="pull-right blue" popover-append-to-body="true"
                                        popover-class="xlpopover title-popover-empleado" class="blue">
                                        <span class="image-empleado">
                                            <span class="fa fa-user "></span>
                                        </span>
                                    </a>

                                    <script type="text/ng-template" id="myPopoverEmpleadoTemplate.html">

                                        <div class="row">
                                            <div class="searchable-container">
                                                <div class="items col-xs-12 col-sm-12 col-md-12 col-lg-12 clearfix">
                                                    <div class="info-block block-info clearfix">
                                                        <div class="square-box pull-left">
                                                            <span class="glyphicon glyphicon-user glyphicon-lg"></span>
                                                            <!-- <img class="nav-user-photo" ng-src="{{empleado.imagen}}" alt="Foto" /> -->
                                                        </div>
                                                        <h5>{{empleado.nombre_completo}}</h5>
                                                        <span>CI: {{empleado.ci}}</span>
                                                        <br>
                                                        <span>Cargo: {{empleado.cargos}}</span>
                                                        <br>
                                                        <span>Campamento: {{empleado.campamento}}</span>
                                                        <br>
                                                        <span>Matrícula: {{empleado.matricula_seguro}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                       
                                    </script>
                                </td>
                                <td class="td-sueldos-fix3">{{empleado.fecha_inicio | date:'dd/MM/yyyy'}}</td>
                                <td>{{empleado.sueldoBasico}}</td>
                                <td>{{empleado.dt}}</td>
                                <td>{{empleado.ganado}}</td>
                                <td>{{empleado.horasExtras}}</td>
                                <td>{{empleado.totalHorasExtras}}</td>
                                <td>{{empleado.recargoNocturno}}</td>
                                <td>{{empleado.bonoAntiguedad}}</td>
                                <td>{{empleado.bonoFrontera}}</td>
                                <td>{{empleado.otrosBonos}}</td>
                                <td>{{empleado.totalGanado}}</td>
                                <td>{{empleado.afp}}</td>
                                <td>{{empleado.sol}}</td>
                                <td>{{empleado.pro_v}}</td>
                                <td>{{empleado.cns}}</td>
                                <td>{{empleado.prev_indemnizacion}}</td>
                                <td>{{empleado.prov_aguinaldo}}</td>
                                <td>{{calcularTotalAportes(empleado)}}</td>
                                <td class="">
                                    <a class="blue" href="javascript:void(0)">
                                        <i class="ace-icon fa fa-search-plus bigger-130"></i>
                                    </a>
                                    <a class="green" href="javascript:void(0)"
                                        ng-click="abrirDialogEditarPlanillaSueldo(empleado)">
                                        <i class="ace-icon fa fa-pencil-square-o bigger-130"></i>
                                    </a>
                                    <a class="red" href="javascript:void(0)"
                                        ng-click="abrirDialogEliminarSueldoEmpleado($index, empleado)">
                                        <i class="ace-icon fa fa-trash-o bigger-130"></i>
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td>TOTALES</td>
                                <td>{{totalSueldoBasico}}</td>
                                <td>0</td>
                                <td>{{totalGanadoSueldo}}</td>
                                <td>{{sumaHorasExtras}}</td>
                                <td>{{sumaTotalHorasExtras}}</td>
                                <td>{{sumaRecargoNocturno}}</td>
                                <td>{{sumaBonoAntiguedad}}</td>
                                <td>{{sumaBonoFrontera}}</td>
                                <td>{{sumaOtrosBonos}}</td>
                                <td>{{sumaTotalGanado}}</td>
                                <td>{{sumaAFP}}</td>
                                <td>{{sumaSol}}</td>
                                <td>{{sumaProV}}</td>
                                <td>{{sumaCNS}}</td>
                                <td>{{sumaPrevIndemnizacion}}</td>
                                <td>{{sumaProvAguinaldo}}</td>
                                <td>{{totalAportes(planilla, true)}}</td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>


        </div>
    </div>

    <div class="modal" id="dialog-ver-planilla-carga-social">

        <div class="modal-header ficha">
            <h4 class="modal-title" id="myModalLabel"> Planilla de Cargas Sociales</h4>
        </div>

        <div class="modal-body">
            <div class="">
                <form name="filtrosueldos" class="form-horizontal" novalidate ng-submit="generar(planilla)">
                    <div class="form-group">
                        <div class="col-sm-2">
                            <label>Mes</label>
                            <label class="form-control">{{planillaC.mes.split("-")[1]}}</label>
                        </div>
                        <div class="col-md-2">
                            <label>Año</label>
                            <label class="form-control">{{planillaC.anio}}</label>
                        </div>
                        <div class="col-sm-8 margin-buttons-filter">
                            <!-- <button ng-disabled="!planilla.RecursosHumanosEmpleados" type="submit" class="btn btn-info">
                                <i class=""></i>
                                Guardar
                            </button> -->

                            <button ng-disabled="!planillaC.detalles" type="button"
                                class="btn btn-success" ng-click="imprimirEdicionPlanillaCS(planillaC)">
                                <i class="fa fa-print"></i>
                                Impresión Pdf
                            </button>
                            <button ng-disabled="!planillaC.detalles" type="button"
                                class="btn btn-yellow" ng-click="excelEdicionPlanillaCS(planillaC)">
                                <i class="fa fa-cloud-download align-top bigger-125"></i>
                                Impresión Excel
                            </button>
                            <button type="button" class="btn btn-danger pull-right"
                                ng-click="cerrarVerPlanilla()">
                                <i class="glyphicon glyphicon-remove align-top bigger-125" aria-hidden="true"></i>
                                Salir
                            </button>
                        </div>
                    </div>
                </form>

            </div>


            <div class="table-header">
                Planilla de sueldos
            </div>
            <!-- div.table-responsive -->
            <div class="container-table-planillas" id="scrollp">
                <div id="test" class="table-content2">
                    <table class="table table-sueldos1">
                        <thead>
                            <tr>
                                <th class="td-sueldos-fix1 table-th-static">Nro.</th>
                                <th class="td-sueldos-fix2 table-th-static">Empleado</th>
                                <th class="td-sueldos-fix3 table-th-static">Fecha Ingreso:</th>
                                <th class="">Sueldo Básico:</th>
                                <th class="">DT:</th>
                                <th class="">Ganado:</th>
                                <th class="">Horas Extras:</th>
                                <th class="" width="10%">Total Hrs Extras</th>
                                <th class="">Recargo Nocturno</th>
                                <th class="">Bono Antiguedad</th>
                                <th class="">Bono Frontera</th>
                                <th class="">Otros Bonos</th>
                                <th class="">Total Ganado</th>
                                <th class="">AFP 1.71%</th>
                                <th class="">Sol 3%</th>
                                <th class="">Pro-V. 2%</th>
                                <th class="">CNS 10%</th>
                                <th class="">Prev.Indemn. 8.33%</th>
                                <th class="">Prov.Aguin. 8.33%</th>
                                <th class="">Total Aportes</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="empleado in planillaC.detalles">
                                <td class="td-sueldos-fix1">{{$index+1}}</td>
                                <td class="td-sueldos-fix2">
                                    {{empleado.DetalleFicha.empleado.persona.nombre_completo}}
                                    <a popover-placement="right"
                                        uib-popover-template="dynamicPopoverEmpleado.templateUrl"
                                        popover-trigger="outsideClick: outsideClick" popover-title="Datos"
                                        class="pull-right blue" popover-append-to-body="true"
                                        popover-class="xlpopover title-popover-empleado" class="blue">
                                        <span class="image-empleado">
                                            <span class="fa fa-user "></span>
                                        </span>
                                    </a>

                                    <script type="text/ng-template" id="myPopoverEmpleadoTemplate.html">

                                        <div class="row">
                                            <div class="searchable-container">
                                                <div class="items col-xs-12 col-sm-12 col-md-12 col-lg-12 clearfix">
                                                    <div class="info-block block-info clearfix">
                                                        <div class="square-box pull-left">
                                                            <span class="glyphicon glyphicon-user glyphicon-lg"></span>
                                                            <!-- <img class="nav-user-photo" ng-src="{{empleado.imagen}}" alt="Foto" /> -->
                                                        </div>
                                                        <h5>{{empleado.DetalleFicha.empleado.persona.nombre_completo}}</h5>
                                                        <span>CI: {{empleado.DetalleFicha.empleado.persona.ci}}</span>
                                                        <br>
                                                        <span>Cargo: {{empleado.DetalleFicha.cargos[0].cargo.nombre}}</span>
                                                        <br>
                                                        <span>Campamento: {{empleado.DetalleFicha.empleado.campo.nombre}}</span>
                                                        <br>
                                                        <span>Matrícula: {{empleado.DetalleFicha.matricula_seguro}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                       
                                    </script>
                                </td>
                                <td class="td-sueldos-fix3">{{empleado.DetalleFicha.fecha_inicio | date:'dd/MM/yyyy'}}</td>
                                <td>{{empleado.importe_sueldo_basico}}</td>
                                <td>{{empleado.dt}}</td>
                                <td>{{empleado.ganado}}</td>
                                <td>{{empleado.horas_extras}}</td>
                                <td>{{empleado.importe_horas_extras}}</td>
                                <td>{{empleado.importe_recargo_nocturno}}</td>
                                <td>{{empleado.importe_bono_antiguedad}}</td>
                                <td>{{empleado.importe_bono_frontera}}</td>
                                <td>{{empleado.importe_otros_bonos}}</td>
                                <td>{{empleado.total_ganado}}</td>
                                <td>{{empleado.afp}}</td>
                                <td>{{empleado.sol}}</td>
                                <td>{{empleado.pro_v}}</td>
                                <td>{{empleado.cns}}</td>
                                <td>{{empleado.prev_indemnizacion}}</td>
                                <td>{{empleado.prov_aguinaldo}}</td>
                                <td>{{calcularTotalAportes(empleado)}}</td>
                                <td class="">
                                    <a class="blue" href="javascript:void(0)">
                                        <i class="ace-icon fa fa-search-plus bigger-130"></i>
                                    </a>
                                    <a class="green" href="javascript:void(0)"
                                        ng-click="abrirDialogEditarPlanillaSueldo(empleado)">
                                        <i class="ace-icon fa fa-pencil-square-o bigger-130"></i>
                                    </a>
                                    <a class="red" href="javascript:void(0)"
                                        ng-click="abrirDialogEliminarSueldoEmpleado($index, empleado)">
                                        <i class="ace-icon fa fa-trash-o bigger-130"></i>
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td>TOTALES</td>
                                <td>{{planillaC.importe_sueldo_basico}}</td>
                                <td>0</td>
                                <td>{{planillaC.importe_ganado}}</td>
                                <td>{{planillaC.importe_horas_extras}}</td>
                                <td>{{planillaC.total_horas_extras}}</td>
                                <td>{{planillaC.importe_recargo_nocturno}}</td>
                                <td>{{planillaC.importe_bono_antiguedad}}</td>
                                <td>{{planillaC.importe_bono_frontera}}</td>
                                <td>{{planillaC.importe_otros_bonos}}</td>
                                <td>{{planillaC.importe_total_ganado}}</td>
                                <td>{{planillaC.importe_afp}}</td>
                                <td>{{planillaC.importe_sol}}</td>
                                <td>{{planillaC.importe_pro_v}}</td>
                                <td>{{planillaC.importe_cns}}</td>
                                <td>{{planillaC.importe_prev_indemnizacion}}</td>
                                <td>{{planillaC.importe_prov_aguinaldo}}</td>
                                <td>{{totalAportes(planillaC)}}</td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>


        </div>
    </div>
    <!-- =====  fin modal  nueva planilla sueldos ====== -->
    <!-- =====  modal  editar planilla sueldo ====== -->
    <div id="dialog-editar-planilla-sueldo" class="modal">
        <div class="modal-header ficha">
            <h4 class="modal-title" id="myModalLabel">{{sueldo.nombre_completo}}</h4>
            <h5 class="modal-title">{{planilla.mes.split('-')[1]}} {{planilla.gestion}}</h5>
        </div>
        <div class="modal-body">
            <form>
                <div class="form-group row">
                    <label class="col-sm-3" for="monto">Sueldo Básico</label>
                    <div class="col-sm-3">
                        <input type="number" class="form-control" ng-model="sueldo.sueldoBasico"
                            ng-change="calcularTotalEditados()" name="monto" placeholder="1000">
                    </div>
                    <label class="col-sm-3" for="observaciones">Bono Frontera</label>
                    <div class="col-sm-3">
                        <input type="number" class="form-control" ng-model="sueldo.bonoFrontera" name="bonoFrontera"
                            ng-change="calcularTotalEditados()">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-3" for="interes-pactado">DT</label>
                    <div class="col-sm-3">
                        <input type="number" class="form-control" ng-model="sueldo.dt" disabled="">
                    </div>
                    <label class="col-sm-3" for="observaciones">Otros Bonos</label>
                    <div class="col-sm-3">
                        <input type="number" class="form-control" ng-model="sueldo.otrosBonos" name="otrosBonos"
                            ng-change="calcularTotalEditados()">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-3" for="interes-pactado">Ganado</label>
                    <div class="col-sm-3">
                        <input type="number" class="form-control" ng-model="sueldo.ganado" disabled="">
                    </div>
                    <label class="col-sm-3" for="observaciones">Total Ganado</label>
                    <div class="col-sm-3">
                        <input type="number" class="form-control" ng-model="sueldo.totalGanado" name="totalGanado"
                            disabled="">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-3" for="interes-pactado">Horas extras rol</label>
                    <div class="col-sm-3">
                        <input type="number" class="form-control" ng-model="sueldo.horasExtrasRol"
                            ng-change="calcularTotalEditados()">
                    </div>
                    <label class="col-sm-3" for="observaciones">AFP</label>
                    <div class="col-sm-3">
                        <input type="number" class="form-control" ng-model="sueldo.afp" name="afp" disabled="">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-3" for="interes-pactado">Horas extras</label>
                    <div class="col-sm-3">
                        <input type="number" class="form-control" ng-model="sueldo.horasExtras" disabled="">
                    </div>
                    <label class="col-sm-3" for="observaciones">Sol 3%</label>
                    <div class="col-sm-3">
                        <input type="number" class="form-control" ng-model="sueldo.sol" name="sol" disabled="">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-3" for="fecha-inicial">Total Horas</label>
                    <div class="col-sm-3">
                        <input type="number" class="form-control" ng-model="sueldo.totalHorasExtras" disabled="">
                    </div>
                    <label class="col-sm-3" for="observaciones">Pro-V. 2%</label>
                    <div class="col-sm-3">
                        <input type="number" class="form-control" ng-model="sueldo.pro_v" name="pro_v" disabled="">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-3" for="plazo">Recargo Nocturno</label>
                    <div class="col-sm-3">
                        <input type="number" class="form-control" ng-model="sueldo.recargoNocturno" name="plazo"
                            disabled="">
                    </div>
                    <label class="col-sm-3" for="observaciones">CNS 10%</label>
                    <div class="col-sm-3">
                        <input type="number" class="form-control" ng-model="sueldo.cns" name="cns" disabled="">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-sm-3" for="observaciones">Bono de Antigüedad</label>
                    <div class="col-sm-3">
                        <input type="number" class="form-control" ng-model="sueldo.bonoAntiguedad" name="bonoAntiguedad"
                            disabled="">
                    </div>
                </div>
            </form>
        </div>
        <div class="row">
            <div class="modal-footer wizard-actions">
                <button class="btn btn-primary btn-sm" ng-click="modificarSueldo(sueldo)"><i
                        class="glyphicon glyphicon-floppy-disk"></i>Guardar
                </button>
                <button class="btn btn-danger btn-sm" ng-click="cerrarDialogEditarPlanillaSueldo()"><i
                        class="ace-icon fa fa-times"></i>Cancelar
                </button>
            </div>
        </div>
    </div>
    <!-- ===== fin modal editar planilla sueldo  ====== -->
    <!-- =====  modal parametros ====== -->
    <div id="dialog-parametros" class="modal">
        <div class="modal-header ficha">
            <h4 class="modal-title" id="myModalLabel"> Parametros</h4>
        </div>
        <form ng-submit="editarParametros(parametros)" novalidate>
            <div class="modal-body">

                <div class="row">
                    <div class="form-group col-sm-3">
                        <label for="nombres">Salario Mínimo Nacional</label>
                        <input type="number" class="form-control" ng-model="parametros.salario_minimo">
                    </div>
                    <div class="form-group col-sm-3">
                        <label for="ap-paterno">Decreto Supremo</label>
                        <input type="text" class="form-control " ng-model="parametros.decreto_supremo">
                    </div>
                    <div class="form-group col-sm-3">
                        <label for="ap-paterno">Salarios para RC-IVA</label>
                        <input type="number" class="form-control " ng-model="parametros.salario_rciva">
                    </div>
                    <div class="form-group col-sm-3">
                        <label for="nombres">Porcentaje IVA</label>
                        <input type="number" class="form-control " ng-model="parametros.porcentage_iva">
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-sm-3">
                        <label for="ap-paterno">Seguro de Salud</label>
                        <input type="text" class="form-control " ng-model="parametros.seguro_salud">
                    </div>
                    <div class="form-group col-sm-3">
                        <label for="ap-paterno">Aporte seguro de Salud</label>
                        <input type="number" class="form-control " ng-model="parametros.aporte_serguro_salud">
                    </div>
                    <div class="form-group col-sm-3">
                        <label for="nombres">Número patronal</label>
                        <input type="text" class="form-control " ng-model="parametros.numero_patronal">
                    </div>
                </div>
                <div class="cabezera-ficha">
                    <h4 class="blue">
                        AFP LABORAL SIP
                    </h4>
                </div>
                <div class="row">
                    <div class="form-group col-sm-3">
                        <label for="ap-paterno">Pensión Vejez</label>
                        <input type="number" class="form-control" ng-model="parametros.pension_vejez">
                    </div>
                    <div class="form-group col-sm-3">
                        <label for="ap-paterno">Riesgo Común</label>
                        <input type="number" class="form-control" ng-model="parametros.riesgo_comun">
                    </div>
                    <div class="form-group col-sm-3">
                        <label for="ap-paterno">Comisión</label>
                        <input type="number" class="form-control" ng-model="parametros.comision">
                    </div>
                    <div class="form-group col-sm-3">
                        <label for="ap-paterno">Aporte Solidario</label>
                        <input type="number" class="form-control" ng-model="parametros.aporte_solidario_laboral">
                    </div>
                </div>
                <div class="cabezera-ficha">
                    <h4 class="blue">
                        AFP PATRONAL
                    </h4>
                </div>
                <div class="row">
                    <div class="form-group col-sm-6">
                        <label for="nombres">Riesgo Profesional</label>
                        <input type="number" class="form-control" ng-model="parametros.riesgo_profesional">
                    </div>
                    <div class="form-group col-sm-6">
                        <label for="ap-paterno">Aporte Solidario</label>
                        <input type="number" class="form-control" ng-model="parametros.aporte_solidario_patronal">
                    </div>
                </div>
                <div class="cabezera-ficha">
                    <h4 class="blue">
                        NACIONAL SOLIDARIO
                    </h4>
                </div>
                <div class="row">
                    <div class="form-group col-sm-4">
                        <div class="row">
                            <div class="col-md-12">
                                <label for="document">Rango 1</label>
                            </div>
                            <div class="col-md-8 col-sm-4 col-day">
                                <input type="number" class="form-control"
                                    ng-model="parametros.rango_primero_inicio_solidario">
                            </div>
                            <div class="col-md-4 col-sm-4 col-month">
                                <input type="number" class="form-control"
                                    ng-model="parametros.rango_primero_fin_solidario">
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-sm-4">
                        <div class="row">
                            <div class="col-md-12">
                                <label for="document">Rango 2</label>
                            </div>
                            <div class="col-md-8 col-sm-4 col-day">
                                <input type="number" class="form-control"
                                    ng-model="parametros.rango_segundo_inicio_solidario">
                            </div>
                            <div class="col-md-4 col-sm-4 col-month">
                                <input type="number" class="form-control"
                                    ng-model="parametros.rango_segundo_fin_solidario">
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-sm-4">
                        <div class="row">
                            <div class="col-md-12">
                                <label for="document">Rango 3</label>
                            </div>
                            <div class="col-md-8 col-sm-4 col-day">
                                <input type="number" class="form-control"
                                    ng-model="parametros.rango_tercero_inicio_solidario">
                            </div>
                            <div class="col-md-4 col-sm-4 col-month">
                                <input type="number" class="form-control"
                                    ng-model="parametros.rango_tercero_fin_solidario">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cabezera-ficha">
                    <h4 class="blue">
                        BONO DE ANTIGUEDAD
                    </h4>
                </div>
                <div class="row">
                    <div class="form-group col-sm-6">
                        <label for="ap-materno">Salarios Base</label>
                        <input type="number" class="form-control" ng-model="parametros.salario_base_antiguedad">
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-sm-3">
                        <label for="ap-materno">De 0 a 2 años</label>
                        <input type="number" class="form-control" ng-model="parametros.antiguedad_cero_dos">
                    </div>
                    <div class="form-group col-sm-3">
                        <label for="ap-materno">De 2 a 5 años</label>
                        <input type="number" class="form-control" ng-model="parametros.antiguedad_dos_cinco">
                    </div>
                    <div class="form-group col-sm-3">
                        <label for="ap-materno">De 5 a 8 años</label>
                        <input type="number" class="form-control" ng-model="parametros.antiguedad_cinco_ocho">
                    </div>
                    <div class="form-group col-sm-3">
                        <label for="ap-materno">De 8 a 11 años</label>
                        <input type="number" class="form-control" ng-model="parametros.antiguedad_ocho_once">
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-sm-3">
                        <label for="ap-materno">De 11 a 15 años</label>
                        <input type="number" class="form-control" ng-model="parametros.antiguedad_once_quince">
                    </div>
                    <div class="form-group col-sm-3">
                        <label for="ap-materno">De 15 a 20 años</label>
                        <input type="number" class="form-control" ng-model="parametros.antiguedad_quice_veinte">
                    </div>
                    <div class="form-group col-sm-3">
                        <label for="ap-materno">De 20 a 25 años</label>
                        <input type="number" class="form-control" ng-model="parametros.antiguedad_veinte_veinticinco">
                    </div>
                    <div class="form-group col-sm-3">
                        <label for="ap-materno">Más de 25 años</label>
                        <input type="number" class="form-control" ng-model="parametros.antiguedad_mas_veinticinco">
                    </div>
                </div>



            </div><!-- /.row -->
            <div class="row">
                <div class="modal-footer wizard-actions">

                    <button class="btn btn-primary btn-sm" type="submit"><i
                            class="glyphicon glyphicon-floppy-disk"></i>Guardar
                    </button>
                    <button class="btn btn-danger btn-sm" type="button" ng-click="cerrarDialogParametros()"><i
                            class="ace-icon fa fa-times"></i>Cancelar
                    </button>
                </div>
            </div>
        </form>
    </div>
    <!--- ==== fin modal parametros  ================================ -->
    <!-- =========  dialog TR3 ==========  -->
    <div id="dialog-tr3" class="modal">

        <div class="modal-header bg-primary">
            <h4 class='smaller text-white text-uppercase'><i class='icono-tr3 bigger-160'></i> <label> &nbsp;ARCHIVOS
                    TR3 - BANCO MERCANTIL SANTA CRUZ </label></h4>
        </div>
        <div class="modal-body">
            <div class="row">
                <div class="form-group col-sm-1">
                    <div class="blue buttons-align">
                        <label for="ciudad">Periodo</label>
                    </div>
                </div>
                <div class="form-group col-sm-3">
                    <label for="nombres">Mes</label>
                    <select name="pago" class="form-control">
                        <option></option>
                        <option value="0">ENERO</option>
                    </select>
                </div>
                <div class="form-group col-sm-3">
                    <label for="nombres">Año</label>
                    <select name="pago" class="form-control">
                        <option></option>
                        <option value="2015">2015</option>
                    </select>
                </div>
                <div class="form-group col-sm-4">
                    <div class="buttons-align">
                        <button type="button" class="btn btn-sm btn-primary">
                            <i class="glyphicon glyphicon-floppy-disk"></i>
                            Generar TR3
                        </button>
                        <button type="button" class="btn btn-danger btn-sm">
                            <i class=" fa fa-print align-top "></i>
                            Pdf
                        </button>
                        <button type="button" class="btn btn-success btn-sm">
                            <i class=" fa fa-print align-top "></i>
                            Excel
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="modal-footer wizard-actions">
                <a href="javascript:void(0)" ng-click="abrirDialogHistorialTR3()" class="margin-icons red">
                    <span class="fa fa-h-square bigger-250"></span>
                </a>
                <button class="btn btn-danger btn-sm pull-left" ng-click="cerrarDialogTR3()"><i
                        class="ace-icon fa fa-times"></i>Cancelar
                </button>
            </div>
        </div>
    </div>
    <!--- fin modal TR3 ======== -->
    <!--- ==== modal historial TR3 ================================ -->
    <div id="dialog-historial-tr3" class="modal">
        <div class="modal-header bg-primary">
            <h4 class='smaller text-white text-uppercase'><i class='icono-prerequisito'></i> <label> &nbsp;Historial TR3
                </label></h4>
        </div>
        <div class="row">
            <div class="form-group col-sm-3">
                <label for="nombres">Mes</label>
                <select name="pago" class="form-control">
                    <option></option>
                    <option value="0">ENERO</option>
                </select>
            </div>
            <div class="form-group col-sm-3">
                <label for="ap-paterno">Año</label>
                <select name="pago" class="form-control">
                    <option></option>
                    <option value="2015">2015</option>
                </select>
            </div>
            <div class="form-group col-sm-4">
                <div class="buttons-align">
                    <button type="button" class="btn btn-primary btn-sm">
                        <i class=" fa fa-search-plus align-top "></i>
                        Filtrar
                    </button>
                </div>
            </div>
        </div>
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Mes</th>
                    <th>Año</th>
                    <th>Total Empleados</th>
                    <th>Total Bs.</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Enero</td>
                    <td>2017</td>
                    <td>540</td>
                    <td>542,210</td>
                    <td>
                        <a class="red" href="#">
                            <i class="icono-file-pdf bigger-200"></i>
                        </a>
                        <a class="green" href="#">
                            <i class="icono-file-excel bigger-200"></i>
                        </a>
                        <a class="blue" href="#">
                            <i class="icono-tr3 bigger-200"></i>
                        </a>

                    </td>
                </tr>

            </tbody>
        </table>
        <div class="row">
            <div class="modal-footer wizard-actions">
                <button class="btn btn-danger btn-sm" ng-click="cerrarDialogHistorialTR3()"><i
                        class="ace-icon fa fa-times"></i>Cancelar
                </button>
            </div>
        </div>
    </div>
    <!--- ==== fin modal historial TR3  ================================ -->

    <div id="dialog-eliminar-salario-empleado" title="¿Eliminación de sueldo?" class="modal">
        <p>
            <span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>¿Esta seguro de eliminar
            el sueldo seleccionado de
            <b>{{empleado.persona.nombre_completo}}</b>?

        </p>
        <button type="button" class="btn btn-danger" ng-click="eliminarSueldoEmpleado(index, empleado)">Si</button>
        <button type="button" class="btn btn-success" ng-click="cerrarDialogEliminarSueldoEmpleado()">No</button>
    </div>
</div>
<!-- =========  dialog dialog-generar-comprobante ==========  -->
<div id="dialog-generar-comprobante" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h4>Generar Comprobamte</h4>
            <h5 class="modal-title">({{data.mes.split("-")[1]}} {{data.anio}})</h5>
        </div>
        <div class="modal-body">
            <a href="javascript:void(0)" ng-click="verRedistribucion=!verRedistribucion">
                <i ng-if="!verRedistribucion" class="fa fa-arrow-circle-o-down bigger-160" aria-hidden="true"></i>
                <i ng-if="verRedistribucion" class="fa fa-arrow-circle-o-up bigger-160" aria-hidden="true"></i>
                Redistribución de Campamentos
            </a>
            <div class="row" ng-if="verRedistribucion">
                <div class="col-md-4" ng-repeat="campo in datosPlanillaCargaSocialCC.arrayCampos | orderBy:'id'">
                    <div class="row" style="height: 300px;">

                        <div class="col-md-12">
                            <hr>
                            <b>{{campo.campo.nombre}}</b>
                            <div class="pull-right">
                                <input type="checkbox" ng-model="campo.administrativo" name="radio_field[]" value="1"
                                    class="ace arrowed" ng-change="obtenerFechasCalendarioS(calendario)">
                                <label class="lbl label-info text-white" for="checkbox1">&nbsp;Administrativo
                                    &nbsp;</label>
                            </div>
                        </div>
                        <div class="col-md-12 text-info">
                            <h6><b>T.G.:</b>{{campo.importeSumaTotalGanado | number:2}}.&nbsp;
                                <b>T. Aporte:</b>{{campo.importeSumaTotalAportes| number:2}}.&nbsp;
                                <b>T. Agui.:</b>{{campo.importeTotalAguinaldos| number:2}}.&nbsp;
                                <b>T. Ind.:</b>{{campo.importeTotalIndemnizacion| number:2}}.&nbsp;
                            </h6>
                            <p>
                            <h6>
                                <b>F. Viv.:</b>{{campo.importeSumaFondoVivienda| number:2}}.&nbsp;
                                <b>S.S. CPS.:</b>{{campo.importeSumaSeguroSocialCPS| number:2}}.&nbsp;
                                <b>S.S. AFP.:</b>{{campo.importeSumaSeguroSocialAFP| number:2}}.&nbsp;
                            </h6>
                            </p>
                            <p>
                            <h6>
                                <b>R. P/Ind.:</b>{{campo.importeSumaReservaIndemnizacion| number:2}}.&nbsp;
                                <b>A. P/P.:</b>{{campo.importeSumaAguinaldosPagar| number:2}}.&nbsp;
                                <b>t. Trabj.:</b>{{campo.trabajadores.length}}.&nbsp;                                
                            </p>
                            <p>
                            <h6> <b class="text-danger">({{campo.porcentaje| number:2}} % del total ganado.</b>)</h6>
                            </p>
                        </div>
                        <div class="col-md-12 ps">
                            <ui-select multiple ng-model="campo.camposReferidos" theme="bootstrap"
                                ng-hide="campo.campoConReferencia" style="width: 100%;"
                                title="seleccionar para redistribuir"
                                ng-change="verificarCamposReferidos(campo);calcularPorcentajeCC(campo.camposReferidos,$item)">
                                <ui-select-match placeholder="seleccionar para redistribuir..." allow-clear="false">
                                    <span style="color:black">{{$item.nombre}}</span>
                                    <span>
                                        <input type="number" class="input-sm" ng-model="$item.porcentaje"
                                            style="width: 35px;" placeholder="%"
                                            ng-change="calcularPorcentajeCC(campo.camposReferidos,$item)">
                                    </span>
                                    <span class="close" ng-hide="$select.disabled"
                                        ng-click="$selectMultiple.removeChoice($index);verificarCamposReferidos(campo)">&nbsp;×</span>
                                </ui-select-match>
                                <ui-select-choices
                                    repeat="centroCosto in datosPlanillaCargaSocialCC.centrosDeCostos | filter:{nombre:$select.search,habilitado:true}">
                                    <span>
                                        {{centroCosto.nombre}}
                                    </span>
                                </ui-select-choices>
                            </ui-select>
                            <span class="text text-info" ng-show="campo.campoConReferencia">El campo cuenta con
                                referencias de otros campos por lo cual no puede realizar referencia.</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary btn-sm" type="button" ng-click="crearComprobanteDesdePS()">
                <i class="glyphicon glyphicon-floppy-disk"></i>Generar
            </button>
            <button type="button" class="btn btn-danger btn-sm" ng-click="cerrarDialogGenerarComprobante()">
                <i class="ace-icon fa fa-times"></i>Cancelar
            </button>
        </div>
    </div>
</div>
<!-- ========= fin dialog dialog-generar-comprobante ==========  -->