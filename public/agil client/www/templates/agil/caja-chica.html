<div class="conteiner cajachica">
    <h3 class="header smaller lighter blue">CAJA CHICA</h3>
    <div>
        <!--    <button id="nuevo" ng-disabled="!aplicacion.puede_crear" class="btn btn-primary" ng-click="abrirModalSolicitudCajaChica()">
            <i class="ace-icon fa fa-plus align-top bigger-125"></i>
            Nuevo
        </button> -->
        <button type="button" ng-disabled="!usuario.encargado_caja_chica" class="btn-woBox button-glow"
            ng-click="abrirModalRegistroIngresoCajaChica(undefined,false,false)">
            <i class="ace-icon fa fa-plus-circle align-top bigger-130"></i>Ingreso
        </button>&nbsp&nbsp
        <button type="button" class="btn btn-warning" ng-click="abrirModalIngresosCajaChica()">
            <i class="ace-icon fa fa-h-square  bigger-125"></i>Historial Ingresos
        </button>
        <button type="button" ng-disabled="!usuario.encargado_caja_chica" class="btn btn-danger"
            ng-click="abrirModalVerificarCierreCajaChica()">
            <i class="ace-icon fa fa-print bigger-125"></i> Cierre Caja
        </button>
        <button type="button" class="btn btn-success" ng-click="abrirModalHistorialCierreCajaChica()">
            <i class="ace-icon fa fa-h-square  bigger-125"></i>Historial Cierres Caja
        </button>
        <select required data-validate="validate(required)" ng-change="obtenerListaSolicitudes(filtro)" required
            ng-options="sucursal as sucursal.nombre for sucursal in sucursales track by sucursal.id"
            ng-model="sucursalPrincipal">
            <option value="">Seleccionar</option>
        </select>
        <form name="formularioFiltroCuentas" novalidate ng-submit="obtenerListaSolicitudes(filtro)">

            <div class="row">
                <div class="form-inline" class="col-sm-12 col-md-12">
                    <label class="inline">
                        <span class="lbl">
                            <legend>FILTRO CAJA CHICA</legend>
                        </span>
                    </label>
                    <button type="button" class="btn btn-success btn-sm pull-right"
                        ng-click="obtenerListaSolicitudes()">
                        <i class="ace-icon fa fa-search align-top bigger-125"></i>Todos
                    </button>&nbsp&nbsp
                    <button type="button" class="btn btn-info btn-sm pull-right"
                        ng-click="obtenerListaSolicitudes(filtro,'KARDEX')">
                        <i class="ace-icon fa fa-search align-top bigger-125"></i>Fondo a Rendir
                    </button>&nbsp&nbsp

                </div>
            </div>
            <table class="table table-striped table-bordered table-hover">
                <tbody>
                    <tr>
                        <td>

                        </td>
                        <td>
                            <label>Desde</label>&nbsp
                        </td>
                        <td>
                            <label>Hasta</label>&nbsp
                        </td>
                        <td colspan="2">
                        </td>
                        <td colspan="3">
                            <b>SALDO CAJA</b>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label>PERIODO</label>&nbsp
                        </td>
                        <td>
                            <div ng-class="{'has-error-date':fechasIncorrectaInic}">
                                <input moment-picker="filtro.inicio" locale="es" format="DD/MM/YYYY" start-view="month"
                                    class="form-control" type="text" id="fechainicio" ng-model="filtro.inicio"
                                    placeholder="Ingrese la fecha inicial" autocomplete="off"
                                    ng-change="validarFechaI(filtro.inicio,filtro.fin)" />
                            </div>
                        </td>
                        <td>
                            <div ng-class="{'has-error-date':fechasIncorrectaFin}">
                                <datepicker date-format="dd/MM/yyyy" datepicker-mobile="true">
                                    <input class="form-control" type="text" id="fechafin" ng-model="filtro.fin"
                                        placeholder="Ingrese la fecha final" autocomplete="off"
                                        ng-change="validarFechaF(filtro.inicio,filtro.fin)" />
                                </datepicker>
                            </div> &nbsp
                        </td>
                        <td colspan="2">
                            <button id="biton-filtro" type="submit"
                                ng-disabled="formularioFiltroCuentas.$invalid ||fechasIncorrectaInic ||fechasIncorrectaFin"
                                class="btn-primary btn btn-app btn-xs">
                                <i class="ace-icon fa fa-search align-top bigger-125"></i>
                                BUSCAR
                            </button>
                            <button id="pdf" class="btn btn-app btn-danger btn-xs"
                                ng-click="imprimirFiltroCajaCartaOficio(filtro)">
                                <i class="ace-icon fa fa-print bigger-160"></i>
                                PDF
                            </button>
                            <!-- ng-disabled="!Cuentas" -->
                            <button id="excel" class="btn btn-app btn-success btn-xs"
                                ng-click="imprimirFiltroExcelCajaCartaOficio(filtro)">
                                <i class="ace-icon fa fa-print bigger-160"></i>
                                Excel
                            </button>
                            <button id="control" ng-click="imprimirControlGastoPDF(filtro)">
                                <i class="ace-icon fa fa-print bigger-160"></i>
                            </button>
                        </td>
                        <td colspan="3">
                            <div class="row">
                                <div class="col-md-4">
                                    <p>Total Caja</p>
                                </div>
                                <div class="col-md-8">
                                    <b>
                                        <span>
                                            BS.{{totalCaja|number:2}} .-
                                        </span>
                                    </b>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <span>Total Vales</span>

                                    <a id="vales" class="red" ng-click="abrirModallistaVales()">
                                        <i class="ace-icon fa fa-book bigger-130"></i>
                                    </a>

                                </div>
                                <div class="col-md-8">
                                    <b>
                                        <span>
                                            BS.{{totalVales|number:2}} .-
                                        </span>
                                    </b>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <p>Total Real</p>
                                </div>
                                <div class="col-md-8">
                                    <b>
                                        <span>
                                            BS.{{totalCaja-totalVales|number:2}} .-
                                        </span>
                                    </b>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            &nbsp
                        </td>
                        <td>
                            <label>Beneficiario</label>&nbsp
                        </td>
                        <td>
                            <label>Usuario</label>&nbsp
                        </td>
                        <td>
                            <label>Proveedor (nit,razon social)</label>&nbsp
                        </td>
                        <td>
                            <label>Campo</label>&nbsp
                        </td>
                        <td>
                            <label>Concepto</label>&nbsp
                        </td>
                        <td>
                            <label>Estado</label>&nbsp
                        </td>
                        <td>
                            <label>Movimiento</label>&nbsp
                        </td>
                    </tr>
                    <tr>
                        <td>
                            FILTRO
                        </td>
                        <td>
                            <input type="text" ng-model="filtro.solicitante"
                                ng-class="filtro.solicitante?'filter-bg-yellow':''">
                        </td>
                        <td>
                            <input type="text" ng-model="filtro.usuario"
                                ng-class="filtro.usuario?'filter-bg-yellow':''">
                        </td>
                        <td>
                            <input type="text" ng-model="filtro.proveedor"
                                ng-class="filtro.proveedor?'filter-bg-yellow':''">
                        </td>
                        <td>
                            <select id="filtro-trabajadores-campo-rol" class="form-control"
                                ng-options="centroCosto.id as centroCosto.nombre for centroCosto in centrosDeCostos | filter:{habilitado:true} track by centroCosto.id"
                                ng-model="filtro.campo" ng-class="filtro.campo?'filter-bg-yellow':''">
                                <option value="">--selecionar--</option>
                            </select>
                        </td>
                        <td>
                            <select ng-disabled ng-model="filtro.concepto" class="form-control"
                                ng-options="concepto.id as concepto.nombre for concepto in ConceptosMovimiento | filter:{habilitado:true} track by concepto.id"
                                ng-class="filtro.concepto?'filter-bg-yellow':''">
                                <option value="">Seleccionar</option>
                            </select>
                        </td>
                        <td>
                            <select ng-disabled ng-model="filtro.estado" class="form-control"
                                ng-options="estado.id as estado.nombre for estado in tiposEstados | orderBy:'numero'| filter:{habilitado:true} track by estado.id"
                                ng-class="filtro.estado?'filter-bg-yellow':''">
                                <option value="">Seleccionar</option>
                            </select>
                        </td>
                        <td>
                            <select class="form-control" ng-model="filtro.movimiento"
                                ng-options="movimiento.id as movimiento.nombre for movimiento in tiposMovimientos.clases | filter:{habilitado:true} track by movimiento.id"
                                ng-class="filtro.movimiento?'filter-bg-yellow':''">
                                <option value="">Seleccionar</option>
                            </select>
                        </td>
                    </tr>
                </tbody>
            </table>
        </form>
        <div class="table-header"
            ng-class="tipoFiltro=='TODOS' ? 'bg-green' : tipoFiltro=='INGRESO' ? 'bg-yellow' : tipoFiltro=='KARDEX' ? 'bg-sky-blue' : 'bg-sky-blue'">
            <!-- <div class="row">
                <div class="col-sm-12">
                    <h4 class="col-sm-4 widget-title">Lista de
                        <span ng-if="tipoFiltro=='TODOS'">Solicitudes</span>
                        <span ng-if="tipoFiltro=='KARDEX'">Fondos a Rendir</span>
                        <span ng-if="tipoFiltro=='INGRESO'">Ingresos</span>
                    </h4>
                    <div class="col-sm-8 inline pos-rel pull-right">
                        <span ng-hide="solicitud.ver" class="fa fa-pencil bigger-160" ng-click="abrirModalConceptosMovimiento(tiposConceptos)"></span>
                    </div>
                </div>

            </div> -->
            Lista de
            <span ng-if="tipoFiltro=='TODOS'">Solicitudes</span>
            <span ng-if="tipoFiltro=='KARDEX'">Fondos a Rendir</span>
            <span ng-if="tipoFiltro=='INGRESO'">Ingresos</span>
            <div class="inline pos-rel pull-right">

                <div class="col-sm-10" ng-include src="'/templates/gral/fields-viewer.html'"></div>
            </div>
            <div class="pos-rel pull-right">
                <span ng-if="usuario.rolesUsuario[0].rol.nombre==diccionario.ROL_ADMINISTRADOR"
                    class="fa fa-pencil bigger-160" ng-click="abrirModalConceptosMovimiento(tiposConceptos)"></span>
            </div>
        </div>

        <!-- div.table-responsive -->

        <!-- div.dataTables_borderWrap -->
        <div>
            <div id="tabla-productos_wrapper" class="dataTables_wrapper form-inline no-footer">
                <div class="row">
                    <div class="col-sm-6">
                        <div>
                            <label>
                                Mostrar <select ng-model="paginator2.itemsPerPage" ng-change="paginator2.getFirstPage()"
                                    name="tabla-proveedores_length" aria-controls="tabla-proveedores"
                                    class="form-control input-sm">
                                    <option value="0">Todos</option>
                                    <option ng-selected="true" value="10">10</option>
                                    <option value="25">25</option>
                                    <option value="50">50</option>
                                    <option value="100">100</option>
                                </select> Elementos</label>
                        </div>
                    </div>
                    <div class="col-sm-6" align="right">
                        <div>
                            <label>Buscar:
                                <input class="form-control input-sm" type="search" ng-model="textSearch"
                                    ng-model-options='{ debounce: 600 }'
                                    ng-change="paginator2.getSearch(textSearch,paginator2.filter,$event)">
                            </label>
                        </div>
                    </div>
                </div>
                <div style="overflow-x:auto;">
                    <table id="tabla-caja-chica" class="table table-striped table-bordered">
                        <thead>
                            <tr>
                                <th class="center">N°</th>
                                <th class="center" ng-if="fieldViewer.getConfiguration().usuario_solicitante.show">
                                    <a href="javascript:void(0)"
                                        ng-click="paginator2.sortColumn('usuario_solicitante',obtenerLista)">Usuario
                                        Solicitante
                                        <span id="usuario_solicitante" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>
                                <th class="center" ng-if="fieldViewer.getConfiguration().fecha.show">
                                    <a href="javascript:void(0)"
                                        ng-click="paginator2.sortColumn('fecha',obtenerLista)">Fecha
                                        <span id="fecha" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>
                                <th class="center" ng-if="fieldViewer.getConfiguration().documento.show">
                                    <a href="javascript:void(0)"
                                        ng-click="paginator2.sortColumn('doc',obtenerLista)">Doc
                                        <span id="doc" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>
                                <th class="center" ng-if="fieldViewer.getConfiguration().beneficiario.show">
                                    <a href="javascript:void(0)"
                                        ng-click="paginator2.sortColumn('beneficiario',obtenerLista)">Beneficiario
                                        <span id="beneficiario" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>
                                <th class="center" ng-if="fieldViewer.getConfiguration().proveedor.show">
                                    <a href="javascript:void(0)"
                                        ng-click="paginator2.sortColumn('proveedor',obtenerLista)">Proveedor
                                        <span id="proveedor" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>
                                <th class="center" ng-if="fieldViewer.getConfiguration().numero_orden.show">
                                    <a href="javascript:void(0)"
                                        ng-click="paginator2.sortColumn('numero_orden_compra',obtenerLista)">Nº orden
                                        <span id="numero_orden_compra" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>
                                <th class="center" ng-if="fieldViewer.getConfiguration().autorizador.show">
                                    <a href="javascript:void(0)"
                                        ng-click="paginator2.sortColumn('autorizador',obtenerLista)">Autorizador
                                        <span id="autorizador" class="sort fa fa-sort icon-only"></span>
                                    </a>

                                </th>
                                <th class="center" ng-if="fieldViewer.getConfiguration().verificador.show">
                                    <a href="javascript:void(0)"
                                        ng-click="paginator2.sortColumn('verificador',obtenerLista)">Verificador
                                        <span id="verificador" class="sort fa fa-sort icon-only"></span>
                                    </a>

                                </th>
                                <th class="center" ng-if="fieldViewer.getConfiguration().area.show">
                                    <a href="javascript:void(0)"
                                        ng-click="paginator2.sortColumn('area',obtenerLista)">Área
                                        <span id="area" class="sort fa fa-sort icon-only"></span>
                                    </a>

                                </th>
                                <th class="center" ng-if="fieldViewer.getConfiguration().campo.show">
                                    <a href="javascript:void(0)"
                                        ng-click="paginator2.sortColumn('campo',obtenerLista)">Campo
                                        <span id="campo" class="sort fa fa-sort icon-only"></span>
                                    </a>

                                </th>
                                <th class="center" ng-if="fieldViewer.getConfiguration().movimiento.show">
                                    <a href="javascript:void(0)"
                                        ng-click="paginator2.sortColumn('movimiento',obtenerLista)">Movimiento
                                        <span id="movimiento" class="sort fa fa-sort icon-only"></span>
                                    </a>

                                </th>

                                <th class="center" ng-if="fieldViewer.getConfiguration().concepto.show">
                                    <a href="javascript:void(0)"
                                        ng-click="paginator2.sortColumn('concepto',obtenerLista)">Concepto
                                        <span id="concepto" class="sort fa fa-sort icon-only"></span>
                                    </a>

                                </th>
                                <th class="center" ng-if="fieldViewer.getConfiguration().detalle.show">
                                    <a href="javascript:void(0)"
                                        ng-click="paginator2.sortColumn('detalle',obtenerLista)">Detalle
                                        <span id="detalle" class="sort fa fa-sort icon-only"></span>
                                    </a>

                                </th>
                                <th class="center" ng-if="fieldViewer.getConfiguration().estado.show">
                                    <a href="javascript:void(0)"
                                        ng-click="paginator2.sortColumn('estado',obtenerLista)">Estado
                                        <span id="estado" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>
                                <th class="center" ng-if="fieldViewer.getConfiguration().monto.show">
                                    <a href="javascript:void(0)"
                                        ng-click="paginator2.sortColumn('monto',obtenerLista)">Monto
                                        <span id="monto" class="sort fa fa-sort icon-only"></span>
                                    </a>

                                </th>
                                <th class="center">
                                    Acciones

                                </th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr ng-repeat="solicitud in solicitudesCajaChica">
                                <td>
                                    {{($index+1)+(paginator2.itemsPerPage*(paginator2.currentPage-1))}}
                                </td>
                                <td ng-if="fieldViewer.getConfiguration().usuario_solicitante.show">
                                    {{solicitud.usuario.persona.nombre_completo}}
                                </td>
                                <td ng-if="fieldViewer.getConfiguration().fecha.show">
                                    {{solicitud.fecha|date:'dd/MM/yyyy'}}
                                </td>
                                <td ng-if="fieldViewer.getConfiguration().documento.show">
                                    <p ng-if="solicitud.concepto.concepto.nombre!='GASTO'">
                                        {{solicitud.cajasChicas[0].numero_correlativo}}</p>
                                    <p ng-repeat="caja in solicitud.cajasChicas"
                                        ng-if="solicitud.concepto.concepto.nombre=='GASTO'">{{caja.numero_correlativo}}
                                    </p>
                                    <p ng-if="solicitud.cajasChicas.length>1" class="orange">
                                        <span
                                            ng-if="solicitud.cajasChicas[1].concepto.nombre=='INCREMENTO'">{{solicitud.cajasChicas[1].numero_correlativo}}</span>
                                    </p>
                                </td>
                                <td ng-if="fieldViewer.getConfiguration().beneficiario.show">
                                    {{solicitud.solicitante.persona.nombre_completo}}
                                </td>
                                <td ng-if="fieldViewer.getConfiguration().proveedor.show">
                                    {{solicitud.proveedor.razon_social}}
                                </td>
                                <td ng-if="fieldViewer.getConfiguration().numero_orden.show">
                                    {{solicitud.numero_orden_compra}}
                                </td>
                                <td ng-if="fieldViewer.getConfiguration().autorizador.show">
                                    {{solicitud.autorizador.persona.nombre_completo}}
                                </td>
                                <td ng-if="fieldViewer.getConfiguration().verificador.show">
                                    {{solicitud.verificador.persona.nombre_completo}}
                                </td>
                                <td ng-if="fieldViewer.getConfiguration().area.show">
                                    {{solicitud.solicitante.empleadosFichas[solicitud.solicitante.empleadosFichas.length-1].area.nombre}}
                                </td>
                                <td ng-if="fieldViewer.getConfiguration().campo.show">
                                    {{solicitud.solicitante.campo.nombre}}
                                </td>
                                <td ng-if="fieldViewer.getConfiguration().movimiento.show">
                                    {{solicitud.concepto.concepto.nombre}}</td>
                                <td ng-if="fieldViewer.getConfiguration().concepto.show">
                                    <p>{{solicitud.concepto.nombre}}</p>
                                </td>
                                <td ng-if="fieldViewer.getConfiguration().detalle.show">{{solicitud.detalle}}</td>
                                <td ng-if="fieldViewer.getConfiguration().estado.show"
                                    ng-style="{'background-color': (solicitud.estado.nombre_corto===diccionario.CC_ESTADO_ANULADO)?'red' : 'auto','color': (solicitud.estado.nombre_corto==diccionario.CC_ESTADO_ANULADO)?'White' : 'auto'}">
                                    {{solicitud.estado.nombre}}</td>
                                <td ng-if="fieldViewer.getConfiguration().monto.show">
                                    <span ng-if="tipoFiltro=='TODOS'"> {{solicitud.monto|number:2}} .-</span>
                                    <p ng-if="solicitud.cajasChicas.length>0" class="orange">
                                        <span>{{solicitud.cajasChicas[1].monto|number:2}}
                                        </span>
                                    </p>
                                </td>
                                <td>
                                    <div class="action-buttons">
                                        <!-- proveedor -->
                                        <a ng-if="usuario.encargado_caja_chica && !solicitud.eliminado && (solicitud.estado.nombre_corto==diccionario.CC_ESTADO_AUTORIZADO||solicitud.estado.nombre_corto==diccionario.CC_ESTADO_VERIFICADO)  && solicitud.concepto.concepto.nombre=='PROVEEDOR'"
                                            class="blue tooltip-info " uib-tooltip="Reembolso" href="javascript:void(0)"
                                            tooltip-placement="left"
                                            e-disabled="!aplicacion.puede_crear || !usuario.encargado_caja_chica"
                                            ng-click="abrirModalRegistroProveedorCajaChica(solicitud,false,false)">
                                            <i class="ace-icon fa fa-folder  bigger-130">R</i>
                                        </a>
                                        <!-- proveedor -->
                                        <a ng-if="!solicitud.eliminado && solicitud.estado.nombre_corto==diccionario.CC_ESTADO_PENDIENTE"
                                            class="blue tooltip-info " tooltip-placement="left"
                                            uib-tooltip="Autorizar Solicitud" href="javascript:void(0)"
                                            e-disabled="!aplicacion.puede_crear "
                                            ng-click="abrirModalVerificarAutorizacion(solicitud,'autorizacion')">
                                            <i class="ace-icon fa fa-pencil-square  bigger-130">A</i>
                                        </a>
                                        <a ng-if="usuario.encargado_rendicion_caja_chica && !solicitud.eliminado && (solicitud.estado.nombre_corto==diccionario.CC_ESTADO_DESEMBOLSADO)  && solicitud.concepto.concepto.nombre_corto=='KARDEX'"
                                            class="blue tooltip-info " uib-tooltip="Reposición"
                                            href="javascript:void(0)" tooltip-placement="left"
                                            e-disabled="!aplicacion.puede_crear || !usuario.encargado_rendicion_caja_chica"
                                            ng-click="ObtenerRegistroCajaChica(solicitud)">
                                            <i class="ace-icon fa fa-folder  bigger-130">R</i>
                                        </a>
                                        <a ng-if="usuario.encargado_caja_chica && !solicitud.eliminado && (solicitud.estado.nombre_corto==diccionario.CC_ESTADO_AUTORIZADO||solicitud.estado.nombre_corto==diccionario.CC_ESTADO_VERIFICADO)  && solicitud.concepto.concepto.nombre=='GASTO'"
                                            class="blue tooltip-info " uib-tooltip="Reembolso" href="javascript:void(0)"
                                            tooltip-placement="left"
                                            e-disabled="!aplicacion.puede_crear || !usuario.encargado_caja_chica"
                                            ng-click="ObtenerRegistroCajaChica(solicitud)">
                                            <i class="ace-icon fa fa-folder  bigger-130">R</i>
                                        </a>
                                        <a ng-if="usuario.encargado_caja_chica && !solicitud.eliminado && (solicitud.estado.nombre_corto==diccionario.CC_ESTADO_AUTORIZADO||solicitud.estado.nombre_corto==diccionario.CC_ESTADO_VERIFICADO)  && solicitud.concepto.concepto.nombre=='ANTICIPO'"
                                            class="blue tooltip-info " uib-tooltip="Reembolso" href="javascript:void(0)"
                                            tooltip-placement="left"
                                            e-disabled="!aplicacion.puede_crear || !usuario.encargado_caja_chica"
                                            ng-click="abrirModalRegistroAnticipoCajaChica(solicitud,false,false)">
                                            <i class="ace-icon fa fa-folder  bigger-130">R</i>
                                        </a>
                                        <a ng-hide="!usuario.encargado_caja_chica || solicitud.cajasChicas.length>0"
                                            ng-if="usuario.encargado_caja_chica && !solicitud.eliminado && solicitud.estado.nombre_corto==diccionario.CC_ESTADO_AUTORIZADO  && solicitud.concepto.concepto.nombre_corto=='KARDEX'"
                                            class="red tooltip-info " uib-tooltip="Desembolso" href="javascript:void(0)"
                                            tooltip-placement="left"
                                            e-disabled="!aplicacion.puede_crear || !usuario.encargado_caja_chica"
                                            ng-click="abrirModalRegistroDesembolsoCajaChica(solicitud,false,false)">
                                            <i class="ace-icon fa fa-folder  bigger-130">D</i>
                                        </a>
                                        <a ng-hide="solicitud.eliminado"
                                            ng-if="solicitud.concepto.concepto.nombre_corto=='KARDEX'"
                                            class="orange tooltip-info " tooltip-placement="left"
                                            uib-tooltip="kardex solicitud" href="javascript:void(0)"
                                            e-disabled="!aplicacion.puede_crear"
                                            ng-click="abrirModalKardexCajaChica(solicitud)">
                                            <i class="ace-icon fa fa-file-text-o  bigger-130"></i>
                                        </a>
                                        <a ng-hide="solicitud.eliminado"
                                            ng-if="solicitud.concepto.concepto.nombre=='GASTO'"
                                            class="orange tooltip-info " tooltip-placement="left"
                                            uib-tooltip="kardex solicitud" href="javascript:void(0)"
                                            e-disabled="!aplicacion.puede_crear"
                                            ng-click="abrirModalKardexGastoCajaChica(solicitud)">
                                            <i class="ace-icon fa fa-file-text-o  bigger-130"></i>
                                        </a>
                                        <a class="red tooltip-info "
                                            ng-if="!solicitud.eliminado && solicitud.concepto.concepto.nombre!='GASTO' "
                                            uib-tooltip="IMprimir Recibo" href="javascript:void(0)"
                                            tooltip-placement="left"
                                            ng-click="generarPdfBoletaCajaChica(solicitud,solicitud.cajasChicas[0])">
                                            <i class="ace-icon fa fa-print  bigger-130"></i>
                                        </a>
                                        <a tooltip-placement="left"
                                            ng-if="!solicitud.eliminado && solicitud.estado.nombre_corto!=diccionario.CC_ESTADO_PROCESADO && solicitud.estado.nombre_corto!=diccionario.CC_ESTADO_ANULADO && solicitud.estado.nombre_corto!=diccionario.CC_ESTADO_DESEMBOLSADO"
                                            class="red tooltip-info " uib-tooltip="Eliminar" href="javascript:void(0)"
                                            e-disabled="!aplicacion.puede_eliminar"
                                            ng-click="abrirModalEliminarSolicitud(solicitud)">
                                            <i class="ace-icon fa fa-trash-o bigger-130"></i>
                                        </a>
                                        <a tooltip-placement="left"
                                            ng-if="(!solicitud.eliminado && solicitud.concepto.concepto.nombre_corto==diccionario.CC_MOV_KARDEX && solicitud.estado.nombre_corto!=diccionario.CC_ESTADO_PROCESADO && solicitud.estado.nombre_corto!=diccionario.CC_ESTADO_AUTORIZADO && solicitud.estado.nombre_corto!=diccionario.CC_ESTADO_PENDIENTE) && solicitud.cajasChicas.length<2"
                                            class="green tooltip-info " uib-tooltip="Incremento"
                                            href="javascript:void(0)" e-disabled="!aplicacion.puede_eliminar"
                                            ng-click="abrirModalVerificarAutorizacion(solicitud,'incremento')">
                                            <i class="ace-icon fa fa-plus-circle bigger-130"></i>
                                        </a>
                                        <a tooltip-placement="left" style="color: black"
                                            ng-if="solicitud.concepto.concepto.nombre_corto==diccionario.CC_MOV_KARDEX && (solicitud.estado.nombre_corto==diccionario.CC_ESTADO_VERIFICADO || solicitud.estado.nombre_corto==diccionario.CC_ESTADO_PROCESADO)"
                                            class="tooltip-info" uib-tooltip="Fondo a rendir" href="javascript:void(0)"
                                            e-disabled="!aplicacion.puede_crear"
                                            ng-click="abrirModalDetalleGastosFondo(solicitud)">
                                            <i class="ace-icon fa fa-file-text  bigger-130"></i>
                                        </a>
                                    </div>


                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div>
                            Mostrando página {{paginator2.currentPage}} de {{paginator2.pages.length}}
                        </div>
                    </div>
                    <div class="col-sm-6" align="right">
                        <ul class="pagination">
                            <li class="paginate_button">
                                <a href="javascript:void(0)" ng-click="paginator2.getFirstPage()">Primero</a>
                            </li>
                            <li class="paginate_button">
                                <a href="javascript:void(0)" e-disabled="paginator2.currentPage==1"
                                    ng-click="paginator2.getPreviousPage()">
                                    <i class="fa fa-angle-double-left" aria-hidden="true"></i></a></a>
                            </li>
                            <li class="paginate_button" ng-class="{active:paginator2.currentPage==page}"
                                ng-repeat="page in paginator2.pages" ng-if="abs(paginator2.currentPage-page)<4">
                                <a e-disabled="paginator2.currentPage==page" href="javascript:void(0)"
                                    ng-click="paginator2.getPage(page)">{{page}}</a>
                            </li>
                            <li class="paginate_button">
                                <a href="javascript:void(0)"
                                    e-disabled="paginator2.currentPage==paginator2.pages.length"
                                    ng-click="paginator2.getNextPage()"><i class="fa fa-angle-double-right"
                                        aria-hidden="true"></i></a></a>
                                </lidiv>
                            <li class="paginate_button">
                                <a href="javascript:void(0)" ng-click="paginator2.getLastPage()">Ultimo</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- inicio solicitud -->
<div class="modal" id="dialog-solicitud">
    <div class="modal-content">
        <div class="modal-header bg-primary">
            <button type="button" ng-click="cerrarModalSolicitudCajaChica()" class="close" data-dismiss="modal"
                aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title">SOLICITUD DE CAJA CHICA</h4>
        </div>
        <form id="form-conf-imp" name="form-conf-imp" ng-submit="guardarSolicitudCajaChica()">
            <div class="modal-body">

                <div class="row">
                    <div class="col-md-4">
                        <label class="inline">

                            <span class="lbl">Usuario:</span>
                        </label>
                    </div>
                    <div class="col-md-8">
                        {{usuario.persona.nombre_completo}}
                    </div>
                </div>
                <div class="space-4"></div>
                <div class="row">
                    <div class="col-md-4">
                        <label class="inline">

                            <span class="lbl">Fecha:</span>
                        </label>
                    </div>
                    <div class="col-md-8">
                        {{solicitud.fecha|date:'dd/MM/yyyy'}}
                    </div>
                </div>
                <div class="space-4"></div>
                <div class="row">
                    <div class="col-md-4">
                        <label class="inline">

                            <span class="lbl">Solicitante:</span>
                        </label>
                    </div>
                    <div class="col-md-8">
                        <input ng-disabled="solicitud.ver" ng-disabled="evaluacion.ver != undefined"
                            ng-keypress="interceptarTecla($event,'id_servicio',true)" autocomplete="off" required
                            type="text" ng-model="solicitud.solicitante" placeholder="Busqueda de personal..."
                            uib-typeahead="personal as personal.persona.nombre_completo for personal in buscarPersonal($viewValue)"
                            typeahead-wait-ms="2000" typeahead-template-url="templates/autocompletar.html"
                            typeahead-show-hint="false" typeahead-min-length="1"
                            typeahead-on-select="establecerPersonal($item, $model, $label, $event)">
                    </div>
                </div>
                <div class="space-4"></div>
                <div class="row">

                    <div class="col-md-4">
                        <label class="inline">

                            <span class="lbl">Concepto</span>
                        </label>
                    </div>

                    <div class="col-md-8">
                        <div class="row">

                            <div class="col-md-10">
                                <select ng-disabled="solicitud.ver" ng-model="solicitud.concepto" class="form-control"
                                    ng-options="concepto as concepto.nombre for concepto in ConceptosMovimiento | filter:{habilitado:true} track by concepto.id">
                                    <option value="">Seleccionar</option>
                                </select>
                            </div>
                            <div class="col-md-1" align=? "left">
                                <div class="space-4"></div>
                                <span ng-hide="solicitud.ver" class="fa fa-pencil bigger-160"
                                    ng-click="abrirModalConceptosMovimiento(tiposConceptos)"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="space-4"></div>
                <div class="row">
                    <div class="col-md-4">
                        <label class="inline">

                            <span class="lbl">Detalle</span>
                        </label>
                    </div>
                    <div class="col-md-8">
                        <textarea required ng-disabled="solicitud.ver" class="form-control" cols="30" rows="4"
                            ng-model="solicitud.detalle"></textarea>
                    </div>
                </div>
                <div class="space-4"></div>
                <div class="row">
                    <div class="col-md-4">
                        <label class="inline">
                            <span class="lbl">Monto:</span>
                        </label>
                    </div>
                    <div class="col-md-8">
                        <input ng-disabled="solicitud.ver" type="number" required step="0.001" min="1" required
                            ng-model="solicitud.monto" class="form-control">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button ng-hide="solicitud.ver" type="submit" class="btn btn-primary">Guardar</button>
                <button type="button" class="btn btn-danger" ng-click="cerrarModalSolicitudCajaChica()">Cerrar</button>

            </div>
        </form>
    </div>
</div>
</div>
<!-- fin solicitud -->

<!-- === modal conceptos movimiento"==== -->
<div id="dialog-conceptos-movimiento" class="modal" item-width="500">
    <div class="modal-header bg-primary">
        <h4 class='smaller text-white text-uppercase'>
            <i class='icono-prerequisito'></i>
            <label> &nbsp;CONCEPTOS MOVIMIENTO</label>
        </h4>
    </div>
    <form ng-submit="AgregarConceptosMovimientoCajaChica(clase)">
        <div class="row">

            <div class="col-sm-3">
                <div class="form-group">
                    <label for="ciudad">Concepto</label>
                    <input type="text" ng-model="clase.nombre" type="text" ng-model-options="{updateOn: 'submit'}"
                        capitalize style="text-transform:uppercase;" class="form-control" id="concepto" name="ciudad"
                        placeholder="Bolivia">
                </div>
            </div>
            <div class="col-sm-4">
                <div class="form-group">
                    <label for="ciudad">Movimiento</label>
                    <select class="form-control" ng-model="clase.concepto" ng-model-options="{updateOn: 'submit'}"
                        ng-options="movimiento as movimiento.nombre for movimiento in tiposMovimientos.clases | filter:{habilitado:true} track by movimiento.id">
                    </select>
                </div>
            </div>
            <div class="col-sm-2">
                <br>
                <div class="form-group">
                    <!-- <button type="button" class="btn btn-success" ng-click="AgregarDepartamento(clase)">
                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                        </button> -->
                    <button ng-if="!clase.edit" type="submit" class="btn btn-success">
                        <span class="glyphicon glyphicon-plus" aria-hidden="true">Agregar</span>
                    </button>
                    <button ng-if="clase.edit" type="submit" class="btn btn-primary">
                        <span class="glyphicon glyphicon-plus" aria-hidden="true">Modificar</span>
                    </button>
                    <button ng-if="clase.edit" type="button" class="btn btn-danger"
                        ng-click="cancelarEdicionConcepotMovimientoCajaChica(clase)">
                        <span class="" aria-hidden="true">Cancelar</span>
                    </button>
                </div>
            </div>
        </div>
    </form>
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>nombre</th>
                <th>Movimiento</th>
                <th>Habilitar</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="concepto in ConceptosMovimiento track by $index">
                <th scope="row">{{concepto.nombre}}</th>
                <th scope="row">{{concepto.concepto.nombre}}</th>

                <td>
                    <label>
                        <input name="switch-field-1" class="ace ace-switch ace-switch-5" type="checkbox"
                            ng-model="concepto.habilitado">
                        <span class="lbl check-espaniol"></span>
                    </label>
                </td>
                <td>
                    <a ng-click="editarConceptoMovimientoCajaChica(concepto)">
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    </a>
                </td>
            </tr>
        </tbody>
    </table>
    <div class="row">
        <div class="modal-footer wizard-actions">
            <button class="btn btn-primary btn-sm" ng-click="guardarConceptoMovimientoCajaChica()">
                <i class="glyphicon glyphicon-floppy-disk"></i>Guardar
            </button>
            <button class="btn btn-danger btn-sm" ng-click="cerrarModalConceptosMovimiento()">
                <i class="ace-icon fa fa-times"></i>Cancelar
            </button>
        </div>
    </div>
</div>
<!-- ========= fin departamento estado ========= -->
<!-- =========eliminar solicitud ========= -->
<div id="dialog-eliminar-solicitud" title="¿Eliminación de Seguro?" class="modal">
    <p>
        <span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>¿Esta seguro de eliminar la
        solicitud seleccionado?
    </p>
    <button type="button" class="btn btn-danger" ng-click="eliminarSolicitud()">Si</button>
    <button type="button" class="btn btn-success" ng-click="cerrarModalEliminarSolicitud()">No</button>
</div>
<!-- ========= fin modal eliminar solicitud ========= -->
<!-- inicio confirmar usuario Autorizado-->
<div id="modal-verificar-autorizacion" title="Asignar Cuenta" class="modal">
    <form name="formularioAsignarCuenta" ng-submit="verificarPerimisoAutorizacion(cuenta)">
        <div class="modal-header">
            <p>
            <h3 ng-if="tipoDatosPermiso =='autorizacion'">Verificar Permiso de Autorización</h3>
            <h3 ng-if="tipoDatosPermiso =='incremento'">Verificar Permiso para Incremento</h3>
            </p>
        </div>
        <div class="modal-body">
            <div>
                <span>Clave</span>
                <input required class="form-control" type="password" name="contra" ng-model="cuenta.clave">
                <p class="red" ng-if="claveconfirmacionCuentaSolicitud">Clave incorrecta</p>
            </div>
        </div>
        <div class="modal-footer">
            <div class="col-sm-6">
                <button type="submit" class="btn btn-success"
                    ng-if="tipoDatosPermiso =='autorizacion'">Autorizar</button>
                <button type="submit" class="btn btn-success" ng-if="tipoDatosPermiso =='incremento'">Verificar
                    Cuenta</button>
            </div>


            <div class="col-sm-6">
                <button type="button" class="btn btn-danger"
                    ng-click="cerrarModalVerificarAutorizacion()">Cancelar</button>
            </div>
        </div>
    </form>
</div>
<!-- verificar imprecion vale caja chica -->
<div id="modal-vale-caja-chica" class="modal">
    <form name="formularioVale" ng-submit="GenerarValeCajaChica()">
        <div class="modal-header">
            <p>
            <h3>Crear Vale</h3>
            </p>
        </div>
        <div class="modal-body">
            <h4>¿Esta seguro de crear el vale?</h4>
        </div>
        <div class="modal-footer">
            <div class="col-sm-6">

                <button type="submit" class="btn btn-success">Aceptar</button>
            </div>


            <div class="col-sm-6">
                <button type="button" class="btn btn-danger" ng-click="cerrarModalValeCajaChica()">Cancelar</button>
            </div>
        </div>
    </form>
</div>
<!-- fin verificar vale caja chica -->
<div id="modal-verificacion-cierre-caja-chica" class="modal">
    <form name="formularioAsignarCuenta" ng-submit="obtenerDatosCierreCaja()">
        <div class="modal-header">
            <p>
            <h3>Cierre Caja Chica</h3>
            </p>
        </div>
        <div class="modal-body">
            <p>Esta seguro de realizar el cierre de caja?</p>
        </div>
        <div class="modal-footer">
            <div class="col-sm-6">
                <button type="submit" class="btn btn-success">Cerrar Caja</button>
            </div>
            <div class="col-sm-6">
                <button type="button" class="btn btn-danger"
                    ng-click="cerrarModalVerificarCierreCajaChica()">Cancelar</button>
            </div>
        </div>
    </form>
</div>
<!-- fin  confirmar usuario Autorizado -->
<!-- inicio incremento solicitud-->
<div id="modal-incremento-solicitud" class="modal">
    <form name="formularioAsignarCuenta" ng-submit="guardarIncrementoSolicitud()">
        <div class="red modal-header">
            <p>
            <h3>Incremento Solicitud</h3>

            </p>
        </div>
        <div class="modal-body">
            <div>
                <p ng-if="incrementoDeRendicion" class="text-info">el incremento proviende de la rendicion de fondo Nº
                    {{rendicion.numero_correlativo}} </p>
                <p ng-if="incrementoDeRendicion" class="text-info">con total {{rendicion.total|number:2}} generando un
                    incremento de:</p>
                <span>Monto</span>
                <input ng-disabled="incrementoDeRendicion" required class="form-control" type="number" min="0"
                    step=".000001" ng-model="solicitud.incremento">

            </div>
        </div>
        <div class="modal-footer">
            <div class="col-sm-6">
                <button type="submit" class="btn btn-success">Guardar</button>
            </div>


            <div class="col-sm-6">
                <button type="button" class="btn btn-danger"
                    ng-click="cerrarModalIncrementoSolicitud()">Cancelar</button>
            </div>
        </div>
    </form>
</div>
<!-- fin  incremento solicitud -->
<!-- inicio registro caja chica -->
<div class="modal" id="dialog-registro-caja-chica">
    <div class="modal-content">
        <div class="modal-header bg-primary">
            <button type="button" ng-click="cerrarModalRegistroCajaChica()" class="close" data-dismiss="modal"
                aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            <P>
            <h4 class="modal-title">REGISTRO CAJA CHICA</h4>
            </P>
            <P>{{solicitud.solicitante.persona.nombre_completo}}</P>

        </div>
        <form id="registroCajaFrom" name="registroCajaFrom"
            ng-submit="verificarFormRegistroCajaChica(registroCajaFrom.$invalid)">
            <div class="modal-body">
                <div class="row">
                    <div ng-class="cajaChica.verDatosCompra ? 'col-md-6' : 'col-md-12'">
                        <div class="row">
                            <div class=col-md-9>
                                <div class="row">
                                    <div class="col-md-4">
                                        <label class="inline">
                                            <span class="lbl">Fecha:</span>
                                        </label>
                                    </div>
                                    <div class="col-md-8">
                                        <datepicker date-format="dd/MM/yyyy" datepicker-mobile="true">
                                            <input type="text" ng-disabled="cajaChica.ver || retencionActivo"
                                                id="ver-info-compra" ng-model-options="{updateOn: 'submit'}"
                                                ng-model="cajaChica.fecha" class="form-control">
                                        </datepicker>
                                    </div>
                                </div>
                                <div class="space-4"></div>
                                <div class="row" ng-if="retencionActivo">
                                    <div class="col-md-4">
                                        <label class="inline">
                                            <span>Gasto:</span>
                                        </label>
                                    </div>
                                    <div class="col-md-8">
                                        <input id="gastoinput" name="gastoinput" type="text" placeholder="Gasto"
                                            autocomplete="off" class="form-control" ng-model="cajaChica.gasto"
                                            uib-typeahead="gasto as (gasto.nombre+', '+gasto.nivel.nombre) for gasto in gastosFr | filter:{eliminado:false} | filter:$viewValue"
                                            typeahead-show-hint="true"
                                            typeahead-on-select="establecerGasto($item, $model, $label, $event)"
                                            ng-blur="establecerGasto(ingresoGasto.gasto)"
                                            typeahead-append-to-body="true" typeahead-template-url="customTemplate.html"
                                            typeahead-focus-on-select="false" typeahead-min-length="0">
                                        <script type="text/ng-template" id="customTemplate.html">
                                            <a>
                                                <i style="color: green" class="icon fa fa-money bigger-200"></i>
                                                <span ng-bind-html="match.label | uibTypeaheadHighlight:query"></span>
                                            </a>
                                        </script>
                                        <p ng-if="gastoNoAsignado" class="red">El gasto esta mal
                                            asignada!</p>
                                    </div>
                                </div>
                                <div class="space-4"></div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <label class="inline">
                                            <span class="lbl">Concepto</span>
                                        </label>
                                    </div>

                                    <div class="col-md-8">
                                        <select ng-if="cajaChica.solicitud!=null" required
                                            ng-disabled="cajaChica.ver || retencionActivo"
                                            ng-model-options="{updateOn: 'submit'}" ng-model="cajaChica.concepto"
                                            class="form-control"
                                            ng-options="concepto as concepto.nombre for concepto in ConceptosMovimiento | filter:{habilitado:true}|filtroEgresos track by concepto.id">
                                            <option value="">Seleccionar</option>
                                        </select>
                                        <select ng-if="cajaChica.solicitud==null" required
                                            ng-disabled="cajaChica.ver || retencionActivo"
                                            ng-model-options="{updateOn: 'submit'}" ng-model="cajaChica.concepto"
                                            class="form-control"
                                            ng-options="concepto as concepto.nombre for concepto in ConceptosMovimiento | filter:{habilitado:true}|filtroIngresos track by concepto.id">
                                            <option value="">Seleccionar</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="space-4"></div>
                                <div class="row">

                                    <div class="col-md-4">
                                        <label class="inline">
                                            <span class="lbl">Campo</span>
                                        </label>
                                    </div>
                                    <div class="col-md-8 col-sm-12">
                                        <div isteven-multi-select disable-property="disabled" input-model="campamento"
                                            output-model="cajaChica.campos" on-item-click="registroCajaFrom.$setDirty()"
                                            button-label="icon nombre" item-label="icon nombre maker"
                                            tick-property="ticked" translation="localLang" max-labels="5" required>
                                        </div>
                                        <p ng-if="mensajeValidacionCentroCosto" class="red">Seleecionar Centros de
                                            Costos</p>
                                    </div>
                                    <!-- <div class="col-md-8">
                                        <select required id="filtro-trabajadores-campo-rol" class="form-control" name="centroDeCostos"
                                            ng-options="centroCosto.id as centroCosto.nombre for centroCosto in centrosDeCostos | filter:{habilitado:true} track by centroCosto.id"
                                            ng-model="cajaChica.campo">
                                            <option value="">--selecionar--</option>
                                        </select>
                                    </div> -->
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="row">

                                    <div class="col-md-6">
                                        <div class="space-4"></div>
                                        <a ng-if="solicitud.concepto.concepto.nombre=='GASTO' && !solicitud.vale"
                                            href="javascript:void(0)" ng-click="abrirModalValeCajaChica()"
                                            class="red tooltip-info" tooltip-placement="left"
                                            uib-tooltip="Imprimir Vale">
                                            <i class="ace-icon fa fa-file-text-o bigger-200 icon-only "></i>
                                        </a>
                                        <a ng-if="solicitud.vale" popover-placement="right" uib-tooltip="Datos Vale"
                                            href="javascript:void(0)" tooltip-placement="left"
                                            uib-popover-template="dynamicPopoverValeCaja.templateUrl"
                                            popover-trigger="outsideClick: outsideClick" popover-title="Datos Vale"
                                            popover-append-to-body="true" class="blue">
                                            <span class="fa fa-h-square bigger-200"></span>
                                        </a>
                                        <script type="text/ng-template" id="myPopoverTemplateValeCaja.html">
                                        <div class="form-group">
                                            <div class=row>
                                                <div class="col-md-4">
                                                    N°:
                                                </div>
                                                <div class="col-md-8">
                                                    {{solicitud.vale.numero_correlativo}}
                                                </div>
                                            </div>
                                            <div class=row>
                                                <div class="col-md-4">
                                                    Fecha:
                                                </div>
                                                <div class="col-md-8">
                                                    {{solicitud.vale.fecha|date:'dd/MM/yyyy'}}
                                                </div>
                                            </div>
                                            <div class=row>
                                                <div class="col-md-4">
                                                    Monto:
                                                </div>
                                                <div class="col-md-8">
                                                    {{solicitud.vale.monto}}
                                                </div>
                                            </div>
                                            <div class=row>
                                                <div class="col-md-4">
                                                    Estado:
                                                </div>
                                                <div class="col-md-8">
                                                    {{solicitud.vale.estado.nombre}}
                                                </div>
                                            </div>
                                            <div class=row>
                                                <div class="col-md-4">
                                                    Acciones:
                                                </div>
                                                <div class="col-md-8">
                                                    <a class="green" href="javascript:void(0)" ng-click="ImprimirValeCajaChica(solicitud.vale,true)">
                                                        <i class="ace-icon fa fa-print bigger-130"></i>
                                                    </a>
                                                    <a class="red" ng-if="solicitud.vale.estado.nombre_corto==diccionario.CC_ESTADO_VALE_PENDIENTE"
                                                        href="javascript:void(0)" ng-click="darDeBajaValeCajaChica(solicitud.vale)">
                                                        <i class="green ace-icon fa fa-unlock bigger-130"></i>

                                                    </a>
                                                    <a class="red" ng-if="solicitud.vale.estado.nombre_corto==diccionario.CC_ESTADO_VALE_PROCESADO"
                                                        href="javascript:void(0)">

                                                        <i class="red ace-icon fa fa-lock bigger-130"></i>
                                                    </a>
                                                </div>
                                            </div>

                                        </div>

                                        </script>

                                    </div>
                                    <div class="col-md-6">
                                        <a href="javascript:void(0)" ng-if="cajaChica.solicitud || !retencionActivo"
                                            ng-click="verDatosCompra()" class="red tooltip-info"
                                            tooltip-placement="left" uib-tooltip="Editar Datos Compra">
                                            <i class="ace-icon icono-impuestos bigger-260 icon-only "></i>
                                        </a>
                                    </div>
                                </div>


                            </div>
                        </div>

                        <div class="space-4"></div>
                        <div class="row">
                            <div class="col-md-3">
                                <label class="inline">

                                    <span class="lbl">Detalle</span>
                                </label>
                            </div>
                            <div class="col-md-9">
                                <textarea required autofocus class="form-control" ng-disabled="cajaChica.ver"
                                    ng-model-options="{updateOn: 'submit'}" cols="30" rows="4"
                                    ng-model="cajaChica.detalle"></textarea>
                            </div>
                        </div>
                        <div class="space-4"></div>
                        <div class="row">
                            <div class="col-md-3">
                                <label class="inline">

                                    <span class="lbl">Cuenta:</span>
                                </label>
                            </div>
                            <div class="col-md-9">
                                <input enter autocomplete="off" ng-disabled="cajaChica.ver|| retencionActivo"
                                    typeahead-append-to-body="true"
                                    ng-keypress="interceptarTecla($event,'cantidad',true)" required type="text"
                                    ng-model="cajaChica.cuenta" placeholder="Busqueda..."
                                    uib-typeahead="cuenta as (cuenta.codigo+'-'+cuenta.nombre) for cuenta in buscarCuentasCajaChica($viewValue)"
                                    typeahead-wait-ms="1000" typeahead-template-url="templates/autocompletar.html"
                                    typeahead-show-hint="false" typeahead-min-length="1"
                                    typeahead-on-select="establecerCuenta($item, $model, $label, $event)">
                                <p class="text-danger" ng-if=" validarCuenta">La cuenta no es valida</p>
                            </div>
                        </div>
                        <div class="space-4"></div>
                        <div class="row" ng-if="!cajaChica.solicitud">
                            <div class="col-md-3">
                                <label class="inline">

                                    <span class="lbl">Monto:</span>
                                </label>
                            </div>
                            <div class="col-md-9">
                                <input class="form-control" step="0.01" min="1" required
                                    ng-model-options="{updateOn: 'submit'}" type="number" ng-model="cajaChica.total">
                            </div>
                        </div>
                        <div class="space-4"></div>
                        <div ng-show="cajaChica.verDatosCompra && !retencionActivo">
                            <div class="widget-box" ng-if="cajaChica.compra.usar_producto">
                                <div class="widget-header">
                                    <h4 class="widget-title">BUSQUEDA PRODUCTO</h4>
                                </div>
                                <div class="widget-body">
                                    <div class="widget-main">

                                        <table class="table table-striped table-bordered table-hover">



                                            <tbody>
                                                <tr>
                                                    <td>
                                                        <p>PRODUCTO</p>
                                                        <input id="id_producto" type="text"
                                                            ng-model="detalleCompra.producto.nombre"
                                                            ng-disabled="!cajaChica.compra.movimiento.clase.id"
                                                            placeholder="Ingrese el nombre del producto..."
                                                            ng-change="verificarCamposDetalleCompra(detalleCompra)">
                                                        <!-- typeahead-wait-ms="1000" typeahead-template-url="templates/autocompletar.html" typeahead-show-hint="false" uib-typeahead="producto as (producto.codigo+'-'+producto.nombre+'-'+producto.unidad_medida+'-'+producto.descripcion) for producto in buscarProducto($viewValue)"
                                                                typeahead-min-length="3" typeahead-on-select="establecerProducto($item, $model, $label, $event)" ng-keypress="interceptarTecla($event,'fecha_vencimiento',true)" -->
                                                    </td>
                                                    <td>
                                                        <p>C. U. (Bs/u)</p>
                                                        <input id="costo_unitario"
                                                            ng-disabled="!cajaChica.compra.movimiento.clase.id"
                                                            ng-keypress="interceptarTecla($event,'cantidad',true)"
                                                            class="col-xs-12"
                                                            ng-change="calcularImporte();verificarCamposDetalleCompra(detalleCompra)"
                                                            step="0.001" ng-model="detalleCompra.costo_unitario"
                                                            type="number" />


                                                    </td>
                                                    <td>
                                                        <p>CANT. (u)</p>
                                                        <input ng-if="!insertarImporte"
                                                            ng-disabled="!cajaChica.compra.movimiento.clase.id"
                                                            id="cantidad"
                                                            ng-keypress="interceptarTecla($event,'agregar_detalle_compra',false)"
                                                            class="col-xs-12"
                                                            ng-change="calcularImporte();verificarCamposDetalleCompra(detalleCompra)"
                                                            ng-model="detalleCompra.cantidad" type="number"
                                                            step="0.001" />
                                                        <span ng-if="insertarImporte">{{detalleCompra.cantidad}}</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <p>IMP. (Bs)</p>
                                                        <span ng-if="!insertarImporte">{{detalleCompra.importe}}</span>
                                                        <input type="number" name="imp" id="imp" ng-if="insertarImporte"
                                                            ng-change="calcularIngresoImporte();verificarCamposDetalleCompra(detalleCompra)"
                                                            ng-model="detalleCompra.importe">
                                                        <a e-disabled="!cajaChica.compra.movimiento.clase.id"
                                                            href="javascript:void(0)" ng-if="!ErrorImporte"
                                                            ng-click="AgregarImporte()" uib-tooltip="Ingresar importe">
                                                            <i class="blue fa fa-circle"></i></a>
                                                        <a e-disabled="!cajaChica.compra.movimiento.clase.id"
                                                            href="javascript:void(0)" ng-if="!ErrorImporte"
                                                            ng-click="ingresarTotalRestanteImporte()"
                                                            uib-tooltip="Ingresar Total Restante"> <i
                                                                class="green fa fa-circle"></i></a>
                                                        <p class="red" ng-if="ErrorImporte">el importe no puede ser
                                                            mayor a {{totalRestante}}</p>
                                                    </td>
                                                    <td>
                                                        <p>ACC.</p>
                                                        <button
                                                            ng-hide="cajaChica.compra.importe==cajaChica.solicitud.monto"
                                                            id="agregar_detalle_compra" type="button"
                                                            ng-disabled="verificacionDatos || ErrorImporte"
                                                            ng-click="verificarProducto(detalleCompra)"
                                                            class="btn btn-success btn-sm">
                                                            <i class="ace-icon fa fa-plus bigger-110"></i>
                                                        </button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>

                                    </div>
                                </div>
                            </div>
                            <div class="widget-box" ng-if="!cajaChica.compra.usar_producto">
                                <div class="widget-header">
                                    <h4 class="widget-title">BUSQUEDA SERVICIOS</h4>
                                </div>
                                <div class="widget-body">
                                    <div class="widget-main">

                                        <table class="table table-striped table-bordered table-hover">

                                            <tr>
                                                <td>
                                                    <p>SERVICIO</p>
                                                    <label class="input-group">
                                                        <span
                                                            class="input-group-addon glyphicon glyphicon-pencil point-edit green"
                                                            ng-click="abrirDialogServicios(datosServicios)"></span>


                                                        <input id="id_servicio" autocomplete="off"
                                                            ng-keypress="interceptarTecla($event,'fecha_vencimiento',true)"
                                                            ng-disabled="!cajaChica.compra.movimiento.clase.id"
                                                            type="text" ng-model="detalleCompra.servicio.nombre"
                                                            placeholder="Ingrese el nombre del servicio..."
                                                            uib-typeahead="servicio as (servicio.nombre+'-'+servicio.nombre_corto) for servicio in datosServicios.clases"
                                                            typeahead-wait-ms="1000"
                                                            typeahead-template-url="templates/autocompletar.html"
                                                            typeahead-show-hint="false" typeahead-min-length="3"
                                                            typeahead-on-select="establecerServicio($item, $model, $label, $event)">
                                                    </label>
                                                </td>
                                                <td>
                                                    <p>C. U. (Bs/u)</p>
                                                    <input autofocus onfocus="this.select();" id="costo_unitario"
                                                        ng-disabled="!cajaChica.compra.movimiento.clase.id"
                                                        ng-keypress="interceptarTecla($event,'cantidad',true)"
                                                        class="col-xs-12"
                                                        ng-change="calcularImporte();verificarCamposDetalleCompra(detalleCompra,true)"
                                                        step="0.001" ng-model="detalleCompra.costo_unitario"
                                                        type="number" />
                                                </td>
                                                <td>
                                                    <p>CANT. (u)</p>
                                                    <input id="cantidad"
                                                        ng-keypress="interceptarTecla($event,'agregar_detalle_compra',false)"
                                                        ng-disabled="!cajaChica.compra.movimiento.clase.id"
                                                        class="col-xs-12"
                                                        ng-change="calcularImporte();verificarCamposDetalleCompra(detalleCompra,true)"
                                                        ng-model="detalleCompra.cantidad" type="number" step="0.001" />
                                                </td>

                                            </tr>
                                            <tr>

                                                <td>
                                                    <p>IMP. (Bs)</p>
                                                    {{detalleCompra.importe}}
                                                    <a href="javascript:void(0)" ng-if="!ErrorImporte"
                                                        ng-click="redondiarImporte()"> <i class="fa fa-circle"></i></a>
                                                    <p class="red" ng-if="ErrorImporte">el importe no puede ser mayor a
                                                        {{totalRestante}}</p>
                                                </td>
                                                <td>
                                                    <p>ACC.</p>
                                                    <button id="agregar_detalle_compra"
                                                        ng-hide="cajaChica.compra.importe==cajaChica.solicitud.monto"
                                                        type="button" ng-disabled="verificacionDatos|| ErrorImporte"
                                                        ng-click="verificarServicio(detalleCompra)"
                                                        class="btn btn-success btn-sm">
                                                        <i class="ace-icon fa fa-plus bigger-110"></i>
                                                    </button>
                                                </td>
                                            </tr>

                                        </table>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div ng-show="cajaChica.verDatosCompra" style="height: 500px; overflow: auto" class="col-sm-6">
                        <div class="widget-header">
                            <h4 class="widget-title">DATOS DE COMPRA</h4>
                            &nbsp;
                        </div>
                        <table class="table table-striped table-bordered table-hover">
                            <tr ng-if="usuario.empresa.usar_funciones_erp">
                                <td>
                                    <label>MOVIMIENTO
                                        <a ng-if="cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_DIARIO"
                                            class="pull-right" e-disabled="cajaChica.ver" href="javascript:void(0)"
                                            ng-click="generarDescuentoGasolina()"
                                            ng-style="{'background-color':cajaChica.descuentoGasolina?  'orange': 'auto'}">
                                            <img src="img/Gas-Pump-icon.png" height="20" width="20" alt="">

                                        </a>
                                    </label>
                                    <select style="width:180px" ng-if="!retencionActivo"
                                        ng-disabled="cajaChica.ver ||cajaChica.compra.detallesCompra.length>0"
                                        ng-change="verificarMomivmiento(cajaChica.compra)"
                                        data-validate="validate(required)" required id="movimiento" name="movimiento"
                                        ng-model="cajaChica.compra.movimiento.clase"
                                        data-placeholder="Click para escoger" class="form-control"
                                        ng-options="movimiento as movimiento.nombre for movimiento in movimientosIngreso track by movimiento.id">
                                        <option value="">Seleccionar</option>

                                    </select>
                                    <select style="width:180px" ng-if="retencionActivo" ng-disabled="cajaChica.ver"
                                        ng-change="verificarMomivmiento(cajaChica.compra);calcularImporte()"
                                        data-validate="validate(required)" required id="movimiento" name="movimiento"
                                        ng-model="cajaChica.compra.movimiento.clase"
                                        data-placeholder="Click para escoger" class="form-control"
                                        ng-options="movimiento as movimiento.nombre for movimiento in movimientosIngresoRetencion track by movimiento.id">
                                        <option value="">Seleccionar</option>

                                    </select>
                                    <span class="red">(*)</span>


                                </td>
                                <td>

                                    <div class="col-md-8">
                                        <div>
                                            <label>PRODUCTO</label>
                                        </div>

                                        <label uib-tooltip="Usar Producto">

                                            <input
                                                ng-disabled="cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_IMPORTACION||cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS||cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_BIENES||cajaChica.compra.detallesCompra.length>0"
                                                ng-model="cajaChica.compra.usar_producto" checked="checked"
                                                type="checkbox" class="ace ace-switch ace-switch-5">
                                            <span class="lbl"
                                                data-lbl="Si&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No"></span>
                                        </label>

                                    </div>

                                    <div class="col-md-6"
                                        ng-if="cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS||cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_BIENES">

                                        <div>
                                            <label>EMPRESA</label>
                                        </div>



                                    </div>
                                    <div class="col-md-6"
                                        ng-if="cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS||cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_BIENES">
                                        <label uib-tooltip="Tipo Retencion??">

                                            <input ng-change="calcularImporte()"
                                                ng-disabled="cajaChica.compra.detallesCompra.length>0"
                                                ng-model="cajaChica.compra.tipo_retencion" checked="checked"
                                                type="checkbox" class="ace ace-switch ace-switch-5">
                                            <span class="lbl"
                                                data-lbl="Si&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No"></span>
                                        </label>
                                    </div>
                                    <div class="col-md-12 alert alert-info"
                                        ng-if="cajaChica.compra.detallesCompra.length>0 && !cajaChica.ver">

                                        <strong><i class="ace-icon fa fa-exclamation-triangle"></i></strong>

                                        Si desea cambiar elimine el <strong>detalle de la compra</strong>
                                        <br>
                                    </div>

                                </td>
                            </tr>
                            <tr>
                                <td>

                                </td>
                                <td>
                                    <label>MONTO</label>
                                    <!--  <input disabled ng-if="cajaChica.solicitud!=null && cajaChica.solicitud.cajasChicas.length>0 && cajaChica.solicitud.concepto.concepto.nombre=='GASTO'"
                                        required class="form-control" type="number" step="0.001" min="1" max="{{saldoMontoGasto}}"
                                        ng-model="cajaChica.compra.total">

                                    <input disabled ng-if="cajaChica.solicitud!=null && cajaChica.solicitud.cajasChicas.length>0 && cajaChica.solicitud.concepto.concepto.nombre!='GASTO'"
                                        required class="form-control" 
                                        type="number" step="0.001" min="1" max="{{cajaChica.solicitud.cajasChicas[0].saldo}}"
                                        ng-model="cajaChica.compra.total">

                                    <input disabled ng-if="cajaChica.solicitud!=null && cajaChica.solicitud.cajasChicas.length==0"
                                        required class="form-control" 
                                        type="number" step="0.001" min="1" ng-model="cajaChica.compra.total">
                                    <input disabled ng-if="cajaChica.solicitud==null" required class="form-control"
                                        type="number" ng-model="cajaChica.compra.total"> -->
                                    <p align="center">{{cajaChica.compra.total|number:2}}</p>
                                </td>
                            </tr>

                            <tr>

                                <td>
                                    <label
                                        ng-if="cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_DIARIO || cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_IMPORTACION">NIT</label>
                                    <label
                                        ng-if="cajaChica.compra.movimiento.clase.nombre_corto!=diccionario.MOVING_DIARIO && cajaChica.compra.movimiento.clase.nombre_corto!=diccionario.MOVING_POR_IMPORTACION">CI</label>
                                    <input id="nit" class="form-control"
                                        ng-keypress="interceptarTecla($event,'razon_social',true)"
                                        ng-disabled="!cajaChica.ver && cajaChica.compra.proveedor.razon_social && ListaProveedoresRZ.length > 0"
                                        data-validate="validate(required)" required type="number" step="0.001" min="0"
                                        ng-model="cajaChica.compra.proveedor.nit" placeholder="Ingrese el NIT..."
                                        uib-typeahead="proveedor as proveedor.nit for proveedor in buscarProveedorNit($viewValue)"
                                        typeahead-wait-ms="2000" typeahead-template-url="templates/autocompletar.html"
                                        typeahead-show-hint="false" typeahead-min-length="0"
                                        typeahead-on-select="establecerProveedor($item, $model, $label, $event)">
                                    <span class="red">(*)</span>
                                </td>
                                <td>
                                    <label>RAZÓN SOCIAL</label>
                                    <input id="razon_social" class="form-control"
                                        ng-keypress="interceptarTecla($event,'factura',true)"
                                        ng-disabled="!cajaChica.ver && cajaChica.compra.proveedor.nit && ListaProveedoresNIT.length > 0"
                                        data-validate="validate(required)" required type="text"
                                        ng-model="cajaChica.compra.proveedor.razon_social"
                                        placeholder="Ingrese la Razon Social"
                                        uib-typeahead="proveedor as proveedor.razon_social for proveedor in buscarProveedorRazon($viewValue)"
                                        typeahead-wait-ms="2000" typeahead-template-url="templates/autocompletar.html"
                                        typeahead-show-hint="false" typeahead-min-length="0"
                                        typeahead-on-select="establecerProveedor($item, $model, $label, $event)">
                                    <span class="red">(*)</span>
                                </td>
                            </tr>
                            <tr
                                ng-if="cajaChica.compra.movimiento.clase.nombre_corto!=diccionario.MOVING_POR_COMPRA_SIN_FACTURA && cajaChica.compra.movimiento.clase.nombre_corto!=diccionario.MOVING_POR_RETENCION_SERVICIOS && cajaChica.compra.movimiento.clase.nombre_corto!=diccionario.MOVING_POR_RETENCION_BIENES">
                                <td
                                    ng-if="cajaChica.compra.movimiento.clase.nombre_corto!=diccionario.MOVING_POR_IMPORTACION">
                                    <label>NÚM. FACTURA</label>
                                    <input id="factura_cc" class="form-control" ng-disabled="cajaChica.ver"
                                        ng-model-options="{updateOn: 'submit'}"
                                        ng-keypress="interceptarTecla($event,'centro_costo',true)"
                                        data-validate="validate(required,number)" required type="number"
                                        placeholder="factura" ng-model="cajaChica.compra.factura"
                                        ng-disabled="cajaChica.compra.movimiento.clase.nombre_corto===diccionario.MOVING_POR_IMPORTACION" />
                                    <span class="red">(*)</span>
                                </td>
                                <td
                                    ng-if="cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_IMPORTACION">
                                    <label>NÚM. DUI</label>
                                    <input id="num_dui" class="form-control" ng-disabled="cajaChica.ver"
                                        ng-model-options="{updateOn: 'submit'}"
                                        ng-keypress="interceptarTecla($event,'centro_costo',true)"
                                        data-validate="validate(required)" required type="text" placeholder="DUI"
                                        ng-model="cajaChica.compra.dui" />
                                    <span class="red">(*)</span>
                                </td>
                                <td
                                    ng-if="cajaChica.compra.movimiento.clase.nombre_corto===diccionario.MOVING_POR_IMPORTACION || cajaChica.compra.movimiento.clase.nombre_corto===diccionario.MOVING_DIARIO">
                                    <label>NÚM. AUTORIZACIÓN/CUF</label>
                                    <input data-validate="validate(required,number)" ng-disabled="cajaChica.ver"
                                        class="form-control" ng-model-options="{updateOn: 'submit'}" required
                                        type="text" placeholder="numero autorizacion"
                                        ng-model="cajaChica.compra.autorizacion" />
                                    <span class="red">(*)</span>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label>FECHA</label>
                                    <datepicker date-format="dd/MM/yyyy" datepicker-mobile="true">
                                        <input required data-validate="validate(required)" autocomplete="off"
                                            ng-disabled="cajaChica.ver" required class="form-control" type="text"
                                            id="fecha" ng-model="cajaChica.compra.fechaTexto"
                                            placeholder="Ingrese la fecha" />
                                    </datepicker>
                                    <span class="red">(*)</span>
                                </td>
                                <td ng-show="cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_DIARIO">
                                    <label>CÓDIGO DE CONTROL</label>
                                    <input required capitalize ng-disabled="cajaChica.ver" id="codigo-control-caja"
                                        class="form-control" ng-model-options="{updateOn: 'submit'}" required
                                        type="text" placeholder="codigo de control"
                                        ng-model="cajaChica.compra.codigo_control"
                                        ng-disabled="cajaChica.compra.movimiento.clase.nombre_corto===diccionario.MOVING_POR_IMPORTACION" />
                                    <span class="red">(*)</span>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label>SUCURSAL</label>
                                    <select required data-validate="validate(required)" class="form-control" required
                                        ng-options="sucursal as sucursal.nombre for sucursal in sucursales track by sucursal.id"
                                        ng-model="cajaChica.compra.sucursal" disabled>
                                        <option value="">Seleccionar</option>
                                    </select>
                                    <span class="red">(*)</span>
                                </td>

                                <td>
                                    <p>DESCUENTOS GENERALES</p>
                                    <label>
                                        <input ng-click="activarDescuentos()" class="ace ace-switch ace-switch-4"
                                            type="checkbox"
                                            ng-disabled="cajaChica.compra.movimiento.clase.nombre_corto===diccionario.MOVING_POR_IMPORTACION||cajaChica.compra.movimiento.clase.nombre_corto===diccionario.MOVING_POR_RETENCION_BIENES||cajaChica.compra.movimiento.clase.nombre_corto===diccionario.MOVING_POR_RETENCION_SERVICIOS"
                                            ng-model="cajaChica.compra.descuento_general" />
                                        <span id="descuentos_generales" class="lbl check-descuento"></span>
                                    </label>
                                </td>
                            </tr>
                            <tr>
                                <td ng-if="cajaChica.compra.descuento_general">
                                    <label>DESCUENTOS (-)</label>
                                    <label>
                                        <input class="ace ace-switch ace-switch-4" ng-disabled="cajaChica.ver"
                                            type="checkbox" ng-model="cajaChica.compra.tipo_descuento"
                                            ng-change="recalcular()" />
                                        <span id="descuentos" class="lbl check-compra"></span>
                                    </label>
                                    <input required ng-change="calcularImporteGeneral()" ng-disabled="cajaChica.ver"
                                        ng-model="cajaChica.compra.descuento" class="form-control" step="0.001"
                                        class="col-xs-12" type="number" value="0.0" />
                                    <span class="red">(*)</span>
                                </td>
                                <td ng-if="cajaChica.compra.descuento_general">
                                    <label>RECARGOS (+)</label>
                                    <label>
                                        <input class="ace ace-switch ace-switch-4" ng-disabled="cajaChica.ver"
                                            type="checkbox" ng-model="cajaChica.compra.tipo_recargo"
                                            ng-change="recalcular()" />
                                        <span id="recargos" class="lbl check-compra"></span>
                                    </label>
                                    <input required ng-change="calcularImporteGeneral()" ng-disabled="cajaChica.ver"
                                        ng-model="cajaChica.compra.recargo" step="0.001" class="col-xs-12 form-control"
                                        type="number" value="0" />
                                    <span class="red">(*)</span>
                                </td>
                            </tr>
                            <tr>
                                <td ng-if="cajaChica.compra.descuento_general">
                                    <label>ICE (-)</label>
                                    <input required ng-change="calcularImporteGeneral()" ng-disabled="cajaChica.ver"
                                        ng-model="cajaChica.compra.ice" step="0.001" class="col-xs-12 form-control"
                                        type="number" value="0" />
                                    <span class="red">(*)</span>
                                </td>
                                <td ng-if="cajaChica.compra.descuento_general">
                                    <label>EXCENTOS (-)</label>
                                    <input required ng-change="calcularImporteGeneral()" ng-disabled="cajaChica.ver"
                                        ng-model="cajaChica.compra.excento" step="0.001" class="col-xs-12 form-control"
                                        type="number" value="0" />
                                    <span class="red">(*)</span>
                                </td>
                            <tr>
                                <td colspan="2">
                                    <a class="green" href="javascript:void(0)" ng-disabled="cajaChica.ver"
                                        ng-click="cajaChica.compra.usarObservacion=(cajaChica.compra.usarObservacion)?false:true">
                                        <i class="ace-icon fa fa-pencil-square-o bigger-130"></i>
                                    </a>
                                    <label ng-if="cajaChica.compra.usarObservacion">
                                        <b>OBSERVACIÓN</b>
                                    </label>
                                    <input ng-if="cajaChica.compra.usarObservacion" ng-disabled="cajaChica.ver"
                                        ng-model-options="{updateOn: 'submit'}" ng-model="cajaChica.compra.observacion"
                                        type="text" class="form-control">
                                </td>
                            </tr>
                            </tr>
                        </table>

                    </div>

                </div>
                <div class="widget-box" ng-if="cajaChica.compra.usar_producto">
                    <div class="widget-header" ng-if="cajaChica.compra.detallesCompra.length>0">
                        <div class="row">
                            <div class="col-sm-6">
                                <h4 class="widget-title">DETALLE DE COMPRA</h4>
                            </div>
                            <div class="col-sm-6">
                                <div class="inline pos-rel pull-right">
                                    <a data-toggle="dropdown" href="javascript:void(0)" class="dropdown-toggle">
                                        <i class="glyphicon  glyphicon-list-alt"></i>
                                    </a>

                                    <ul id="campos-detalle-compra"
                                        class="dropdown-menu-right dropdown-menu dropdown-yellow dropdown-caret">
                                        <li>
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_producto"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>NOMBRE</label>
                                        </li>

                                        <li>
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_costo_unitario"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>C.U. (Bs/u)</label>
                                        </li>
                                        <li>
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_cantidad"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>CANT. (u)</label>
                                        </li>
                                        <li
                                            ng-if="usuario.empresa.usar_vencimientos && usuario.empresa.usar_vencimiento_productos">
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_fecha_vencimiento"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>VENC.</label>
                                        </li>
                                        <li
                                            ng-if="usuario.empresa.usar_vencimientos && usuario.empresa.usar_vencimiento_productos">
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_lote"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>LOTE</label>
                                        </li>
                                        <li>
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_importe"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>IMP. (Bs)</label>
                                        </li>
                                        <li>
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_descuento"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>DESC. (-)</label>
                                        </li>
                                        <li>
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_recargo"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>REC. (+)</label>
                                        </li>
                                        <li>
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_ice"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>ICE (-)</label>
                                        </li>
                                        <li>
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_excento"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>EXC. (-)</label>
                                        </li>
                                        <li
                                            ng-if="cajaChica.compra.movimiento.clase.nombre_corto!=diccionario.MOVING_POR_RETENCION_SERVICIOS||cajaChica.compra.movimiento.clase.nombre_corto!=diccionario.MOVING_POR_RETENCION_BIENES">
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_total"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>SUJETO A CF</label>
                                        </li>
                                        <li
                                            ng-if="usuario.empresa.usar_funciones_erp && (cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS||cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_BIENES)">
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_it_retencion"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>IT</label>
                                        </li>
                                        <li
                                            ng-if="usuario.empresa.usar_funciones_erp && (cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS||cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_BIENES)">
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_iue"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>IUE</label>
                                        </li>
                                        <li
                                            ng-if="usuario.empresa.usar_funciones_erp && (cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS||cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_BIENES)">
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_pagado"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>PAGADO</label>
                                        </li>
                                        <li class="divider"></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="widget-body" ng-if="cajaChica.compra.detallesCompra.length>0">
                        <div class="widget-main">
                            <table class="table table-striped table-bordered table-hover">
                                <thead>
                                    <tr>
                                        <th>
                                            <label>#</label>
                                        </th>
                                        <th ng-if="configuracionCompraVista.mostrar_producto">
                                            <label>PRODUCTO</label>
                                        </th>

                                        <th ng-if="configuracionCompraVista.mostrar_costo_unitario">
                                            <label>C.U. (Bs/u)</label>
                                        </th>
                                        <th ng-if="configuracionCompraVista.mostrar_cantidad">
                                            <label>CANT. (u)</label>
                                        </th>

                                        <th ng-if="configuracionCompraVista.mostrar_importe">
                                            <label>IMP. (Bs)</label>
                                        </th>
                                        <th ng-if="configuracionCompraVista.mostrar_descuento">
                                            <label>DESC. (-)</label>
                                        </th>
                                        <th ng-if="configuracionCompraVista.mostrar_recargo">
                                            <label>REC. (+)</label>
                                        </th>
                                        <th ng-if="configuracionCompraVista.mostrar_ice">
                                            <label>ICE (-)</label>
                                        </th>
                                        <th ng-if="configuracionCompraVista.mostrar_excento">
                                            <label>EXC. (-)</label>
                                        </th>
                                        <th
                                            ng-if="configuracionCompraVista.mostrar_total && (cajaChica.compra.movimiento.clase.nombre_corto!=diccionario.MOVING_POR_RETENCION_BIENES)">
                                            <label>SUJETO A CF</label>
                                        </th>
                                        <th
                                            ng-if="configuracionCompraVista.mostrar_it_retencion && usuario.empresa.usar_funciones_erp && (cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS||cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_BIENES)">
                                            <label>IT</label>
                                        </th>
                                        <th
                                            ng-if="configuracionCompraVista.mostrar_iue && usuario.empresa.usar_funciones_erp && (cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS||cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_BIENES)">
                                            <label>IUE</label>
                                        </th>
                                        <th
                                            ng-if="configuracionCompraVista.mostrar_pagado && usuario.empresa.usar_funciones_erp && (cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS||cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_BIENES)">
                                            <label>Pagado</label>
                                        </th>
                                        <th>
                                            <label>ACCIONES</label>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="item in cajaChica.compra.detallesCompra">
                                        <td>
                                            {{$index+1}}
                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_producto">
                                            {{item.producto.nombre}}
                                        </td>

                                        <td
                                            ng-if="!cajaChica.compra.id && configuracionCompraVista.mostrar_costo_unitario && !retencionActivo">
                                            {{item.costo_unitario|number:2}}
                                        </td>
                                        <td
                                            ng-if="!cajaChica.compra.id && configuracionCompraVista.mostrar_cantidad && !retencionActivo">
                                            {{item.cantidad|number:2}}
                                        </td>
                                        <td
                                            ng-if="cajaChica.compra.id && configuracionCompraVista.mostrar_costo_unitario && !retencionActivo">
                                            <input required class="col-xs-12"
                                                ng-change="calcularImporteDetalleEdicion(item)" step="0.00001"
                                                ng-model="item.costo_unitario" type="number" min="0.00001" />
                                        </td>
                                        <td
                                            ng-if="cajaChica.compra.id && configuracionCompraVista.mostrar_cantidad && !retencionActivo">
                                            <input required class="col-xs-12"
                                                ng-change="calcularImporteDetalleEdicion(item)" step="0.00001"
                                                ng-model="item.cantidad" type="number" min="0.00001" />
                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_costo_unitario && retencionActivo">
                                            {{item.costo_unitario|number:2}}
                                            <!--  <input required class="col-xs-12"
                                            ng-change="calcularImporteDetalleEdicionCU(item,'CU')" step="0.001"
                                            ng-model="item.costo_unitario" type="number" min="0.001" /> -->
                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_cantidad && retencionActivo">
                                            <input required class="col-xs-12"
                                                ng-change="calcularImporteDetalleEdicion(item)" step="0.001"
                                                ng-model="item.cantidad" type="number" min="0.001" />
                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_importe">
                                            {{item.importe|number:2}}
                                        </td>
                                        <td ng-if=" configuracionCompraVista.mostrar_descuento">
                                            {{item.descuento|number:2}}
                                        </td>
                                        <td ng-if=" configuracionCompraVista.mostrar_recargo">
                                            {{item.recargo|number:2}}
                                        </td>
                                        <td ng-if=" configuracionCompraVista.mostrar_ice">
                                            {{item.ice|number:2}}
                                        </td>
                                        <td ng-if=" configuracionCompraVista.mostrar_excento">
                                            {{item.excento|number:2}}
                                        </td>
                                        <!-- <td ng-if="cajaChica.compra.descuento_general && configuracionCompraVista.mostrar_descuento">
                                            {{compra.descuento|number:2}}1
                                        </td>
                                        <td ng-if="cajaChica.compra.descuento_general && configuracionCompraVista.mostrar_recargo">
                                            {{compra.recargo|number:2}}2
                                        </td>
                                        <td ng-if="cajaChica.compra.descuento_general && configuracionCompraVista.mostrar_ice">
                                            {{compra.ice|number:2}}3
                                        </td>
                                        <td ng-if="cajaChica.compra.descuento_general && configuracionCompraVista.mostrar_excento">
                                            {{compra.excento|number:2}}4
                                        </td> -->
                                        <td
                                            ng-if="configuracionCompraVista.mostrar_total && cajaChica.compra.movimiento.clase.nombre_corto!=diccionario.MOVING_POR_RETENCION_BIENES">
                                            {{item.total|number:2}}
                                        </td>
                                        <td
                                            ng-if="configuracionCompraVista.mostrar_it_retencion && usuario.empresa.usar_funciones_erp && (cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS||cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_BIENES)">
                                            <label>{{item.it|number:2}}</label>
                                        </td>
                                        <td
                                            ng-if="configuracionCompraVista.mostrar_iue && usuario.empresa.usar_funciones_erp && (cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS||cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_BIENES)">
                                            <label>{{item.iue|number:2}}</label>
                                        </td>
                                        <td
                                            ng-if="configuracionCompraVista.mostrar_pagado && usuario.empresa.usar_funciones_erp && (cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS||cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_BIENES)">
                                            <label>{{item.total|number:2}}</label>
                                        </td>
                                        <td>
                                            <a class="red" href="javascript:void(0)"
                                                ng-click="eliminarDetalleCompra(item)">
                                                <i class="ace-icon fa fa-trash-o bigger-130"></i>
                                            </a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>

                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_producto">
                                            <b>TOTALES</b>
                                        </td>

                                        <td ng-if="configuracionCompraVista.mostrar_costo_unitario">

                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_cantidad">

                                        </td>

                                        <td ng-if="configuracionCompraVista.mostrar_importe">
                                            {{cajaChica.compra.importe|number:2}}
                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_descuento">

                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_recargo">

                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_ice">

                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_excento">

                                        </td>
                                        <td id="total_compra"
                                            ng-if="configuracionCompraVista.mostrar_total && (cajaChica.compra.movimiento.clase.nombre_corto!=diccionario.MOVING_POR_RETENCION_BIENES)">
                                            {{cajaChica.compra.total|number:2}}
                                        </td>
                                        <td
                                            ng-if="configuracionCompraVista.mostrar_it_retencion && usuario.empresa.usar_funciones_erp && (cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS||cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_BIENES)">

                                        </td>
                                        <td
                                            ng-if="configuracionCompraVista.mostrar_iue && usuario.empresa.usar_funciones_erp && (cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS||cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_BIENES)">

                                        </td>
                                        <td
                                            ng-if="configuracionCompraVista.mostrar_pagado && usuario.empresa.usar_funciones_erp && (cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS||cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_BIENES)">
                                            {{cajaChica.compra.total|number:2}}
                                        </td>
                                        <td>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="widget-box" ng-if="!cajaChica.compra.usar_producto">
                    <div class="widget-header" ng-if="cajaChica.compra.detallesCompra.length>0">
                        <div class="row">
                            <div class="col-sm-6">
                                <h4 class="widget-title">DETALLE DE COMPRA</h4>
                            </div>
                            <div class="col-sm-6">
                                <div class="inline pos-rel pull-right">
                                    <a data-toggle="dropdown" href="javascript:void(0)" class="dropdown-toggle">
                                        <i class="glyphicon  glyphicon-list-alt"></i>
                                    </a>

                                    <ul id="campos-detalle-compra"
                                        class="dropdown-menu-right dropdown-menu dropdown-yellow dropdown-caret">
                                        <li>
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_producto"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>NOMBRE</label>
                                        </li>

                                        <li>
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_costo_unitario"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>C.U. (Bs/u)</label>
                                        </li>
                                        <li>
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_cantidad"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>CANT. (u)</label>
                                        </li>
                                        <li
                                            ng-if="usuario.empresa.usar_vencimientos && usuario.empresa.usar_vencimiento_productos">
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_fecha_vencimiento"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>VENC.</label>
                                        </li>
                                        <li
                                            ng-if="usuario.empresa.usar_vencimientos && usuario.empresa.usar_vencimiento_productos">
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_lote"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>LOTE</label>
                                        </li>
                                        <li>
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_importe"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>IMP. (Bs)</label>
                                        </li>
                                        <li>
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_descuento"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>DESC. (-)</label>
                                        </li>
                                        <li>
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_recargo"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>REC. (+)</label>
                                        </li>
                                        <li>
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_ice"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>ICE (-)</label>
                                        </li>
                                        <li>
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_excento"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>EXC. (-)</label>
                                        </li>
                                        <li
                                            ng-if="cajaChica.compra.movimiento.clase.nombre_corto!=diccionario.MOVING_POR_RETENCION_BIENES">
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_total"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>SUJETO A CF</label>
                                        </li>
                                        <li
                                            ng-if="usuario.empresa.usar_funciones_erp && (cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS||cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_BIENES)">
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_it_retencion"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>IT</label>
                                        </li>
                                        <li
                                            ng-if="usuario.empresa.usar_funciones_erp && (cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS||cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_BIENES)">
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_iue"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>IUE</label>
                                        </li>
                                        <li
                                            ng-if="usuario.empresa.usar_funciones_erp && (cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS||cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_BIENES)">
                                            <label>
                                                <input class="ace ace-switch ace-switch-4" type="checkbox"
                                                    ng-model="configuracionCompraVista.mostrar_pagado"
                                                    ng-change="guardarConfiguracionCompraVista()" />
                                                <span class="lbl check-descuento"></span>
                                            </label>
                                            <label>PAGADO</label>
                                        </li>
                                        <li class="divider"></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="widget-body" ng-if="cajaChica.compra.detallesCompra.length>0">
                        <div class="widget-main">
                            <table class="table table-striped table-bordered table-hover">
                                <thead>
                                    <tr>
                                        <th>
                                            <label>#</label>
                                        </th>
                                        <th ng-if="configuracionCompraVista.mostrar_producto">
                                            <label>SERVICIO</label>
                                        </th>
                                        <th ng-if="configuracionCompraVista.mostrar_codigo_producto">
                                            <label>CÓD. ITEM</label>
                                        </th>
                                        <th ng-if="configuracionCompraVista.mostrar_unidad_producto">
                                            <label>UNID. MED.</label>
                                        </th>
                                        <th ng-if="configuracionCompraVista.mostrar_costo_unitario">
                                            <label>C.U. (Bs/u)</label>
                                        </th>
                                        <th ng-if="configuracionCompraVista.mostrar_cantidad">
                                            <label>CANT. (u)</label>
                                        </th>
                                        <th
                                            ng-if="(!cajaChica.compra.id || !detalleCompra.id) && configuracionCompraVista.mostrar_fecha_vencimiento && usuario.empresa.usar_vencimientos">
                                            <label>VENC</label>
                                        </th>
                                        <th
                                            ng-if="(!cajaChica.compra.id || !detalleCompra.id) && configuracionCompraVista.mostrar_lote && usuario.empresa.usar_vencimientos">
                                            <label>LOTE</label>
                                        </th>
                                        <th ng-if="configuracionCompraVista.mostrar_importe">
                                            <label>IMP. (Bs)</label>
                                        </th>
                                        <th ng-if="configuracionCompraVista.mostrar_descuento">
                                            <label>DESC. (-)</label>
                                        </th>
                                        <th ng-if="configuracionCompraVista.mostrar_recargo">
                                            <label>REC. (+)</label>
                                        </th>
                                        <th ng-if="configuracionCompraVista.mostrar_ice">
                                            <label>ICE (-)</label>
                                        </th>
                                        <th ng-if="configuracionCompraVista.mostrar_excento">
                                            <label>EXC. (-)</label>
                                        </th>
                                        <th
                                            ng-if="configuracionCompraVista.mostrar_total && cajaChica.compra.movimiento.clase.nombre_corto!=diccionario.MOVING_POR_RETENCION_SERVICIOS">
                                            <label>SUJETO A CF</label>
                                        </th>
                                        <th
                                            ng-if="configuracionCompraVista.mostrar_it_retencion && usuario.empresa.usar_funciones_erp && cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS">
                                            <label>IT</label>
                                        </th>
                                        <th
                                            ng-if="configuracionCompraVista.mostrar_iue && usuario.empresa.usar_funciones_erp && cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS">
                                            <label>IUE</label>
                                        </th>
                                        <th
                                            ng-if="configuracionCompraVista.mostrar_pagado && usuario.empresa.usar_funciones_erp && cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS">
                                            <label>Pagado</label>
                                        </th>
                                        <th>
                                            <label>ACCIONES</label>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="detalleCompra in cajaChica.compra.detallesCompra"
                                        ng-if="!detalleCompra.eliminado">
                                        <td>
                                            {{$index+1}}
                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_producto">
                                            {{detalleCompra.servicio.nombre}}
                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_codigo_producto">
                                            {{detalleCompra.producto.codigo}}
                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_unidad_producto">
                                            {{detalleCompra.producto.unidad_medida}}
                                        </td>
                                        <td
                                            ng-if="(!cajaChica.compra.id || !detalleCompra.id) &&configuracionCompraVista.mostrar_costo_unitario">
                                            {{detalleCompra.costo_unitario}}
                                        </td>
                                        <td
                                            ng-if="(!cajaChica.compra.id || !detalleCompra.id) &&configuracionCompraVista.mostrar_cantidad">
                                            {{detalleCompra.cantidad}}
                                        </td>
                                        <td
                                            ng-if="(cajaChica.compra.id || detalleCompra.id) && configuracionCompraVista.mostrar_costo_unitario">
                                            <input required class="col-xs-12"
                                                ng-change="calcularImporteDetalleEdicion(detalleCompra)" step="0.001"
                                                ng-model="detalleCompra.costo_unitario" type="number" min="0.001" />
                                        </td>
                                        <td
                                            ng-if="(cajaChica.compra.id || detalleCompra.id) && configuracionCompraVista.mostrar_cantidad">
                                            <input required class="col-xs-12"
                                                ng-change="calcularImporteDetalleEdicion(detalleCompra)" step="0.001"
                                                ng-model="detalleCompra.cantidad" type="number" min="0.001" />
                                        </td>
                                        <td
                                            ng-if="(!cajaChica.compra.id || !detalleCompra.id) && configuracionCompraVista.mostrar_fecha_vencimiento && usuario.empresa.usar_vencimientos">
                                            {{detalleCompra.fechaVencimientoTexto}}
                                        </td>
                                        <td
                                            ng-if="(cajaChica.compra.id && detalleCompra.id) && configuracionCompraVista.mostrar_fecha_vencimiento && usuario.empresa.usar_vencimientos">
                                            <datepicker date-format="dd/MM/yyyy" datepicker-mobile="true">
                                                <input ng-update-hidden class="form-control" type="text"
                                                    ng-model="detalleCompra.inventario.fechaVencimientoTexto"
                                                    placeholder="Ingrese la fecha" />
                                            </datepicker>
                                        </td>
                                        <td
                                            ng-if="(!cajaChica.compra.id || !detalleCompra.id) && configuracionCompraVista.mostrar_lote && usuario.empresa.usar_vencimientos">
                                            {{detalleCompra.lote}}
                                        </td>
                                        <td
                                            ng-if="(cajaChica.compra.id && detalleCompra.id) && configuracionCompraVista.mostrar_lote && usuario.empresa.usar_vencimientos">
                                            <input class="col-xs-12" type="text"
                                                ng-model="detalleCompra.inventario.lote" />
                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_importe">
                                            {{detalleCompra.importe | number:2}}
                                        </td>
                                        <td
                                            ng-if="!cajaChica.compra.descuento_general && configuracionCompraVista.mostrar_descuento">
                                            {{detalleCompra.descuento|number:2}}
                                        </td>
                                        <td
                                            ng-if="!cajaChica.compra.descuento_general && configuracionCompraVista.mostrar_recargo">
                                            {{detalleCompra.recargo | number:2}}
                                        </td>
                                        <td
                                            ng-if="!cajaChica.compra.descuento_general && configuracionCompraVista.mostrar_ice">
                                            {{detalleCompra.ice | number:2}}
                                        </td>
                                        <td
                                            ng-if="!cajaChica.compra.descuento_general && configuracionCompraVista.mostrar_excento">
                                            {{detalleCompra.excento | number:2}}
                                        </td>
                                        <td
                                            ng-if="cajaChica.compra.descuento_general && configuracionCompraVista.mostrar_descuento">
                                            {{cajaChica.compra.descuento | number:2}}
                                        </td>
                                        <td
                                            ng-if="cajaChica.compra.descuento_general && configuracionCompraVista.mostrar_recargo">
                                            {{cajaChica.compra.recargo | number:2}}
                                        </td>
                                        <td
                                            ng-if="cajaChica.compra.descuento_general && configuracionCompraVista.mostrar_ice">
                                            {{cajaChica.compra.ice | number:2}}
                                        </td>
                                        <td
                                            ng-if="cajaChica.compra.descuento_general && configuracionCompraVista.mostrar_excento">
                                            {{cajaChica.compra.excento | number:2}}
                                        </td>
                                        <td
                                            ng-if="configuracionCompraVista.mostrar_total && cajaChica.compra.movimiento.clase.nombre_corto!=diccionario.MOVING_POR_RETENCION_SERVICIOS">
                                            {{detalleCompra.total | number:2}}
                                        </td>
                                        <td
                                            ng-if="configuracionCompraVista.mostrar_it_retencion && usuario.empresa.usar_funciones_erp && cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS">
                                            <label>{{detalleCompra.it | number:2}}</label>
                                        </td>
                                        <td
                                            ng-if="configuracionCompraVista.mostrar_iue && usuario.empresa.usar_funciones_erp && cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS">
                                            <label>{{detalleCompra.iue | number:2}}</label>
                                        </td>
                                        <td
                                            ng-if="configuracionCompraVista.mostrar_pagado && usuario.empresa.usar_funciones_erp && cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS">
                                            <label>{{detalleCompra.total | number:2}}</label>
                                        </td>
                                        <td>
                                            <a class="red" href="javascript:void(0)"
                                                ng-click="eliminarDetalleCompra(detalleCompra)">
                                                <i class="ace-icon fa fa-trash-o bigger-130"></i>
                                            </a>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>

                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_producto">
                                            <b>TOTALES</b>
                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_codigo_producto">

                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_unidad_producto">

                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_costo_unitario">

                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_cantidad">

                                        </td>
                                        <td
                                            ng-if="configuracionCompraVista.mostrar_fecha_vencimiento && usuario.empresa.usar_vencimientos">

                                        </td>
                                        <td
                                            ng-if="configuracionCompraVista.mostrar_lote && usuario.empresa.usar_vencimientos">

                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_importe">
                                            {{cajaChica.compra.importe | number:2}}
                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_descuento">

                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_recargo">

                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_ice">

                                        </td>
                                        <td ng-if="configuracionCompraVista.mostrar_excento">

                                        </td>
                                        <td
                                            ng-if="configuracionCompraVista.mostrar_total && cajaChica.compra.movimiento.clase.nombre_corto!=diccionario.MOVING_POR_RETENCION_SERVICIOS">
                                            <label>{{cajaChica.compra.total | number:2}}</label>
                                        </td>
                                        <td
                                            ng-if="configuracionCompraVista.mostrar_it_retencion && usuario.empresa.usar_funciones_erp && cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS">

                                        </td>
                                        <td
                                            ng-if="configuracionCompraVista.mostrar_iue && usuario.empresa.usar_funciones_erp && cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS">

                                        </td>
                                        <td
                                            ng-if="configuracionCompraVista.mostrar_pagado && usuario.empresa.usar_funciones_erp && cajaChica.compra.movimiento.clase.nombre_corto==diccionario.MOVING_POR_RETENCION_SERVICIOS">
                                            <label>{{cajaChica.compra.total | number:2}}</label>
                                        </td>
                                        <td>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <p class="blue pull-center" ng-if="solicitud.concepto.concepto.nombre=='GASTO'"><b>Monto a rendir
                            Bs.
                            {{solicitud.monto}}.- Rendido Bs. {{saldoGastos}}.- Registro
                            {{solicitud.cajasChicas.length}} </b></p>
                    <p class="blue pull-center"
                        ng-if="solicitud.cajasChicas.length>0 && solicitud.concepto.concepto.nombre!='GASTO'"><b>Fondo
                            a rendir Bs.
                            {{CajaChicaSolicitud.monto}}.- Rendido Bs. {{rendido}}.-
                            Saldo Bs. {{CajaChicaSolicitud.saldo}}.- Registro
                            {{solicitud.cajasChicas.length-1}} </b></p>
                    <button ng-hide="cajaChica.ver" type="submit"
                        ng-disabled="cajaChica.compra.detallesCompra.length<=0" class="btn btn-primary">Guardar</button>
                    <button type="button" class="btn btn-danger"
                        ng-click="cerrarModalRegistroCajaChica()">Cerrar</button>
                </div>
        </form>
    </div>
</div>
<!-- fin registro caja chica -->
<!-- inicio kardex caja chica -->
<div class="modal" id="dialog-kardex-caja-chica">
    <div class="modal-content">
        <div class="modal-header bg-primary">
            <button type="button" ng-click="cerrarModalKardexCajaChica()" class="close" data-dismiss="modal"
                aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            <P>
            <h4 class="modal-title">KARDEX CAJA CHICA</h4>
            </P>
            <P>{{solicitud.solicitante.persona.nombre_completo}}</P>

        </div>
        <div class="modal-body">

            <span><i class="green fa fa-circle">Fondos a Rendir</i></span>
            &nbsp
            <span>
                <i class="sky-blue fa fa-circle">Reposiciones</i></span>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>
                            N°
                        </th>
                        <th>
                            Fecha
                        </th>
                        <th>
                            Cuenta
                        </th>
                        <th>
                            Concepto
                        </th>
                        <th>
                            Monto
                        </th>
                        <th>
                            Acciones
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-class="detalle.concepto.concepto.nombre_corto== diccionario.CC_MOV_KARDEX ? 'bg-green' : 'bg-sky-blue'"
                        ng-repeat="detalle in solicitud.cajasChicas">
                        <td>
                            {{$index+1}}
                        </td>
                        <td>
                            {{detalle.fecha |date:'dd/MM/yyyy'}}
                        </td>
                        <td>
                            {{detalle.cuenta.nombre}}
                        </td>
                        <td>
                            {{detalle.concepto.nombre}}
                        </td>
                        <td>
                            <p ng-if="detalle.id_padre && detalle.concepto.nombre!='INCREMENTO'">{{detalle.pagado}}</p>
                            <p ng-if="!detalle.id_padre || detalle.concepto.nombre=='INCREMENTO'">{{detalle.monto}}</p>
                        </td>
                        <td class="bg-white" ng-if="!detalle.id_padre || detalle.concepto.nombre=='INCREMENTO'">
                            <a class="red tooltip-info " tooltip-placement="left" uib-tooltip="IMprimir Recibo"
                                href="javascript:void(0)" ng-click="generarPdfBoletaCajaChica(solicitud,detalle,true)">
                                <i class="ace-icon fa fa-print  bigger-130"></i>
                            </a>
                        </td>
                        <td class="bg-white" ng-if="detalle.id_padre && detalle.concepto.nombre!='INCREMENTO'">
                            <a class="blue tooltip-info"
                                ng-if="solicitud.cajasChicas.length>0 && detalle.concepto.nombre != 'DEVOLUCION'"
                                uib-tooltip="Ver Datos" href="javascript:void(0)" e-disabled="!aplicacion.puede_ver"
                                ng-click="ObtenerRegistroCajaChica(solicitud,true,true,detalle)">
                                <i class="ace-icon fa fa-search-plus bigger-130"></i>
                            </a>
                            <a class="text-danger" tooltip-placement="left" uib-tooltip="eliminar detalle"
                                ng-if="detalle.concepto.nombre == 'DEVOLUCION'" href="javascript:void(0)"
                                ng-click="eliminarDetalleCCH(detalle)">
                                <i class="fa fa-trash bigger-130"></i>
                            </a>
                            <a ng-hide="solicitud.estado.nombre_corto==diccionario.CC_ESTADO_PROCESADO"
                                ng-if="!solicitud.eliminado && solicitud.cajasChicas.length>0 && detalle.concepto.nombre != 'DEVOLUCION'"
                                class="green tooltip-info" uib-tooltip="Editar Datos" href="javascript:void(0)"
                                e-disabled="!aplicacion.puede_modificar"
                                ng-click="ObtenerRegistroCajaChica(solicitud,true,undefined,detalle)">
                                <i class="ace-icon fa fa-pencil bigger-130"></i>
                            </a>
                            <a class="red tooltip-info " tooltip-placement="left" uib-tooltip="IMprimir Recibo"
                                href="javascript:void(0)" ng-click="generarPdfBoletaCajaChica(solicitud,detalle,true)">
                                <i class="ace-icon fa fa-print  bigger-130"></i>
                            </a>
                        </td>
                    </tr>
                </tbody>
                <TFoot>
                    <tr>
                        <td colspan="6">
                            <p><b>Fondo desembolsado Bs. {{CajaChicaSolicitud.monto}}.- Rendido Bs. {{rendido}}.-
                                    Saldo Bs. {{CajaChicaSolicitud.saldo}} </b></p>
                        </td>
                    </tr>
                </TFoot>
            </table>
        </div>
        <div class="modal-footer">
            <button ng-hide="cajaChica.ver" type="submit" class="btn btn-primary">Guardar</button>
            <button type="button" class="btn btn-danger" ng-click="cerrarModalKardexCajaChica()">Cerrar</button>
        </div>
    </div>
</div>
</div>
<!-- fin kardex caja chica -->
<!-- inicio kardex gasto caja chica -->
<div class="modal" id="dialog-kardex-gasto-caja-chica">
    <div class="modal-content">
        <div class="modal-header bg-primary">
            <button type="button" ng-click="cerrarModalKardexGastoCajaChica()" class="close" data-dismiss="modal"
                aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            <P>
            <h4 class="modal-title">KARDEX CAJA CHICA</h4>
            </P>
            <P>{{solicitud.solicitante.persona.nombre_completo}}</P>

        </div>
        <div class="modal-body">
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>
                            N°
                        </th>
                        <th>
                            Fecha
                        </th>
                        <th>
                            Cuenta
                        </th>
                        <th>
                            Concepto
                        </th>
                        <th>
                            Monto
                        </th>
                        <th>
                            Acciones
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="detalle in solicitud.cajasChicas">
                        <td>
                            {{$index+1}}
                        </td>
                        <td>
                            {{detalle.fecha |date:'dd/MM/yyyy'}}
                            <i class="fa fa-trash bigger-130"></i>
                            </a>
                        </td>
                        <td>
                            {{detalle.cuenta.nombre}}
                        </td>
                        <td>
                            {{detalle.concepto.nombre}}
                        </td>
                        <td>
                            {{detalle.pagado}}
                        </td>
                        <td>
                            <a class="blue tooltip-info"
                                ng-if="solicitud.cajasChicas.length>0 && detalle.concepto.nombre != 'DEVOLUCION'"
                                uib-tooltip="Ver Datos" href="javascript:void(0)" e-disabled="!aplicacion.puede_ver"
                                ng-click="ObtenerRegistroCajaChica(solicitud,true,true,detalle)">
                                <i class="ace-icon fa fa-search-plus bigger-130"></i>
                            </a>
                            <a ng-if="!solicitud.eliminado && solicitud.cajasChicas.length>0 && detalle.concepto.nombre != 'DEVOLUCION' && !(solicitud.estado.nombre_corto==diccionario.CC_ESTADO_PROCESADO)"
                                class="green tooltip-info" uib-tooltip="Editar Datos" href="javascript:void(0)"
                                e-disabled="!aplicacion.puede_modificar"
                                ng-click="ObtenerRegistroCajaChica(solicitud,true,undefined,detalle)">
                                <i class="ace-icon fa fa-pencil bigger-130"></i>
                            </a>
                            <a class="red tooltip-info " tooltip-placement="left" uib-tooltip="IMprimir Recibo"
                                href="javascript:void(0)" ng-click="generarPdfBoletaCajaChica(solicitud,detalle,true)">
                                <i class="ace-icon fa fa-print  bigger-130"></i>
                            </a>

                        </td>
                    </tr>
                </tbody>
                <TFoot>
                    <tr>
                        <td colspan="6">
                            <p><b>Monto a rendir Bs. {{solicitud.monto}}.- Rendido Bs. {{rendido}}.-
                                </b></p>
                        </td>
                    </tr>
                </TFoot>
            </table>
        </div>
        <div class="modal-footer">
            <button ng-hide="cajaChica.ver" type="submit" class="btn btn-primary">Guardar</button>
            <button type="button" class="btn btn-danger" ng-click="cerrarModalKardexGastoCajaChica()">Cerrar</button>
        </div>
    </div>
</div>
</div>
<!-- fin kardex gasto caja chica -->
<!-- inicio kardex ingresos -->
<div class="modal" id="dialog-kardex-ingresos">
    <div class="modal-content">
        <div class="modal-header bg-primary">
            <button type="button" ng-click="cerrarModalIngresosCajaChica()" class="close" data-dismiss="modal"
                aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            <P>
            <h4 class="modal-title">HISTORIAL INGRESOS</h4>
            </P>
            <P>{{solicitud.solicitante.persona.nombre_completo}}</P>

        </div>
        <div class="modal-body">
            <div class="widget-box">
                <div class="widget-header">
                    <div class="pull-right">
                        Exportar En: <a id="pdf" class="btn btn-app btn-danger btn-xs"
                            ng-click="imprimirPDFIngresosCC()">
                            <i class="ace-icon fa fa-print bigger-160"></i>
                            PDF
                        </a>
                        <!-- ng-disabled="!Cuentas" -->
                        <a id="excel" class="btn btn-app btn-success btn-xs" ng-click="imprimirExcelIngresosCC()">
                            <i class="ace-icon fa fa-print bigger-160"></i>
                            Excel
                        </a>
                    </div>
                </div>
            </div>
            <div id="tabla-productos_wrapper" class="dataTables_wrapper form-inline no-footer">
                <div class="row" ng-include src="'/templates/gral/paginator-header-1.html'"></div>
                <table class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th>
                                N°
                            </th>
                            <th>
                                <a href="javascript:void(0)"
                                    ng-click="paginator.sortColumn('fechaHI',obtenerLista)">Fecha
                                    <span id="fechaHI" class="sort fa fa-sort icon-only"></span>
                                </a>
                            </th>
                            <th>

                                <a href="javascript:void(0)"
                                    ng-click="paginator.sortColumn('sucursalHI',obtenerLista)">Sucursal
                                    <span id="sucursalHI" class="sort fa fa-sort icon-only"></span>
                                </a>
                            </th>
                            <th>

                                <a href="javascript:void(0)" ng-click="paginator.sortColumn('docHI',obtenerLista)">Doc.
                                    <span id="docHI" class="sort fa fa-sort icon-only"></span>
                                </a>
                            </th>
                            <th>

                                <a href="javascript:void(0)"
                                    ng-click="paginator.sortColumn('cuentaHI',obtenerLista)">Cuenta
                                    <span id="cuentaHI" class="sort fa fa-sort icon-only"></span>
                                </a>
                            </th>
                            <th>

                                <a href="javascript:void(0)"
                                    ng-click="paginator.sortColumn('conceptoHI',obtenerLista)">Concepto
                                    <span id="conceptoHI" class="sort fa fa-sort icon-only"></span>
                                </a>
                            </th>
                            <th>
                                <a href="javascript:void(0)"
                                    ng-click="paginator.sortColumn('montoHI',obtenerLista)">Monto
                                    <span id="montoHI" class="sort fa fa-sort icon-only"></span>
                                </a>
                            </th>
                            <th>
                                Acciones
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="detalle in IngresosCajaChica">
                            <td>
                                {{$index+1}}
                            </td>
                            <td>
                                {{detalle.fecha |date:'dd/MM/yyyy'}}
                            </td>
                            <td>
                                {{detalle.sucursal.nombre}}
                            </td>
                            <td>
                                {{detalle.numero_correlativo}}
                            </td>
                            <td>
                                {{detalle.cuenta.nombre}}
                            </td>
                            <td>
                                {{detalle.concepto.nombre}}
                            </td>
                            <td>
                                {{detalle.monto}}
                            </td>
                            <td>
                                <a class="blue tooltip-info" uib-tooltip="Ver Datos" href="javascript:void(0)"
                                    e-disabled="!aplicacion.puede_ver"
                                    ng-click="abrirModalRegistroIngresoCajaChica(detalle,true)">
                                    <i class="ace-icon fa fa-search-plus bigger-130"></i>
                                </a>
                                <a class="green tooltip-info" ng-if="detalle.concepto.nombre != 'DEVOLUCION'"
                                    ng-disabled="!usuario.encargado_caja_chica" uib-tooltip="Editar Datos"
                                    href="javascript:void(0)" e-disabled="!aplicacion.puede_modificar"
                                    ng-click="abrirModalRegistroIngresoCajaChica(detalle,false)">
                                    <i class="ace-icon fa fa-pencil bigger-130"></i>
                                </a>
                                <a class="red tooltip-info " tooltip-placement="left" uib-tooltip="IMprimir Recibo"
                                    href="javascript:void(0)" ng-click="generarPdfBoletaCajaChica(undefined,detalle)">
                                    <i class="ace-icon fa fa-print  bigger-130"></i>
                                </a>
                                <a class="red tooltip-info " tooltip-placement="left" uib-tooltip="eliminar"
                                    href="javascript:void(0)" ng-click="eliminarDetalleCCH(detalle)">
                                    <i class="ace-icon fa fa-trash-o  bigger-130"></i>
                                </a>
                            </td>
                        </tr>

                    </tbody>
                </table>

            </div>
            <div id="tabla-productos_wrapper" class="dataTables_wrapper form-inline no-footer">
                <div class="row" ng-include src="'/templates/gral/paginator.html'">
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button ng-hide="cajaChica.ver" type="submit" class="btn btn-primary">Guardar</button>
        <button type="button" class="btn btn-danger" ng-click="cerrarModalIngresosCajaChica()">Cerrar</button>
    </div>
</div>
</div>
</div>
<!-- fin kardex ingresos -->
<!-- inicio cierre caja chica -->
<div class="modal" id="dialog-kardex-cierre-caja-chica">
    <div class="modal-content">
        <div class="modal-header bg-primary">
            <button type="button" ng-click="cerrarModalHistorialCierreCajaChica()" class="close" data-dismiss="modal"
                aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            <P>
            <h4 class="modal-title">HISTORIAL CIERRES CAJA CHICA</h4>
            </P>

        </div>
        <div class="modal-body">
            <div class="widget-box">
                <div class="widget-header">
                    <div class="pull-right">
                        Exportar En: <a id="pdf" class="btn btn-app btn-danger btn-xs"
                            ng-click="imprimirPDFCierresCC()">
                            <i class="ace-icon fa fa-print bigger-160"></i>
                            PDF
                        </a>
                        <!-- ng-disabled="!Cuentas" -->
                        <a id="excel" class="btn btn-app btn-success btn-xs" ng-click="imprimirExcelCierresCC()">
                            <i class="ace-icon fa fa-print bigger-160"></i>
                            Excel
                        </a>
                    </div>
                </div>
            </div>
            <div id="tabla-productos_wrapper" class="dataTables_wrapper form-inline no-footer">
                <div class="row" ng-include src="'/templates/gral/paginator-header-1.html'"></div>
                <table class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th>
                                N°
                            </th>
                            <th>
                                <a href="javascript:void(0)"
                                    ng-click="paginator.sortColumn('fechaElaboracionHC',obtenerLista)">Fecha
                                    Elaboracion
                                    <span id="fechaElaboracionHC" class="sort fa fa-sort icon-only"></span>
                                </a>

                            </th>
                            <th>
                                <a href="javascript:void(0)"
                                    ng-click="paginator.sortColumn('fechaInicioHC',obtenerLista)">Fecha
                                    Inicio
                                    <span id="fechaInicioHC" class="sort fa fa-sort icon-only"></span>
                                </a>

                            </th>
                            <th>
                                <a href="javascript:void(0)"
                                    ng-click="paginator.sortColumn('fechaFinHC',obtenerLista)">Fecha
                                    Fin
                                    <span id="fechaFinHC" class="sort fa fa-sort icon-only"></span>
                                </a>

                            </th>
                            <th>
                                <a href="javascript:void(0)"
                                    ng-click="paginator.sortColumn('saldoInicialHC',obtenerLista)">Saldo
                                    Inicial
                                    <span id="saldoInicialHC" class="sort fa fa-sort icon-only"></span>
                                </a>
                            </th>
                            <th>
                                Saldo final
                            </th>
                            <th>
                                Acciones
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="detalle in cierresCajaChica">
                            <td>
                                {{$index+1}}
                            </td>
                            <td>
                                {{detalle.fecha |date:'dd/MM/yyyy'}}
                            </td>
                            <td>
                                {{detalle.inicio|date:'dd/MM/yyyy'}}
                            </td>
                            <td>
                                {{detalle.fin|date:'dd/MM/yyyy'}}
                            </td>
                            <td>
                                {{detalle.saldo_inicial|number:2}}
                            </td>
                            <td>
                                {{detalle.saldo_final|number:2}}
                            </td>
                            <td>
                                <a class="blue tooltip-info" uib-tooltip="Ver Datos" href="javascript:void(0)"
                                    e-disabled="!aplicacion.puede_ver" ng-click="generarPdfCajaChica(detalle)">
                                    <i class="ace-icon fa fa-print bigger-130"></i>
                                </a>
                                <a class="blue" href="javascript:void(0)" ng-if="!detalle.id_comprobante"
                                    ng-click="crearNuevoComprobanteCajaChicaCierre(detalle)">
                                    <i class="ace-icon fa fa-sign-out bigger-130"></i>
                                </a>
                                <a class="green" href="javascript:void(0)"
                                    ng-click="generarExelCierreCajaChica(detalle)">
                                    <i class="ace-icon fa fa-file-excel-o bigger-130"></i>
                                </a>
                            </td>
                        </tr>

                    </tbody>
                </table>

            </div>
            <div id="tabla-productos_wrapper" class="dataTables_wrapper form-inline no-footer">
                <div class="row" ng-include src="'/templates/gral/paginator.html'">
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button ng-hide="cajaChica.ver" type="submit" class="btn btn-primary">Guardar</button>
        <button type="button" class="btn btn-danger" ng-click="cerrarModalHistorialCierreCajaChica()">Cerrar</button>
    </div>
</div>
</div>
</div>
<!-- fin kardex cierre caja chica -->
<!-- inicio registro caja chica -->
<div class="modal" id="dialog-registro-ingreso-caja-chica">
    <div class="modal-content">
        <div class="modal-header bg-primary">
            <button type="button" ng-click="cerrarModalRegistroIngresoCajaChica()" class="close" data-dismiss="modal"
                aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            <P>
            <h4 class="modal-title">REGISTRO INGRESO CAJA CHICA</h4>
            </P>
            <P>{{cajaChica.ingreso.solicitante.persona.nombre_completo}}</P>
        </div>
        <form ng-submit="guardarCajaChica()" name="frmIngresoCajaChica">
            <div class="modal-body">
                <div class="row">
                    <div ng-class="cajaChica.verDatosCompra ? 'col-md-6' : 'col-md-12'">
                        <div class="row">
                            <div class=col-md-10>
                                <div class="row">
                                    <div class="col-md-4">
                                        <label class="inline">
                                            <span class="lbl">Fecha:</span>
                                        </label>
                                    </div>
                                    <div class="col-md-8">
                                        <datepicker date-format="dd/MM/yyyy" datepicker-mobile="true">
                                            <input type="text" required ng-disabled="cajaChica.ver "
                                                ng-model="cajaChica.fecha" class="form-control">
                                        </datepicker>
                                    </div>
                                </div>
                                <div class="space-4"></div>
                                <div class="row">

                                    <div class="col-md-4">
                                        <label class="inline">

                                            <span class="lbl">Concepto</span>
                                        </label>
                                    </div>

                                    <div class="col-md-8">
                                        <select ng-if="cajaChica.solicitud!=null"
                                            ng-required="cajaChica.solicitud != null"
                                            ng-disabled="cajaChica.ver || cajaChica.ingreso ||cajaChica.devolucion"
                                            ng-model="cajaChica.concepto" class="form-control"
                                            ng-change="validarCampos($event, 1)"
                                            ng-options="concepto as concepto.nombre for concepto in ConceptosMovimiento | filter:{habilitado:true}|filtroEgresos track by concepto.id">
                                            <option value="">Seleccionar</option>
                                        </select>
                                        <select ng-if="cajaChica.solicitud===null"
                                            ng-required="cajaChica.solicitud === null"
                                            ng-disabled="cajaChica.ver || cajaChica.ingreso||cajaChica.devolucion"
                                            ng-model="cajaChica.concepto" class="form-control"
                                            ng-change="validarCampos($event, 2)"
                                            ng-options="concepto as concepto.nombre for concepto in ConceptosMovimiento | filter:{habilitado:true}|filtroIngresos track by concepto.id">
                                            <option value="">Seleccionar</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <a popover-placement="right" uib-tooltip="Fondos a rendir" href="javascript:void(0)"
                                    ng-click="abrirModalDevolucionFondoRendir()" tooltip-placement="left"
                                    e-disabled="!aplicacion.puede_crear || !usuario.encargado_caja_chica" class="blue">
                                    <i class="ace-icon fa fa-folder  bigger-200"></i>
                                </a>

                            </div>
                        </div>

                        <div class="space-4"></div>
                        <div class="row">
                            <div class="col-md-3">
                                <label class="inline">

                                    <span class="lbl">Detalle</span>
                                </label>
                            </div>
                            <div class="col-md-9">
                                <textarea required class="form-control" ng-disabled="cajaChica.ver" cols="30" rows="4"
                                    ng-model="cajaChica.detalle"></textarea>
                            </div>
                        </div>
                        <div class="space-4"></div>
                        <div class="row">
                            <div class="col-md-3">
                                <label class="inline">

                                    <span class="lbl">Cuenta:</span>
                                </label>
                            </div>
                            <div class="col-md-9">
                                <input enter autocomplete="off" ng-disabled="cajaChica.ver"
                                    typeahead-append-to-body="true"
                                    ng-keypress="interceptarTecla($event,'cantidad',true)" required type="text"
                                    ng-model="cajaChica.cuenta" placeholder="Busqueda..."
                                    uib-typeahead="cuenta as (cuenta.codigo+'-'+cuenta.nombre) for cuenta in buscarCuentasCajaChica($viewValue)"
                                    typeahead-wait-ms="1000" typeahead-template-url="templates/autocompletar.html"
                                    typeahead-show-hint="false" typeahead-min-length="1"
                                    typeahead-on-select="establecerCuenta($item, $model, $label, $event)">
                                <p class="text-danger" ng-if=" validarCuenta">La cuenta no es valida</p>
                            </div>
                        </div>
                        <div class="space-4"></div>
                        <div class="row" ng-if="!cajaChica.solicitud && !cajaChica.ingreso">
                            <div class="col-md-3">
                                <label class="inline">

                                    <span class="lbl">Monto:</span>
                                </label>
                            </div>
                            <div class="col-md-9">
                                <input class="form-control" step="0.001"
                                    ng-required="!cajaChica.solicitud && !cajaChica.ingreso" min="0.001" type="number"
                                    ng-model="cajaChica.total">
                            </div>
                        </div>
                        <div class="row" ng-if="cajaChica.ingreso">
                            <div class="col-md-3">
                                <label class="inline">

                                    <span class="lbl">Monto:</span>
                                </label>
                            </div>
                            <div class="col-md-9">
                                <input class="form-control" step="0.001" ng-required="cajaChica.ingreso" min="0.001"
                                    max="{{cajaChica.ingreso.cajasChicas[0].saldo}}" type="number"
                                    ng-model="cajaChica.total"
                                    ng-disabled="cajaChica.rendicionFondo || cajaChica.devolucion_desembolso">
                            </div>
                        </div>
                        <div class="space-4"></div>
                        <div class="row" ng-if="!cajaChica.solicitud">
                            <div class="col-md-3">
                                <label class="inline">

                                    <span class="lbl">SUCURSAL:</span>
                                </label>
                            </div>
                            <div class="col-md-9">
                                <select required data-validate="validate(required)" required
                                    ng-options="sucursal as sucursal.nombre for sucursal in sucursales track by sucursal.id"
                                    ng-model="cajaChica.sucursal">
                                    <option value="">Seleccionar</option>
                                </select>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button ng-hide="cajaChica.ver" type="submit" ng-disabled="frmIngresoCajaChica.$invalid"
                    class="btn btn-primary">Guardar</button>
                <button type="button" class="btn btn-danger"
                    ng-click="cerrarModalRegistroIngresoCajaChica()">Cerrar</button>
            </div>
        </form>
    </div>
</div>
</div>
<!-- fin registro caja chica -->
<!-- inicio registro  anticipo caja chica -->
<div class="modal" id="dialog-registro-anticipo-caja-chica">
    <div class="modal-content">
        <div class="modal-header bg-primary">
            <button type="button" ng-click="cerrarModalRegistroAnticipoCajaChica()" class="close" data-dismiss="modal"
                aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            <P>
            <h4 class="modal-title">REGISTRO ANTICIPO CAJA CHICA</h4>
            </P>
            <P>{{cajaChica.solicitud.solicitante.persona.nombre_completo}}</P>

        </div>
        <form ng-submit="guardarCajaChica()">
            <div class="modal-body">
                <div class="row">
                    <div ng-class="cajaChica.verDatosCompra ? 'col-md-6' : 'col-md-12'">
                        <div class="row">
                            <div class=col-md-10>
                                <div class="row">
                                    <div class="col-md-4">
                                        <label class="inline">

                                            <span class="lbl">Fecha:</span>
                                        </label>
                                    </div>
                                    <div class="col-md-8">
                                        <datepicker date-format="dd/MM/yyyy" datepicker-mobile="true">
                                            <input type="text" ng-disabled="cajaChica.ver"
                                                ng-model-options="{updateOn: 'submit'}" ng-model="cajaChica.fecha"
                                                class="form-control">
                                        </datepicker>
                                    </div>
                                </div>
                                <div class="space-4"></div>
                                <div class="row">

                                    <div class="col-md-4">
                                        <label class="inline">

                                            <span class="lbl">Concepto</span>
                                        </label>
                                    </div>

                                    <div class="col-md-8">
                                        <!-- <select ng-if="cajaChica.solicitud!=null" required ng-disabled="cajaChica.ver" ng-model-options="{updateOn: 'submit'}" ng-model="cajaChica.concepto"
                                                class="form-control" ng-options="concepto as concepto.nombre for concepto in ConceptosMovimiento | filter:{habilitado:true}|filtroAnticipos track by concepto.id">
                                                <option value="">Seleccionar</option>
                                            </select> -->
                                        <select required ng-disabled="cajaChica.ver"
                                            ng-model-options="{updateOn: 'submit'}" ng-model="cajaChica.concepto"
                                            class="form-control"
                                            ng-options="concepto as concepto.nombre for concepto in ConceptosMovimiento | filter:{habilitado:true}|filtroAnticipos track by concepto.id">
                                            <option value="">Seleccionar</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <!-- <a href="javascript:void(0)" ng-if="cajaChica.solicitud" ng-click="verDatosCompra()" class="red tooltip-info" tooltip-placement="left"
                                        uib-tooltip="Editar Datos Compra">
                                        <i class="ace-icon icono-impuestos bigger-260 icon-only "></i>
                                    </a> -->
                            </div>
                        </div>

                        <div class="space-4"></div>
                        <div class="row">
                            <div class="col-md-3">
                                <label class="inline">

                                    <span class="lbl">Detalle</span>
                                </label>
                            </div>
                            <div class="col-md-9">
                                <textarea required class="form-control" ng-disabled="cajaChica.ver"
                                    ng-model-options="{updateOn: 'submit'}" cols="30" rows="4"
                                    ng-model="cajaChica.detalle"></textarea>
                            </div>
                        </div>
                        <div class="space-4"></div>
                        <div class="row">
                            <div class="col-md-3">
                                <label class="inline">

                                    <span class="lbl">Cuenta:</span>
                                </label>
                            </div>
                            <div class="col-md-9">
                                <input enter autocomplete="off" ng-disabled="cajaChica.ver"
                                    typeahead-append-to-body="true"
                                    ng-keypress="interceptarTecla($event,'cantidad',true)" required type="text"
                                    ng-model="cajaChica.cuenta" placeholder="Busqueda..."
                                    uib-typeahead="cuenta as (cuenta.codigo+'-'+cuenta.nombre) for cuenta in buscarCuentasCajaChica($viewValue)"
                                    typeahead-wait-ms="1000" typeahead-template-url="templates/autocompletar.html"
                                    typeahead-show-hint="false" typeahead-min-length="1"
                                    typeahead-on-select="establecerCuenta($item, $model, $label, $event)">
                                <p class="text-danger" ng-if=" validarCuenta">La cuenta no es valida</p>
                            </div>
                        </div>
                        <div class="space-4"></div>
                        <div class="row">
                            <div class="col-md-3">
                                <label class="inline">

                                    <span class="lbl">Monto:</span>
                                </label>
                            </div>
                            <div class="col-md-9">
                                <input class="form-control" step="0.001" required min="1"
                                    ng-model-options="{updateOn: 'submit'}" type="number" ng-model="cajaChica.total">
                            </div>
                        </div>
                        <div class="space-4"></div>
                        <div class="row">
                            <div class="col-md-3">
                                <label class="inline">

                                    <span class="lbl">SUCURSAL:</span>
                                </label>
                            </div>
                            <div class="col-md-9">
                                <select disabled required data-validate="validate(required)" required
                                    ng-options="sucursal as sucursal.nombre for sucursal in sucursales track by sucursal.id"
                                    ng-model="cajaChica.sucursal">
                                    <option value="">Seleccionar</option>
                                </select>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button ng-hide="cajaChica.ver" type="submit" class="btn btn-primary">Guardar</button>
                <button type="button" class="btn btn-danger"
                    ng-click="cerrarModalRegistroAnticipoCajaChica()">Cerrar</button>
            </div>
        </form>
    </div>
</div>
</div>
<!-- fin registro anticipo caja chica -->

<!-- inicio registro  proveedor caja chica -->
<div class="modal" id="dialog-registro-proveedor-caja-chica">
    <div class="modal-content">
        <div class="modal-header bg-primary">
            <button type="button" ng-click="cerrarModalRegistroProveedorCajaChica()" class="close" data-dismiss="modal"
                aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            <P>
            <h4 class="modal-title">REGISTRO PROVEEDOR CAJA CHICA</h4>
            </P>
            <P>{{cajaChica.solicitud.solicitante.persona.nombre_completo}}</P>

        </div>
        <form ng-submit="guardarCajaChica()">
            <div class="modal-body">
                <div class="row">
                    <div ng-class="cajaChica.verDatosCompra ? 'col-md-6' : 'col-md-12'">
                        <div class="row">
                            <div class=col-md-10>
                                <div class="row">
                                    <div class="col-md-4">
                                        <label class="inline">

                                            <span class="lbl">Fecha:</span>
                                        </label>
                                    </div>
                                    <div class="col-md-8">
                                        <datepicker date-format="dd/MM/yyyy" datepicker-mobile="true">
                                            <input type="text" ng-disabled="cajaChica.ver"
                                                ng-model-options="{updateOn: 'submit'}" ng-model="cajaChica.fecha"
                                                ng-update-hidden data-date-format="dd/mm/yyyy" class="form-control">
                                        </datepicker>
                                    </div>
                                </div>
                                <div class="space-4"></div>
                                <div class="row">

                                    <div class="col-md-4">
                                        <label class="inline">

                                            <span class="lbl">Concepto</span>
                                        </label>
                                    </div>

                                    <div class="col-md-8">
                                        <!-- <select ng-if="cajaChica.solicitud!=null" required ng-disabled="cajaChica.ver" ng-model-options="{updateOn: 'submit'}" ng-model="cajaChica.concepto"
                                                class="form-control" ng-options="concepto as concepto.nombre for concepto in ConceptosMovimiento | filter:{habilitado:true}|filtroAnticipos track by concepto.id">
                                                <option value="">Seleccionar</option>
                                            </select> -->
                                        <select required ng-disabled="cajaChica.ver"
                                            ng-model-options="{updateOn: 'submit'}" ng-model="cajaChica.concepto"
                                            class="form-control"
                                            ng-options="concepto as concepto.nombre for concepto in ConceptosMovimiento | filter:{habilitado:true}|filtroProveedores track by concepto.id">
                                            <option value="">Seleccionar</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <!-- <a href="javascript:void(0)" ng-if="cajaChica.solicitud" ng-click="verDatosCompra()" class="red tooltip-info" tooltip-placement="left"
                                        uib-tooltip="Editar Datos Compra">
                                        <i class="ace-icon icono-impuestos bigger-260 icon-only "></i>
                                    </a> -->
                            </div>
                        </div>

                        <div class="space-4"></div>
                        <div class="row">
                            <div class="col-md-3">
                                <label class="inline">

                                    <span class="lbl">Detalle</span>
                                </label>
                            </div>
                            <div class="col-md-9">
                                <textarea required class="form-control" ng-disabled="cajaChica.ver"
                                    ng-model-options="{updateOn: 'submit'}" cols="30" rows="4"
                                    ng-model="cajaChica.detalle"></textarea>
                            </div>
                        </div>
                        <div class="space-4"></div>
                        <div class="row">
                            <div class="col-md-3">
                                <label class="inline">

                                    <span class="lbl">Cuenta:</span>
                                </label>
                            </div>
                            <div class="col-md-9">
                                <input enter autocomplete="off" ng-disabled="cajaChica.ver"
                                    typeahead-append-to-body="true"
                                    ng-keypress="interceptarTecla($event,'cantidad',true)" required type="text"
                                    ng-model="cajaChica.cuenta" placeholder="Busqueda..."
                                    uib-typeahead="cuenta as (cuenta.codigo+'-'+cuenta.nombre) for cuenta in buscarCuentasCajaChica($viewValue)"
                                    typeahead-wait-ms="1000" typeahead-template-url="templates/autocompletar.html"
                                    typeahead-show-hint="false" typeahead-min-length="1"
                                    typeahead-on-select="establecerCuenta($item, $model, $label, $event)">
                                <p class="text-danger" ng-if=" validarCuenta">La cuenta no es valida</p>
                            </div>
                        </div>
                        <div class="space-4"></div>
                        <div class="row">
                            <div class="col-md-3">
                                <label class="inline">

                                    <span class="lbl">Monto:</span>
                                </label>
                            </div>
                            <div class="col-md-9">
                                <input class="form-control" step="0.001" required min="1"
                                    ng-model-options="{updateOn: 'submit'}" type="number" ng-model="cajaChica.total">
                            </div>
                        </div>
                        <div class="space-4"></div>
                        <div class="row">
                            <div class="col-md-3">
                                <label class="inline">

                                    <span class="lbl">SUCURSAL:</span>
                                </label>
                            </div>
                            <div class="col-md-9">
                                <select disabled required data-validate="validate(required)" required
                                    ng-options="sucursal as sucursal.nombre for sucursal in sucursales track by sucursal.id"
                                    ng-model="cajaChica.sucursal">
                                    <option value="">Seleccionar</option>
                                </select>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button ng-hide="cajaChica.ver" type="submit" class="btn btn-primary">Guardar</button>
                <button type="button" class="btn btn-danger"
                    ng-click="cerrarModalRegistroProveedorCajaChica()">Cerrar</button>
            </div>
        </form>
    </div>
</div>
</div>
<!-- fin registro proveedor caja chica -->
<!-- inicio DESEMBOLSO caja chica -->
<div class="modal" id="dialog-registro-desembolso-caja-chica">
    <div class="modal-content">
        <div class="modal-header bg-primary">
            <button type="button" ng-click="cerrarModalRegistroDesembolsoCajaChica()" class="close" data-dismiss="modal"
                aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            <P>
            <h4 class="modal-title">REGISTRO DESEMBOLSO CAJA CHICA</h4>
            </P>
            <P>{{cajaChica.solicitud.solicitante.persona.nombre_completo}}</P>

        </div>
        <form ng-submit="guardarCajaChica()">
            <div class="modal-body">
                <div class="row">
                    <div ng-class="cajaChica.verDatosCompra ? 'col-md-6' : 'col-md-12'">
                        <div class="row">
                            <div class=col-md-10>
                                <div class="row">
                                    <div class="col-md-4">
                                        <label class="inline">

                                            <span class="lbl">Fecha:</span>
                                        </label>
                                    </div>
                                    <div class="col-md-8">{{cajaChica.fecha}}
                                    </div>
                                </div>
                                <div class="space-4"></div>
                                <div class="row">

                                    <div class="col-md-4">
                                        <label class="inline">

                                            <span class="lbl">Concepto</span>
                                        </label>
                                    </div>

                                    <div class="col-md-8">{{cajaChica.concepto.nombre}}
                                        <!--  <select required disabled ng-disabled="cajaChica.ver" ng-model="cajaChica.concepto"
                                            class="form-control" ng-options="concepto as concepto.nombre for concepto in ConceptosMovimiento | filter:{habilitado:true}|filtroSolicitud track by concepto.id">
                                            <option value="">Seleccionar</option>
                                        </select> -->

                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <!--  <a href="javascript:void(0)" ng-if="cajaChica.solicitud" ng-click="verDatosCompra()" class="red tooltip-info" tooltip-placement="left"
                                    uib-tooltip="Editar Datos Compra">
                                    <i class="ace-icon icono-impuestos bigger-260 icon-only "></i>
                                </a> -->
                            </div>
                        </div>
                        <div class="space-4"></div>
                        <div class="row">
                            <div class="col-md-3 col-sm-12">
                                <label class="inline">

                                    <span class="lbl">Campo</span>
                                </label>
                            </div>
                            <div class="col-md-8 col-sm-12">
                                <div id="cargos" isteven-multi-select required="true" input-model="campamento"
                                    output-model="cajaChica.campos" button-label="icon nombre"
                                    item-label="icon nombre maker" tick-property="ticked" translation="localLang"
                                    max-labels="5">
                                </div>
                            </div>
                            <!--  <div class="col-md-8 col-sm-12">
                                <select required id="filtro-trabajadores-campo-rol" class="form-control" name="centroDeCostos"
                                    ng-options="centroCosto.id as centroCosto.nombre for centroCosto in centrosDeCostos | filter:{habilitado:true} track by centroCosto.id"
                                    ng-model="cajaChica.campo">
                                    <option value="">--selecionar--</option>
                                </select>
                            </div> -->
                        </div>
                        <div class="space-4"></div>
                        <div class="row">
                            <div class="col-md-3">
                                <label class="inline">

                                    <span class="lbl">Detalle</span>
                                </label>
                            </div>
                            <div class="col-md-9">
                                <div class="card">{{cajaChica.detalle}}</div>
                                <!--  <textarea  required class="form-control" ng-disabled="cajaChica.ver" ng-model-options="{updateOn: 'submit'}"
                                    cols="30" rows="4" ng-model="cajaChica.detalle"></textarea> -->
                            </div>
                        </div>
                        <div class="space-4"></div>
                        <div class="row">
                            <div class="col-md-3">
                                <label class="inline">

                                    <span class="lbl">Cuenta:</span>
                                </label>
                            </div>
                            <div class="col-md-9">
                                <input enter autocomplete="off" ng-disabled="cajaChica.ver"
                                    typeahead-append-to-body="true"
                                    ng-keypress="interceptarTecla($event,'cantidad',true)" required type="text"
                                    ng-model="cajaChica.cuenta" placeholder="Busqueda..."
                                    uib-typeahead="cuenta as (cuenta.codigo+'-'+cuenta.nombre) for cuenta in buscarCuentasCajaChica($viewValue)"
                                    typeahead-wait-ms="1000" typeahead-template-url="templates/autocompletar.html"
                                    typeahead-show-hint="false" typeahead-min-length="1"
                                    typeahead-on-select="establecerCuenta($item, $model, $label, $event)">
                                <p class="text-danger" ng-if=" validarCuenta">La cuenta no es valida</p>
                            </div>
                        </div>
                        <div class="space-4"></div>
                        <div class="row">
                            <div class="col-md-3">
                                <label class="inline">

                                    <span class="lbl">Monto:</span>
                                </label>
                            </div>
                            <div class="col-md-9">{{cajaChica.total}}
                                <!--  <input class="form-control" disabled step="0.001" required min="1" ng-model-options="{updateOn: 'submit'}"
                                    type="number" ng-model="cajaChica.total"> -->
                            </div>
                        </div>
                        <div class="space-4"></div>
                        <div class="row">
                            <div class="col-md-3">
                                <label class="inline">

                                    <span class="lbl">SUCURSAL:</span>
                                </label>
                            </div>
                            <div class="col-md-9">{{cajaChica.sucursal.nombre}}
                                <!-- <select required data-validate="validate(required)" ng-disabled="cajaChica.ver"
                                    ng-model-options="{updateOn: 'submit'}" required ng-options="sucursal as sucursal.nombre for sucursal in sucursales track by sucursal.id"
                                    ng-model="cajaChica.sucursal" ng-change="obtenerAlmacenes(cajaChica.compra.sucursal.id)"
                                    ng-disabled="cajaChica.compra.id">
                                    <option value="">Seleccionar</option>
                                </select> -->
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button ng-hide="cajaChica.ver" type="submit" class="btn btn-primary">Guardar</button>
                <button type="button" class="btn btn-danger"
                    ng-click="cerrarModalRegistroDesembolsoCajaChica()">Cerrar</button>
            </div>
        </form>
    </div>
</div>
</div>
<!-- fin registro caja chica -->
<!-- === modal SERVICIOS"==== -->
<div id="dialog-servicios" class="modal" t item-width="500">
    <div class="modal-header bg-primary">
        <h4 class='smaller text-white text-uppercase'>
            <i class='icono-prerequisito'></i>
            <label> &nbsp;{{tipo_edicion.nombre}}:</label>
        </h4>
    </div>
    <div class="modal-body">
        <form ng-submit="agregarConceptoEdicion(clase)">

            <div class="row">


                <div class="col-sm-4">
                    <div class="form-group">
                        <label for="ciudad">Servicio</label>
                        <input type="text" ng-model="clase.nombre" type="text" capitalize
                            style="text-transform:uppercase;" class="form-control" id="servicio" name="ciudad"
                            placeholder="Servicio">
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-group">
                        <label for="ciudad">Comentario</label>
                        <input type="text" ng-model="clase.nombre_corto" type="text" capitalize
                            style="text-transform:uppercase;" class="form-control" id="comentario" name="ciudad"
                            placeholder="Comentario">
                    </div>
                </div>
                <div class="col-sm-2">
                    <br>
                    <div class="form-group">
                        <!-- <button type="button" class="btn btn-success" ng-click="AgregarDepartamento(clase)">
                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                        </button> -->
                        <button ng-if="!clase.edit" type="submit" class="btn btn-success">
                            <span class="glyphicon glyphicon-plus" aria-hidden="true">Agregar</span>
                        </button>
                        <button ng-if="clase.edit" type="submit" class="btn btn-primary">
                            <span class="glyphicon glyphicon-plus" aria-hidden="true">Modificar</span>
                        </button>
                        <button ng-if="clase.edit" type="button" class="btn btn-danger"
                            ng-click="cancelarEdicionDepartamento(clase)">
                            <span class="" aria-hidden="true">Cancelar</span>
                        </button>
                    </div>
                </div>
            </div>
        </form>
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Servicio</th>
                    <th>Comentario</th>
                    <th>Editar</th>
                    <th>Habilitar</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="clase in tipo_edicion.clases">
                    <th scope="row">{{clase.nombre}}</th>
                    <th scope="row">{{clase.nombre_corto}}</th>
                    <td>
                        <a href="javascript:void(0)" ng-click="modificarConceptoEdicion(clase)">
                            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                        </a>
                    </td>
                    <td>
                        <label>
                            <input name="switch-field-1" class="ace ace-switch ace-switch-5" type="checkbox"
                                ng-model="clase.habilitado">
                            <span class="lbl check-espaniol"></span>
                        </label>
                    </td>
                    <td>
                        <a href="javascript:void(0)" role="button" data-rel="tooltip" data-placement="top"
                            uib-tooltip="Anticipos Regulares" ng-click="establecerServicioSeleccionado(clase)">
                            <span class="badge badge-success ">
                                <span class="fa fa-check bigger-200" aria-hidden="true"></span>
                            </span>
                        </a>

                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="modal-footer wizard-actions">
        <button class="btn btn-primary btn-sm" ng-click="guardarConceptoEdicion(tipo_edicion)">
            <i class="glyphicon glyphicon-floppy-disk"></i>Guardar
        </button>
        <button class="btn btn-danger btn-sm" ng-click="cerrarDialogServicios()">
            <i class="ace-icon fa fa-times"></i>Cancelar
        </button>
    </div>

</div>
<canvas id="qr-code" style="display:none" width="100" height="100"></canvas>

<!-- ========= fin SERVICIOS ========= -->
<!-- inicio detalle fondos a rendir -->
<div class="modal" id="modal-detalle-gastos-fondo">
    <!--  <div role="document"> -->
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" aria-label="Close" ng-click="cerrarModalDetalleGastosFondo()">
                <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title">Detalle Gastos Rendicion</h4>
        </div>
        <div class="modal-body">
            <div class="row">
                <div class="form-group col-md-4">
                    <label>Generar Impreciones al rendir</label>
                    <label>
                        <input class="ace ace-switch ace-switch-4" type="checkbox" ng-model="usar_imprecion_rendicion"
                            ng-change=guardarConfigImprecionRendicion(usar_imprecion_rendicion) />
                        <span class="lbl check-descuento"></span>
                    </label>
                </div>
                <div ng-if="usuario.encargado_integracion_contable" class="form-group col-md-6">
                    <label for="nombre">&nbsp;</label>
                    <a class="blue" href="javascript:void(0)" data-rel="tooltip" ng-click="generarComprobante()"
                        data-placement="top" uib-tooltip="Generar comprobante" tooltip-append-to-body="true">
                        <i class="ace-icon fa fa-sign-out bigger-230"></i></a>
                </div>
            </div>
            <div class="widget-box">
                <div class="widget-header">
                    <h4 class="widget-title">DETALLE.</h4>
                    <div class="inline pos-rel pull-right open">
                        <a data-toggle="dropdown" href="javascript:void(0)" class="dropdown-toggle">
                            <i class="glyphicon glyphicon-list-alt"></i>
                        </a>

                        <ul id="field-viewer" class="dropdown-menu-right dropdown-menu dropdown-yellow dropdown-caret">
                            <li ng-repeat="fieldKey in fieldViewerDetalleFondo.getKeys()">
                                <label>
                                    <input class="ace ace-switch ace-switch-4" type="checkbox"
                                        ng-model="fieldViewerDetalleFondo.object.configuracion[fieldKey].show"
                                        ng-change="fieldViewerDetalleFondo.updateObject()" />
                                    <span class="lbl check-descuento"></span>
                                </label>
                                <label
                                    class="blue">{{fieldViewerDetalleFondo.object.configuracion[fieldKey].value}}</label>
                            </li>
                            <li class="divider"></li>
                        </ul>
                    </div>
                </div>

                <div class="widget-body" style="display: block;">
                    <div class="widget-main">
                        <div class="table-fixed-header2">
                            <table class="table table-striped table-hover">
                                <thead fix-head class="table-head-color">
                                    <tr>
                                        <th>#</th>
                                        <th ng-if="fieldViewerDetalleFondo.getConfiguration().gasto.show">Gasto</th>
                                        <th ng-if="fieldViewerDetalleFondo.getConfiguration().fecha.show">Fecha</th>
                                        <th ng-if="fieldViewerDetalleFondo.getConfiguration().num_fact_rec.show">Nº
                                            Fact/Rec</th>
                                        <th ng-if="fieldViewerDetalleFondo.getConfiguration().detalle.show">Detalle</th>
                                        <th ng-if="fieldViewerDetalleFondo.getConfiguration().monto.show">Monto</th>
                                        <th ng-if="fieldViewerDetalleFondo.getConfiguration().area.show">Area</th>
                                        <th ng-if="fieldViewerDetalleFondo.getConfiguration().centro_costos.show">
                                            Centros
                                            Costos</th>
                                        <th>Estado</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="gasto in rendicionFondo.gastos track by $index">
                                        <td>{{$index}}</td>
                                        <td ng-if="fieldViewerDetalleFondo.getConfiguration().gasto.show">
                                            {{gasto.gasto.nombre}}</td>
                                        <td ng-if="fieldViewerDetalleFondo.getConfiguration().fecha.show">
                                            {{gasto.fecha|date:'dd/MM/yyyy'}}</td>
                                        <td ng-if="fieldViewerDetalleFondo.getConfiguration().num_fact_rec.show">
                                            {{gasto.numero_factura_recargo}}</td>
                                        <td ng-if="fieldViewerDetalleFondo.getConfiguration().detalle.show">
                                            {{gasto.detalle}}</td>
                                        <td ng-if="fieldViewerDetalleFondo.getConfiguration().monto.show">
                                            {{gasto.monto}}</td>
                                        <td ng-if="fieldViewerDetalleFondo.getConfiguration().area.show">
                                            {{gasto.area.nombre}}</td>
                                        <td ng-if="fieldViewerDetalleFondo.getConfiguration().centro_costos.show">
                                            <a popover-placement="right"
                                                uib-popover-template="dynamicPopoverCargosFr.templateUrl"
                                                popover-trigger="outsideClick: outsideClick"
                                                popover-title="Contros de costo" popover-append-to-body="true"
                                                class="blue">
                                                <i class="fa fa-list-ol bigger-200 orange" aria-hidden="true"></i>
                                            </a>
                                            <script type="text/ng-template" id="myPopoverTemplateFrCargos.html">
                                                        <div class="form-group">    
                                                            <div style="height:300px !important;overflow: auto;" >
                                                                    <p ng-repeat="centroCosto in gasto.centrosCosto track by $index">
                                                                            {{centroCosto.nombre}}
                                                                        </p>
                                                            </div>
                                                        </div>                                           
                                                    </script>
                                        </td>
                                        <td>
                                            <p ng-if="gasto.rembolsado">Revisado</p>
                                            <p ng-if="!gasto.rembolsado">Falta Revisar</p>
                                        </td>
                                        <td>
                                            <a class="red" ng-hide="gasto.rembolsado" href="javascript:void(0)"
                                                e-disabled="!aplicacion.puede_modificar"
                                                ng-click="crearRegistroCajaChicaDeDetalleFondo(gasto)">
                                                <i class="ace-icon icono-impuestos bigger-180 icon-only "></i>
                                            </a>
                                        </td>
                                    </tr>

                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 col-sm-6"><span class="pull-right"><b>Total</b></span></div>
                        <div class="col-md-6 col-sm-6"><span class="pull-left"><b>{{totalGastoFr}}</b></span></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-danger" type="button" ng-click="cerrarModalDetalleGastosFondo()">
                Cancel
            </button>
        </div>
    </div>
    <!--  </div> -->
</div>
<!-- fin detalle fondos a rendir -->

<div class="modal" id="dialog-devolucion-fondo-a-rendir">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" aria-label="Close" ng-click="cerrarModalDevolucionFondoRendir()">
                <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title">Fondo A Rendir</h4>
        </div>
        <div class="modal-body">
            <div class="row">
                <div class="col-sm-6">
                    <div>
                        <label>
                            Mostrar <select ng-model="paginatorRendicion.itemsPerPage"
                                ng-change="paginatorRendicion.getFirstPage()" name="tabla-proveedores_length"
                                aria-controls="tabla-proveedores" class="form-control input-sm">
                                <option value="0">Todos</option>
                                <option ng-selected="true" value="10">10</option>
                                <option value="25">25</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                            </select> Elementos</label>
                    </div>
                </div>
                <div class="col-sm-6" align="right">
                    <div>
                        <label>Buscar:(Doc,Beneficiario)
                            <input autofocus class="form-control input-sm" type="search" ng-model="textSearch"
                                ng-model-options='{ debounce: 600 }'
                                ng-change="paginatorRendicion.getSearch(textSearch,paginatorRendicion.filter,$event)">
                        </label>
                    </div>
                </div>
            </div>
            <div style="height:300px !important; overflow: auto;">

                <table class="table table-bordered table-hover table-striped">
                    <thead>
                        <tr>
                            <th>Nro</th>
                            <th>
                                <a href="javascript:void(0)"
                                    ng-click="paginatorRendicion.sortColumn('fecha_devolucion',obtenerLista)">Fecha<span
                                        id="fecha_devolucion" class="sort fa fa-sort icon-only"></span>
                                </a>
                            </th>
                            <th>
                                <a href="javascript:void(0)" href="javascript:void(0)"
                                    ng-click="paginatorRendicion.sortColumn('doc_devolucion',obtenerLista)">Doc.<span
                                        id="doc_devolucion" class="sort fa fa-sort icon-only"></span>
                                </a>
                            </th>
                            <th width="150px">
                                <a href="javascript:void(0)" href="javascript:void(0)"
                                    ng-click="paginatorRendicion.sortColumn('beneficiario_devolucion',obtenerLista)">Beneficiario<span
                                        id="beneficiario_devolucion" class="sort fa fa-sort icon-only"></span>
                                </a>
                            </th>
                            <th>
                                Estado
                            </th>
                            <th>
                                <a href="javascript:void(0)" href="javascript:void(0)"
                                    ng-click="paginatorRendicion.sortColumn('monto_devolucion',obtenerLista)">Monto<span
                                        id="monto_devolucion" class="sort fa fa-sort icon-only"></span>
                                </a>
                            </th>
                            <th>
                                Gasto
                            </th>
                            <th>
                                Saldo
                            </th>
                            <th>
                                Acciones
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="solicitud in listaFondosARendir track by $index">
                            <td>
                                {{($index+1)+(paginator2.itemsPerPage*(paginator2.currentPage-1))}}
                            </td>
                            <td>
                                {{solicitud.fecha|date:'dd/MM/yyyy'}}
                            </td>
                            <td>
                                <center>{{solicitud.cajasChicas[0].numero_correlativo}}</center>
                            </td>
                            <td width="150px">
                                {{solicitud.solicitante.persona.nombre_completo}}
                            </td>
                            <td>
                                {{solicitud.estado.nombre}}
                            </td>
                            <td>
                                {{solicitud.monto|number:2}}
                            </td>
                            <td>
                                {{solicitud.pagado|number:2}}
                            </td>
                            <td class="bg-yellow">
                                {{solicitud.saldo|number:2}}

                            </td>
                            <td>
                                <a class="blue tooltip-info" uib-tooltip="Seleccionar" href="javascript:void(0)"
                                    ng-click="seleccionarFondoArendir(solicitud)">
                                    <i class="ace-icon fa fa-hand-o-left bigger-130"></i>
                            </td>
                        </tr>
                    </tbody>
                </table>

            </div>
            <div class="row">
                <div class="col-sm-6">
                    <div>
                        Mostrando página {{paginatorRendicion.currentPage}} de {{paginatorRendicion.pages.length}}
                    </div>
                </div>
                <div class="col-sm-6" align="right">
                    <ul class="pagination">
                        <li class="paginate_button">
                            <a href="javascript:void(0)" ng-click="paginatorRendicion.getFirstPage()">Primero</a>
                        </li>
                        <li class="paginate_button">
                            <a href="javascript:void(0)" e-disabled="paginatorRendicion.currentPage==1"
                                ng-click="paginatorRendicion.getPreviousPage()">
                                <i class="fa fa-angle-double-left" aria-hidden="true"></i></a>
                        </li>
                        <li class="paginate_button" ng-class="{active:paginatorRendicion.currentPage==page}"
                            ng-repeat="page in paginatorRendicion.pages"
                            ng-if="abs(paginatorRendicion.currentPage-page)<4">
                            <a e-disabled="paginatorRendicion.currentPage==page" href="javascript:void(0)"
                                ng-click="paginatorRendicion.getPage(page)">{{page}}</a>
                        </li>
                        <li class="paginate_button">
                            <a href="javascript:void(0)"
                                e-disabled="paginatorRendicion.currentPage==paginatorRendicion.pages.length"
                                ng-click="paginatorRendicion.getNextPage()"><i class="fa fa-angle-double-right"
                                    aria-hidden="true"></i></a>
                            </lidiv>
                        <li class="paginate_button">
                            <a href="javascript:void(0)" ng-click="paginatorRendicion.getLastPage()">Ultimo</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-danger" type="button" ng-click="cerrarModalDevolucionFondoRendir()">
                Cerrar
            </button>

        </div>
    </div>
</div>

<!-- fin  configuracion contable comprobantes -->
<!-- listar registro de vales -->
<div class="modal" id="dialog-lista-vales">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" aria-label="Close" ng-click="cerrarModallistaVales()">
                <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title">Vales</h4>
        </div>
        <div class="modal-body">
            <div class="widget-box">
                <div class="widget-header">
                    <div class="pull-right">
                        Exportar En: <a id="pdf" class="btn btn-app btn-danger btn-xs" ng-click="imprimirPDFVales()">
                            <i class="ace-icon fa fa-print bigger-160"></i>
                            PDF
                        </a>
                        <!-- ng-disabled="!Cuentas" -->
                        <a id="excel" class="btn btn-app btn-success btn-xs" ng-click="imprimirExcelVales()">
                            <i class="ace-icon fa fa-print bigger-160"></i>
                            Excel
                        </a>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-3">
                    <div>
                        <label>
                            Mostrar <select ng-model="paginatorListaVales.itemsPerPage"
                                ng-change="paginatorListaVales.getFirstPage()" name="tabla-proveedores_length"
                                aria-controls="tabla-proveedores" class="form-control input-sm">
                                <option value="0">Todos</option>
                                <option ng-selected="true" value="10">10</option>
                                <option value="25">25</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                            </select> Elementos</label>
                    </div>
                </div>
                <div class="col-sm-3">
                    <label>Estado</label>
                    <select required data-validate="validate(required)" ng-change="obtenerlistaVales(filtroVale)"
                        ng-options="estado.id as estado.nombre for estado in estadosVales track by estado.id"
                        ng-model="filtroVale.id_estado">
                        <option value="">Seleccionar</option>
                    </select>
                </div>
                <div class="col-sm-6" align="right">
                    <div>
                        <label>Buscar:(monto,Beneficiario)</label>
                        <input autofocus class="form-control input-sm" type="search" ng-model="textSearch"
                            ng-model-options='{ debounce: 600 }'
                            ng-change="paginatorListaVales.getSearch(textSearch,paginatorListaVales.filter,$event)">

                    </div>
                </div>
            </div>
            <div style="height:300px !important; overflow: auto;">

                <table class="table table-bordered table-hover table-striped">
                    <thead>
                        <tr>
                            <th>Nro</th>
                            <th>
                                <a href="javascript:void(0)"
                                    ng-click="paginatorListaVales.sortColumn('fecha_devolucion',obtenerLista)">Fecha<span
                                        id="fecha_devolucion" class="sort fa fa-sort icon-only"></span>
                                </a>
                            </th>
                            <th>
                                <!-- <a href="javascript:void(0)"
                                    ng-click="paginatorListaVales.sortColumn('fecha_devolucion',obtenerLista)"> -->Doc
                                <!-- <span
                                        id="fecha_devolucion" class="sort fa fa-sort icon-only"></span>
                                </a> -->
                            </th>
                            <th width="150px">
                                <a href="javascript:void(0)" href="javascript:void(0)"
                                    ng-click="paginatorListaVales.sortColumn('beneficiario_devolucion',obtenerLista)">Beneficiario<span
                                        id="beneficiario_devolucion" class="sort fa fa-sort icon-only"></span>
                                </a>
                            </th>
                            <th>
                                Estado
                            </th>
                            <th>
                                <a href="javascript:void(0)" href="javascript:void(0)"
                                    ng-click="paginatorListaVales.sortColumn('monto_devolucion',obtenerLista)">Monto<span
                                        id="monto_devolucion" class="sort fa fa-sort icon-only"></span>
                                </a>
                            </th>

                            <th>
                                Acciones
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="vale in listaVales track by $index">
                            <td>
                                {{($index+1)+(paginator2.itemsPerPage*(paginator2.currentPage-1))}}
                            </td>
                            <td>
                                {{vale.fecha|date:'dd/MM/yyyy'}}
                            </td>
                            <td>
                                {{vale.numero_correlativo}}
                            </td>
                            <td width="150px">
                                {{vale.solicitud.solicitante.persona.nombre_completo}}
                            </td>
                            <td>
                                {{vale.estado.nombre}}
                            </td>
                            <td>
                                {{vale.monto|number:2}}
                            </td>

                            <td>
                                <a class="blue tooltip-info" uib-tooltip="Imprimir" href="javascript:void(0)"
                                    ng-click="ImprimirValeCajaChica(vale,true,true)">
                                    <i class="ace-icon fa fa-print bigger-130"></i>
                            </td>
                        </tr>
                    </tbody>
                </table>

            </div>
            <div class="row">
                <div class="col-sm-6">
                    <div>
                        Mostrando página {{paginatorListaVales.currentPage}} de {{paginatorListaVales.pages.length}}
                    </div>
                </div>
                <div class="col-sm-6" align="right">
                    <ul class="pagination">
                        <li class="paginate_button">
                            <a href="javascript:void(0)" ng-click="paginatorListaVales.getFirstPage()">Primero</a>
                        </li>
                        <li class="paginate_button">
                            <a href="javascript:void(0)" e-disabled="paginatorListaVales.currentPage==1"
                                ng-click="paginatorListaVales.getPreviousPage()">
                                <<< /a>
                        </li>
                        <li class="paginate_button" ng-class="{active:paginatorListaVales.currentPage==page}"
                            ng-repeat="page in paginatorListaVales.pages"
                            ng-if="abs(paginatorListaVales.currentPage-page)<4">
                            <a e-disabled="paginatorListaVales.currentPage==page" href="javascript:void(0)"
                                ng-click="paginatorListaVales.getPage(page)">{{page}}</a>
                        </li>
                        <li class="paginate_button">
                            <a href="javascript:void(0)"
                                e-disabled="paginatorListaVales.currentPage==paginatorListaVales.pages.length"
                                ng-click="paginatorListaVales.getNextPage()">>></a>
                            </lidiv>
                        <li class="paginate_button">
                            <a href="javascript:void(0)" ng-click="paginatorListaVales.getLastPage()">Ultimo</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-danger" type="button" ng-click="cerrarModallistaVales()">
                Cerrar
            </button>

        </div>
    </div>
</div>
<!-- fin listar registro de vales -->