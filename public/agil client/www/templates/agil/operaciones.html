<div id="operaciones">
    <div>
        <h3 class="header smaller lighter blue">SOLICITUD DE CAMPAMENTOS</h3>
        <button id="nuevo" class="btn-woBox button-glow" ng-disabled="!aplicacion.puede_crear"
            ng-click="abrirDialogPanelOperaciones('nuevo')">
            <i class="ace-icon fa fa-plus align-top bigger-125"></i>
            NUEVO
        </button>
        <!--     <button id="crearPedidoNuevo" class="btn btn-primary bigger-100" ng-click="abrirModalNuevoPedido()">
            <label>
                Nuevo Pedido</label>
            <img class="img" height="50" width="50" src="img/icono-pedidos.png" alt="Nuevo pedido" data-rel="tooltip" tooltip-placement="top"
                uib-tooltip="Nuevo pedido">
        </button> -->&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
        <a href="javascript:void(0)" e-disabled="!aplicacion.puede_crear" ng-click="generarPedido(true)"
            data-rel="tooltip" tooltip-placement="top" uib-tooltip="Nuevo pedido">
            <img class="img" height="38" width="110" src="img/pedidos3.png">
        </a>&nbsp&nbsp&nbsp&nbsp
        <a href="javascript:void(0)" e-disabled="!aplicacion.puede_crear" ng-click="abrirModalOrdenReposicion()"
            data-rel="tooltip" tooltip-placement="top" uib-tooltip="Reposicion">
            <img class="img" height="45" width="140" src="img/icono-pedidos2.png">
        </a>
        <form name="formularioFiltroOperaciones" novalidate ng-submit="obtenerPaginador(filtro)">
            <fieldset>
                <legend>Filtro Solicitudes</legend>
                <div class="row">
                    <div class="col-md-3 col-sm-6 col-lg-2">
                        <div class="from-group">
                            <label for="desde-f">Desde</label>
                            <div
                                ng-class="{'button-glow' : !filtro.fechaInicioTexto, 'has-error-date':fechasIncorrectaInic}">
                                <input ng-update-hidden class="form-control date-picker" autocomplete="off" type="text"
                                    data-date-format="dd/mm/yyyy" id="fechainicio" ng-model="filtro.fechaInicioTexto"
                                    placeholder="Ingrese la fecha inicial"
                                    ng-change="validarFechaI(filtro.fechaInicioTexto, filtro.fechaFinTexto)" />
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 col-lg-2">
                        <div class="from-group">
                            <label for="hasta-f">Hasta</label>
                            <div
                                ng-class="{'button-glow' : !filtro.fechaFinTexto && filtro.fechaInicioTexto, 'has-error-date':fechasIncorrectaFin}">
                                <input ng-update-hidden class="form-control date-picker" autocomplete="off" type="text"
                                    data-date-format="dd/mm/yyyy" id="fechafin" ng-model="filtro.fechaFinTexto"
                                    placeholder="Ingrese la fecha final"
                                    ng-change="validarFechaF(filtro.fechaInicioTexto, filtro.fechaFinTexto)" />
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 col-lg-2">
                        <div class="from-group">
                            <label>Sucursal</label>
                            <select required id="sucursal-filtro-operaciones" name="sucursal" class="form-control"
                                ng-options="sucursal as sucursal.nombre for sucursal in sucursales track by sucursal.id"
                                ng-model="filtro.sucursal" ng-change="obtenerAlmacenes(filtro.sucursal.id)">
                                <option value="" selected>TODOS</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 col-lg-2">
                        <div class="from-group">
                            <label>Almacen</label>
                            <select data-validate="validate(required)" required id="almacen-filtro-operaciones"
                                name="almacen" ng-model="filtro.almacen" class="form-control"
                                ng-options="almacen as almacen.nombre for almacen in almacenes track by almacen.id"
                                data-placeholder="Click para escoger">
                                <option value="" selected>TODOS</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 col-lg-2">
                        <div class="from-group">
                            <label>Estado</label>
                            <select id="filEstadoOp" name="filEstadoOp" ng-model="filtro.estado" class="form-control"
                                ng-options="Estado_ as Estado_.nombre for Estado_ in [{nombre:'Abierto',id:1},{nombre:'Cerrado',id:2}] track by Estado_.id">
                                <option value="" selected>TODOS</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 col-lg-2">
                        <div class="from-group">
                            <label>Pedido</label>
                            <select ng-model="filtro.pedido" class="form-control"
                                ng-options="pedido.id as pedido.nombre for pedido in [{nombre:'Pendiente',id:1},{nombre:'Parcial',id:2}, {nombre:'Total',id:3}] track by pedido.id">
                                <option value="">TODOS</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 col-lg-2">
                        <div class="from-group">
                            <label>Contabilizado</label>
                            <select ng-model="filtro.contabilizado" class="form-control"
                                ng-options="contabilizado.id as contabilizado.nombre for contabilizado in [{nombre:'Pendiente',id:1},{nombre:'Contabilizado',id:2}] track by contabilizado.id">
                                <option value="">TODOS</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 col-lg-2">
                        <div class="from-group">
                            <label>Usuario</label>
                            <input type="text" class="form-control" name="" id="" aria-describedby="helpId"
                                placeholder="" ng-model="filtro.usuario">
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 col-lg-2">
                        <div class="from-group">
                            <label>NÂº Almacen</label>
                            <input type="number" class="form-control" name="" id="" aria-describedby="helpId"
                                placeholder="" ng-model="filtro.nro_almacen">
                        </div>
                    </div>
                    <div class="col-md-6 col-sm-12 col-lg-6">
                        <div style="margin-top: 15px;" class="from-group">
                            <button
                                ng-class="{'button-glow': filtro.fechaFinTexto && filtro.fechaInicioTexto && !solicitudesOperaciones.length>0}"
                                type="submit" class="btn btn-info btn-md"
                                ng-disabled="fechasIncorrectaInic || fechasIncorrectaFin">
                                <i style="padding-top: 3px;" class="ace-icon fa fa-search align-top bigger-100"></i>
                                Filtrar
                            </button>
                            <div  class="btn-group" uib-dropdown>
                                <button  type="button" class="btn btn-danger btn-md" ng-click="GenerarReportePdfResumen(filtro)">
                                    <i style="padding-top: 2px;" class="ace-icon fa fa-print align-top bigger-100"></i>
                                    PDF
                                </button>
                                <button  type="button" class="btn btn-danger btn-md" uib-dropdown-toggle>
                                  <span class="caret"></span>
                                  <span class="sr-only">Split button!</span>
                                </button>
                                <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="split-button">
                                    <li role="menuitem"><a href="javascript:void(0)" ng-click="GenerarReportePdfProductos(filtro)">Por Productos</a></li>
                                  <li role="menuitem"><a href="javascript:void(0)" ng-click="GenerarReportePdfDocumentos(filtro)">Por Documentos</a></li>
                                  <li role="menuitem"><a href="javascript:void(0)" ng-click="GenerarReportePdfDetalle(filtro)">Detallado General</a></li>
                                </ul>
                              </div>
                            <button type="button" class="btn btn-success btn-md" ng-click="GenerarReporteExcel(filtro)">
                                <i style="padding-top: 3px;" class="ace-icon fa fa-print align-top bigger-100"></i>
                                Excel
                            </button>

                            <label class="pull-lefth inline">
                                <small class="muted smaller-90">Detalle:</small>

                                <input id="id-button-detalle" ng-model="filtro.detalle" name="switch-view-detail"
                                    checked="checked" type="checkbox" class="ace ace-switch ace-switch-4">
                                <span class="lbl check-detalle"></span>
                            </label>
                        </div>
                    </div>
                </div>

            </fieldset>
        </form>
        <div class="clearfix">
            <div class="pull-right tableTools-container"></div>
        </div>
        <div class="table-header">
            <div class="form-inline no-footer"> Lista de Solicitudes &nbsp; &nbsp;
                    <a class="white" href="javascript:void(0)"  ng-if="usuario.encargado_integracion_contable_gestion"
                        ng-click="generarComprobante()">
                        <i class="ace-icon fa fa-sign-out bigger-130"></i>Generar Comprobante
                    </a>
                <div class="pos-rel pull-right">
                    <a href="javascript:void(0)" ng-If="usuario.encargado_sincronizacion_gestion"
                        class="btn btn-primary btn-xs" ng-click="abrirModalSincronizacion()">
                        <i class="fa fa-download" aria-hidden="true"></i>
                    </a>
                    <a  data-toggle="dropdown" class="btn btn-primary btn-xs" id="zoomBtn">
                        <i class="ace-icon fa fa-wrench  bigger-110 icon-only "></i>
                    </a>
                    <ul
                        class="dropdown-menu-right dropdown-navbar navbar-orange dropdown-menu dropdown-caret dropdown-close importar-text">
                        <li class="dropdown-header header-importar">
                            <i class="ace-icon fa fa-wrench white"></i>
                            Importaciones
                        </li>
                        <li class="dropdown-content">
                            <ul class="dropdown-menu dropdown-navbar navbar-pink">
                                <li>
                                    <div class="clearfix">
                                        <span class="pull-left" style="color:rgb(85, 128, 163) !important">
                                            Consumos almacen
                                        </span>

                                        <a href="/recursos/EJEMPLO-CONSUMO-ALMACEN.xlsx"
                                            class="boton-importar pull-right">
                                            <i class="fa  fa-cloud-download green"></i>
                                        </a>

                                        <div class="fileUpload boton-importar pull-right">
                                            <span class="fileUpload-button ace-icon fa fa-cloud-upload blue"></span>
                                            <input class="upload" type="file"
                                                custom-on-file-change="subirExcelConsumosAlmacen" />
                                        </div>
                                    </div>
                                </li>

                            </ul>
                        </li>
                        <li class="dropdown-footer"></li>
                    </ul>
                    <div class="inline pos-rel pull-right">
                        <div class="col-sm-10" ng-include src="'/templates/gral/fields-viewer.html'"></div>
                    </div>
                </div>

            </div>
        </div>
        <div id="tabla-pacientes_wrapper" class="dataTables_wrapper form-inline no-footer">
            <div class="col-xs-6 col-sm-6 col-md-6">
                <div>
                    <label>
                        Mostrar <select ng-model="paginator.itemsPerPage" ng-change="paginator.getFirstPage()"
                            name="tabla-proveedores_length" aria-controls="tabla-proveedores"
                            class="form-control input-sm">
                            <!-- <option value="0">Todos</option> -->
                            <option ng-selected="true" value="10">10</option>
                            <option value="25">25</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select> Elementos</label>
                </div>
            </div>
            <div class="col-xs-6 col-sm-6 col-md-6" align="right">
                <div class="col-sm-5">

                </div>
                <div class="col-sm-3">
                    <label style="margin-top: 5px;">Buscar:</label>
                </div>
                <div class="col-xs-12 col-sm-4 col-md-3 col-lg-3" style="padding: 0px 0px;">
                    <div ng-class="{ 'button-glow' :!textSearch.length>0 }">
                        <input style="margin: 0px 0px !important; width: 100%;" id="searchBox" name="searchBox"
                            class="input-sm" type="search" ng-model="filtro.busqueda"
                            ng-model-options='{ debounce: 600 }'
                            ng-change="paginator.getSearch(filtro.busqueda,paginator.filter,$event)">
                    </div>

                </div>
            </div>
            <div class="col-xs-12" style="overflow-x: auto;">
                <table id="tabla-ventas" class="table table-striped table-bordered table-hover" >
                    <thead>
                        <tr>
                            <th ng-if="usuario.encargado_integracion_contable_gestion"><label>
                                    <input type="checkbox" class="ace" ng-model="selectTodos"
                                        ng-change="selecionarConsumos(selectTodos)" />
                                    <span class="lbl"></span>
                                </label></th>
                            <th >NÂº</th>
                            <th ng-if="fieldViewer.getConfiguration().doc.show">Doc.</th>
                            <th ng-if="fieldViewer.getConfiguration().iso.show">Doc/ISO.</th>
                            <th ng-if="fieldViewer.getConfiguration().sucursal.show">Sucursal</th>
                            <th ng-if="fieldViewer.getConfiguration().almacen.show">AlmacÃ©n</th>
                            <th ng-if="fieldViewer.getConfiguration().nro_almacen.show">NÂº AlmacÃ©n</th>
                            <th ng-if="fieldViewer.getConfiguration().fecha.show">Fecha</th>
                            <th ng-if="fieldViewer.getConfiguration().fechaHora.show">Hora - Fecha</th>
                            <th ng-if="fieldViewer.getConfiguration().monto.show">Monto</th>
                            <th ng-if="fieldViewer.getConfiguration().descripcion.show">DescripciÃ³n</th>
                            <th ng-if="fieldViewer.getConfiguration().usuario.show">Usuario</th>
                            <th ng-if="fieldViewer.getConfiguration().estado.show">Estado / Pedido / Contabilidad</th>
                            <th ng-if="fieldViewer.getConfiguration().fechaCierre.show">Fecha Cierre</th>
                            <th ng-if="fieldViewer.getConfiguration().cerradoPor.show">Cerrado Por:</th>
                            <th >Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="solicitud in solicitudesOperaciones">
                            <td ng-if="usuario.encargado_integracion_contable_gestion">
                                <label ng-if="!solicitud.id_comprobante && !solicitud.eliminado">
                                    <input type="checkbox" class="ace" ng-model="solicitud.seleccinado" />
                                    <span class="lbl"></span>
                                </label>
                            </td>
                            <td> {{($index+1)+(paginator.itemsPerPage*(paginator.currentPage-1))}}</td>
                            <td ng-if="fieldViewer.getConfiguration().doc.show">{{solicitud.numero_correlativo}}</td>
                            <td ng-if="fieldViewer.getConfiguration().iso.show">{{solicitud.numero_iso_consumo}}</td>
                            <td ng-if="fieldViewer.getConfiguration().sucursal.show">{{solicitud.almacen.sucursal.nombre}}</td>
                            <td ng-if="fieldViewer.getConfiguration().almacen.show">{{ solicitud.almacen ? solicitud.almacen.nombre : "" }}</td>
                            <td ng-if="fieldViewer.getConfiguration().nro_almacen.show">{{ solicitud.almacen ? solicitud.almacen.numero : "" }}</td>
                            <td ng-if="fieldViewer.getConfiguration().fecha.show">{{solicitud.fecha | date:"dd/MM/yyyy"}}</td>
                            <td ng-if="fieldViewer.getConfiguration().fechaHora.show">{{solicitud.fecha | date:"dd/MM/yyyy HH:mm"}}</td>
                            <td ng-if="fieldViewer.getConfiguration().monto.show" align="right">{{(solicitud.monto*0.87) | number:2}}</td>
                            <td ng-if="fieldViewer.getConfiguration().descripcion.show">{{solicitud.descripcion}}</td>
                            <td ng-if="fieldViewer.getConfiguration().usuario.show">{{solicitud.usuario.persona.nombre_completo}}</td>
                            <td ng-if="fieldViewer.getConfiguration().estado.show">
                                <span class="badge badge-success"
                                    ng-if="solicitud.activo && !solicitud.eliminado">Abierto</span>
                                <span class="badge badge-danger"
                                    ng-if="!solicitud.activo && !solicitud.eliminado">Cerrado</span>
                                <span class="badge badge-danger" ng-if="solicitud.eliminado">Anulado</span>

                                <!-- <label class="bg-red" ng-if="solicitud.id_pedido == null && !solicitud.eliminado">&nbsp
                                &nbsp Pendiente &nbsp &nbsp</label>
                            <label class="bg-yellow" ng-if="solicitud.id_pedido > 0 && !solicitud.eliminado">&nbsp &nbsp
                                Parcial &nbsp &nbsp</label>
                            <label class="bg-green"
                                ng-if="solicitud.pedido && solicitud.compra && !solicitud.eliminado">&nbsp &nbsp Total
                                &nbsp &nbsp</label> -->
                                <span class="badge"
                                    ng-class="solicitud.etado.nombre_corto==PENDIENTE?'badge-danger':solicitud.etado.nombre_corto=='PARCIAL'?'badge-warning':solicitud.etado.nombre_corto=='TOTAL'?'badge-success':''">{{solicitud.estado.nombre
                                    | capitalizeText}}</span>
                                <span class="badge badge-warning"
                                    ng-if="!solicitud.id_comprobante && !solicitud.eliminado">Pendiente</span>
                                <span class="badge badge-success"
                                    ng-if="solicitud.id_comprobante && !solicitud.eliminado">Contabilizado</span>
                            </td>
                            <!-- <td><label><input id="estadoSolicitud" name="estadoSolicitud" ng-updated-hidden ng-model="solicitud.activo" class="ace ace-switch ace-switch-5" type="checkbox">
                            <span class="lbl check-descuento"> <label class="bg-green" ng-if="solicitud.activo">&nbsp &nbspActivo&nbsp &nbsp</label><label class="bg-red" ng-if="!solicitud.activo">&nbsp &nbspInactivo&nbsp &nbsp</label></span></label></td>-->
                            <td ng-if="fieldViewer.getConfiguration().fechaCierre.show">{{solicitud.fecha_cierre | date:"HH:mm dd/MM/yyyy"}}</td>
                            <td ng-if="fieldViewer.getConfiguration().cerradoPor.show">{{solicitud.cierre_usuario?solicitud.cierre_usuario.persona.nombre_completo:""}}</td>
                            <td>
                                <div class="hidden-sm hidden-xs action-buttons">

                                    <a ng-if="solicitud.activo && !solicitud.eliminado" class="green"
                                        href="javascript:void(0)" ng-click="confirmarEntrega(solicitud)"
                                        data-rel="tooltip" tooltip-append-to-body="true" tooltip-placement="top" uib-tooltip="Confirmar Entrega">
                                        <i class="ace-icon fa fa-unlock bigger-130"></i>
                                    </a>
                                    <a ng-if="solicitud.activo && !solicitud.eliminado" class="orange"
                                        href="javascript:void(0)" ng-click="editar(solicitud)" data-rel="tooltip"
                                        tooltip-placement="top" uib-tooltip="Modificar">
                                        <i class="ace-icon fa fa-pencil-square-o bigger-130"></i>
                                    </a>
                                    <a ng-if="!solicitud.activo && !solicitud.eliminado" class="red"
                                        href="javascript:void(0)" data-rel="tooltip" tooltip-append-to-body="true" tooltip-placement="top"
                                        uib-tooltip="Entregado">
                                        <i class="ace-icon fa fa-lock bigger-130"></i>
                                    </a>
                                    <a class="green" href="javascript:void(0)" ng-click="generarPdfSolicitud(solicitud)"
                                        data-rel="tooltip" tooltip-append-to-body="true" tooltip-placement="top" uib-tooltip="Imprimir">
                                        <i class="ace-icon fa fa-print bigger-130"></i>
                                    </a>
                                    <a class="red" href="javascript:void(0)"
                                        ng-if="!solicitud.activo && !solicitud.eliminado"
                                        ng-click="generarPdfSolicitudValuado(solicitud)" data-rel="tooltip" tooltip-append-to-body="true"
                                        tooltip-placement="top" uib-tooltip="Imprimir">
                                        <i class="ace-icon fa fa-print bigger-130"></i>
                                    </a>
                                    <a class="green" href="javascript:void(0)"
                                        ng-click="excelSolicitudAlmacen(solicitud)" data-rel="tooltip" tooltip-append-to-body="true"
                                        tooltip-placement="top" uib-tooltip="Excel">
                                        <i class="ace-icon fa fa-file-excel-o bigger-130"></i>
                                    </a>
                                    <a class="blue" href="javascript:void(0)" ng-click="ver(solicitud)"
                                        data-rel="tooltip" tooltip-append-to-body="true" tooltip-placement="top" uib-tooltip="Ver">
                                        <i class="ace-icon fa fa-search-plus bigger-130"></i>
                                    </a>
                                    <a class="blue" href="javascript:void(0)" ng-click="copiar(solicitud)"
                                        data-rel="tooltip" tooltip-append-to-body="true" tooltip-placement="top" uib-tooltip="Copiar">
                                        <i class="ace-icon fa fa-files-o bigger-130"></i>
                                    </a>
                                    <a class="red" ng-if="solicitud.activo && !solicitud.eliminado"
                                        href="javascript:void(0)"
                                        ng-click="abrirPopupConfirmarEliminadoAlmacen(eliminar,solicitud)"
                                        data-rel="tooltip" tooltip-append-to-body="true" tooltip-placement="top" uib-tooltip="Eliminar">
                                        <i class="ace-icon fa fa-trash-o bigger-130"></i>
                                    </a>
                                    <a href="javascript:void(0)" ng-click="printIsoDocConsumo(solicitud)"
                                        ng-if="usuario.empresa.usar_configuracion_iso && solicitud.configuracionesIso"
                                        data-rel="tooltip" tooltip-append-to-body="true" tooltip-placement="top" uib-tooltip="Imprimir ISO">
                                        <img src="img/iso-print.png" height="15" width="15" alt="">
                                    </a>
                                    <a ng-if="!solicitud.id_comprobante && !solicitud.eliminado && usuario.encargado_integracion_contable_gestion && !solicitud.activo" class="blue" href="javascript:void(0)"
                                        ng-click="generarComprobante(solicitud)">
                                        <i class="ace-icon fa fa-sign-out bigger-130"></i>
                                    </a>
                                </div>
                                <div class="hidden-md hidden-lg">
                                    <div class="inline pos-rel">
                                        <button class="btn btn-minier btn-yellow dropdown-toggle" data-toggle="dropdown"
                                            data-position="auto">
                                            <i class="ace-icon fa fa-caret-down icon-only bigger-120"></i>
                                        </button>

                                        <ul
                                            class="dropdown-menu dropdown-only-icon dropdown-yellow dropdown-menu-right dropdown-caret dropdown-close">
                                            <li>
                                                <a ng-if="solicitud.activo && !solicitud.eliminado" class="green"
                                                    href="javascript:void(0)" ng-click="confirmarEntrega(solicitud)">
                                                    <i class="ace-icon fa fa-unlock bigger-130"></i>
                                                </a>
                                                <a ng-if="!solicitud.activo && !solicitud.eliminado" class="red"
                                                    href="javascript:void(0)">
                                                    <i class="ace-icon fa fa-lock bigger-130"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a ng-if="solicitud.activo && !solicitud.eliminado" class="orange"
                                                    href="javascript:void(0)" ng-click="editar(solicitud)">
                                                    <i class="ace-icon fa fa-pencil-square-o bigger-130"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a class="green" href="javascript:void(0)"
                                                    ng-click="generarPdfSolicitud(solicitud)">
                                                    <i class="ace-icon fa fa-print bigger-130"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a class="blue" href="javascript:void(0)" ng-click="ver(solicitud)">
                                                    <i class="ace-icon fa fa-search-plus bigger-130"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a class="blue" href="javascript:void(0)" ng-click="copiar(solicitud)">
                                                    <i class="ace-icon fa fa-files-o bigger-130"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a class="red" ng-if="solicitud.activo && !solicitud.eliminado"
                                                    ng-click="eliminar(solicitud)">
                                                    <i class="ace-icon fa fa-trash-o bigger-130"></i>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="row" ng-include src="'/templates/gral/paginator.html'"
                ng-if="solicitudesOperaciones.length > 0">
            </div>
        </div>
    </div>


    <div id="dialog-panel-operaciones" class="modal wizard-posicion">
        <form id="formularioOperacionesPanel" name="formularioOperacionesPanel" novalidate
            ng-submit="guardarOperacionPanel(formularioOperacionesPanel.$valid,solicitud)">
            <div class="widget-body">
                <div class="widget-main {{color.style}}">
                    <div class="row">
                        <div class="col-xs-12" style="display: flex; justify-content:space-between;">
                            <a type="button" href="javascript:void(0)" class="red button-close-modal"
                                ng-click="showHideFirstRow()">
                                <i class="ace-icon fa fa-chevron-circle-down align-top bigger-280"></i>
                            </a>
                            
                                <div class="group-color-button" style="width: 120px; margin-bottom: 8px; display: flex; justify-content:space-between; flex-direction: row;">
                                    <button type="button" class="Vboton-verde-circle" ng-click="cambiarColor('green-style','green-style-button')"></button>
                                    <button type="button" class="Vboton-rojo-circle" ng-click="cambiarColor('red-style','red-style-button')"></button>
                                    <!-- circulo medio -->
                                    <button type="button" class="Vboton-azul-circle" ng-click="cambiarColor('skyblue-style','skyblue-style-button')"></button>
                                    <button type="button" class="Vboton-cafe-circle" ng-click="cambiarColor('brown-style','brown-style-button')"></button>
                                </div>
                            <!-- <div class="col-xs-3 col-sm-3 hidden-md col-lg-2 hidden-lg text-center">
                                <div class="">
                                    <label class="control-label label-responsive" style="font-size:15px"><b>TOTAL :<span
                                                class="hidden-md hidden-lg">{{venta.total}}</span>
                                        </b></label>
                                </div>
                            </div> -->
                            <a type="button" href="javascript:void(0)" class="red pull-right button-close-modal"
                                ng-click="cerrarPopupPanel()">
                                <i class="ace-icon fa fa-times-circle-o align-top bigger-280"></i>
                            </a>
                        </div>
                        <div class="col-xs-12">
                            <div class="row first-row">
                                    <div class="col-xs-6 form-group col-md-3 col-lg-1">
                                        <label class="block small">FECHA</label>
                                        <input ng-update-hidden ng-disabled="solicitud.ver!==undefined" data-validate="validate(required)" required class="form-control date-picker-pedido input-sm" autocomplete="off" type="text"
                                            id="fechaP" ng-model="solicitud.fecha" style="font-size: 12px;"
                                            ng-change="validarFechaAlmacenes(solicitud.fecha)"
                                            value="{{getFecha() | date:'dd/MM/yyyy'}}" />
                                        <div ng-show="fechaNoValida" class="">
                                            <span class="message-panel">Debe ingresar una fecha menor o igual a {{fechaSiguiente | date:'dd/MM/yyyy'}}</span>
                                        </div>
                                    </div>
                                    <div class="col-xs-6 form-group col-md-3 col-lg-2">
                                        <label class="block small">SUCURSAL</label>
                                        <select ng-disabled="solicitud.ver!==undefined || deshabilitarAlmacen"
                                            required id="sucursaldisabled" name="sucursal" class="form-control input-sm"
                                            ng-options="sucursal as sucursal.nombre for sucursal in sucursales track by sucursal.id"
                                            ng-model="solicitud.sucursal"
                                            ng-change="obtenerAlmacenes(solicitud.sucursal.id)">
                                            <option value="" disabled selected>Selec. Sucursal
                                            </option>
                                        </select>
                                    </div>
                                    <div class="col-xs-6 form-group col-md-3 col-lg-2">
                                        <label class="block small">ALMACEN</label>
                                        <select ng-disabled="solicitud.ver!==undefined || deshabilitarAlmacen" class="form-control input-sm"
                                            ng-change="cargarProductos()" data-validate="validate(required)"
                                            required id="almacen" name="almacen" ng-model="solicitud.almacen"
                                            ng-options="almacen as almacen.nombre for almacen in almacenes track by almacen.id"
                                            data-placeholder="Click para escoger">
                                            <option value="" disabled selected>Selec. Almacen
                                            </option>
                                        </select>
                                    </div>
                                    <div class="col-xs-6 form-group col-md-3 col-lg-1">
                                        <label class="block small">COMENSALES</label>
                                        <input type="number" data-validate="validate(required)" required
                                            ng-model="solicitud.comensales" class="form-control input-sm">
                                    </div>
                                    <div class="col-xs-12 form-group col-md-3 col-lg-1">
                                        <label class="block small">DESCRIPCIÃN</label>
                                        <input type="text" ng-model="solicitud.descripcion"
                                            class="form-control input-sm">
                                        <div class="space-4">&nbsp;</div>
                                    </div>
                                    <div class="col-xs-6 form-group col-md-3 col-lg-2">
                                        <label class="block small">ÃREA</label>
                                        <div class="input-group">
                                            <ui-select ng-model="solicitud.area" theme="bootstrap" style="min-width: 100%!important;" title="Area">
                                                <ui-select-match  placeholder="Seleccionar Ãrea"><span style="color:black">{{solicitud.area.nombre}}</span>
                                                </ui-select-match>
                                                <ui-select-choices repeat="centroCosto in listaAreas.clases | filter:{nombre:$select.search,habilitado:true}">
                                                    <span> {{centroCosto.nombre}}</span>
                                                </ui-select-choices>
                                            </ui-select>
                                            <span class="input-group-btn">
                                                <button type="button" ng-show="solicitud.area"
                                                    class="btn btn-purple btn-sm" data-rel="tooltip" tooltip-append-to-body="true"
                                                    tooltip-placement="top" uib-tooltip="Quitar Ãrea seleccionada"
                                                    ng-click="solicitud.area = undefined">
                                                    <span class="ace-icon fa fa-trash icon-on-right bigger-110"></span>
                                                </button>
                                            </span>
                                        </div>
                                        <div class="space-4">&nbsp;</div>
                                    </div>
                                    <div class="col-xs-6 form-group col-md-3 col-lg-2">
                                        <label class="block small">CAMPO</label>
                                        <div class="input-group">
                                            <ui-select ng-model="solicitud.campo" theme="bootstrap" style="width: auto!important;" required title="Campo" >
                                                <ui-select-match  placeholder="Seleccionar Campo  "><span>{{solicitud.campo.nombre}}</span>
                                                </ui-select-match>
                                                <ui-select-choices repeat="centroCosto in camposEmpresa | filter:{nombre:$select.search,habilitado:true}">
                                                    <span>
                                                        {{centroCosto.nombre}}
                                                    </span>
                                                </ui-select-choices>
                                            </ui-select>
                                            <span class="input-group-btn">
                                                <button type="button" ng-show="solicitud.campo"
                                                    class="btn btn-purple btn-sm" data-rel="tooltip" tooltip-append-to-body="true"
                                                    tooltip-placement="top" uib-tooltip="Quitar Ãrea seleccionada"
                                                    ng-click="solicitud.campo = undefined">
                                                    <span class="ace-icon fa fa-trash icon-on-right bigger-110"></span>
                                                </button>
                                            </span>
                                        </div>
                                        <div class="space-4">&nbsp;</div>
                                    </div>
                                    <div class=" col-xs-12 form-group col-md-3 col-lg-1" style="margin-top:14px;">
                                        <button type="submit" ng-disabled="solicitud.solicitudesProductos.length===0 || !formularioOperacionesPanel.$valid || solicitud.ver!==undefined || fechaNoValida"
                                            class="btn btn-success btn-sm btn-block">
                                            <i class="ace-icon fa fa-floppy-o align-top bigger-110"></i>
                                            GUARDAR
                                        </button>

                                    </div>
                               

                            </div>

                            <div class="row nit-row">
                                <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
                                    <div class="align-panel-search">
                                        <a href="javascript:void(0)" class="white"
                                            ng-click="ordenarProductos(ordenProductos)">
                                            <i class="fa fa-sort-amount-desc bigger-200" aria-hidden="true"
                                                ng-if="ordenProductos"></i>
                                            <i class="fa fa-sort-amount-asc bigger-200" aria-hidden="true"
                                                ng-if="!ordenProductos"></i>
                                        </a>
                                    </div>
                                </div>

                                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-2">

                                    <div class="align-panel-search">
                                        <a popover-placement="bottom" href="javascript:void(0)"
                                            popover-enable="solicitud.almacen" popover-is-open="popoverIsOpen"
                                            uib-popover-template="dynamicPopoverGrupos.templateUrl"
                                            popover-trigger="outsideClick: outsideClick" popover-title="Grupos"
                                            popover-append-to-body="false" class="white pull-right">
                                            <i class="fa fa-list-ol bigger-200" aria-hidden="true"></i>
                                        </a><label class="label-responsive white">{{grupoSeleccionado.nombre}}</label>
                                        </p>
                                        <script type="text/ng-template" id="myPopoverTemplateGrupos.html">
                                                    <div class="form-group">

                                                        <div ng-if="grupos_productos.length>0">
                                                            <div class="row">
                                                                <div class="col-xs-8">
                                                                    <input type="text" ng-model="filtroGrupo.nombre"
                                                                        class="from-control">
                                                                </div>
                                                                <div class="inline pos-rel pull-left col-xs-4">
                                                                    <a data-toggle="dropdown" href="javascript:void(0)"
                                                                        class="btn btn-danger btn-sm dropdown-toggle"
                                                                        aria-expanded="false">
                                                                        <i class="glyphicon  glyphicon-list-alt"></i>
                                                                        <span class="caret"></span>
                                                                    </a>

                                                                    <ul id="campos-detalle-venta"
                                                                        class="dropdown-menu-right dropdown-menu dropdown-yellow dropdown-caret button-check-group">

                                                                        <input type="text" ng-model="filterText"
                                                                            class="imput-search">
                                                                        <li ng-repeat="grupo in grupos_productos">


                                                                            <div class="checkbox">
                                                                                <label class="block"
                                                                                    ng-show="grupo.nombre.toUpperCase().search(filterText.toUpperCase()) !== -1">
                                                                                    <input name="form-field-checkbox"
                                                                                        type="checkbox"
                                                                                        class="ace input-lg"
                                                                                        ng-model="grupo.selected"
                                                                                        ng-click="saveCheckList()">
                                                                                    <span
                                                                                        class="lbl bigger-120 text-primary">
                                                                                        {{grupo.nombre}}</span>
                                                                                </label>
                                                                            </div>
                                                                        </li>


                                                                        <li class="divider"></li>
                                                                    </ul>
                                                                </div>

                                                            </div>

                                                            <div class="row"
                                                                style="height:400px !important;overflow: auto;">
                                                                <div class="col-xs-6">
                                                                    <button type="button" ng-click="clasificarGrupo()"
                                                                        class="button-style btn-panel btn-info btn-block btn-mini text-cut">Todos
                                                                    </button>
                                                                </div>
                                                                <div class="col-xs-6"
                                                                    ng-repeat="grupo in listChecked |filter:filtroGrupo">
                                                                    <button type="button"
                                                                        ng-click="clasificarGrupo(grupo)"
                                                                        class="button-style btn-panel btn-info btn-block btn-mini text-cut"><b>{{grupo.nombre}}</b>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                </script>
                                    </div>
                                </div>
                                <div class="col-xs-7 col-sm-7 col-md-4 col-lg-6">
                                    <div class="" data-barcode-scanner="barcodeScanned">
                                        <input type="text" class="form-control align-panel-search input-sm"
                                            placeholder="Buscar" id="buscarfoco" ng-model="search" />
                                    </div>
                                </div>
                            </div>
                            <div class="space-4"></div>


                            <!--- =================== aqui la tabla resonsive ========== -->

                            <!-- ================= aqui termina ================== -->
                        </div>
                    </div>
                    <div class="row">
                        <div class="content"
                            style="position: absolute;z-index: 1000 !important; margin-top: -5px!important;">
                            <div class="panel-group accordion" id="accordion">
                                <div class="panel panel-default">
                                    <div class="panel-heading" data-toggle="collapse" data-parent="#accordion"
                                        data-target="#collapseOne">
                                        <h4 class="panel-title">
                                            <a href="javascript:void(0)">
                                                <span class="toggle-icon glyphicon glyphicon-chevron-down"></span>

                                            </a>

                                        </h4>
                                    </div>
                                    <div id="collapseOne" class="panel-collapse collapse in">
                                        <div class="panel-body-operaciones">
                                            <div class="cont ScrollStyle-operaciones">
                                                <h4 class="header blue lighter bigger">
                                                    <!-- <img src="img/CAJERA.png" width="8%"> -->
                                                    <i class="fa fa-file-text-o bigger-150" aria-hidden="true"></i>
                                                    Detalles de orden
                                                    <div class="pos-rel pull-right" style="margin-right: -55px;">
                                                        <a type="button" ng-click="calcularTotalViveres(solicitud)">
                                                            <img class="button-style btn-panel {{color.stylebutton}} btn-block btn-minier text-cut"
                                                                style="width: 36%;height: 36%;margin-top: -2px;"
                                                                class="pos-rel pull-right"
                                                                src="img/icono-viveres-2.png">
                                                        </a>
                                                    </div>
                                                </h4>
                                                <div class="scrolldetalle-operaciones" ng-If="mostrardatosFormulacion">



                                                    <div class="container-fluid">
                                                        <ul class="row" style="list-style-type: none;"
                                                            ng-if="solicitud.solicitudesProductos.length>0">
                                                            <li class="container-fluid"
                                                                ng-if="productito.eliminado === undefined"
                                                                ng-repeat="productito in solicitud.solicitudesProductos">
                                                                <div ng-if="!productito.verFormulacion">
                                                                    <button type="button"
                                                                        class="button-style btn-panel {{color.stylebutton}} btn-block btn-minier text-cut"
                                                                        ng-click="verFormulacion(productito)">
                                                                        {{productito.productoSolicitado.nombre}}
                                                                        <!-- {{(productito.producto !==undefined)?productito.producto.nombre:(productoSeleccionado.productoSolicitado!==undefined)?productito.productoSolicitado.nombre:productito.productoSolicitado.nombre}} -->
                                                                        <i
                                                                            class="ace-icon fa fa-plus bigger-120 pos-rel pull-right"></i>
                                                                    </button>
                                                                </div>
                                                                <div ng-if="productito.verFormulacion">
                                                                    <button type="button"
                                                                        class="button-style btn-panel {{color.stylebutton}} btn-block btn-minier text-cut"
                                                                        ng-click="verFormulacion(productito)">
                                                                        {{productito.productoSolicitado.nombre}}
                                                                        <i
                                                                            class="ace-icon fa fa-minus bigger-120 pos-rel pull-right"></i>
                                                                    </button>
                                                                </div>
                                                                <div ng-if="productito.verFormulacion && productoSeleccionado.detallesIngredientesProducto.length==0"
                                                                    class="container-fluid">
                                                                    <label class="bg-red container-fluid"
                                                                        style="color:aliceblue !important"
                                                                        ng-if="productito.verFormulacion && productoSeleccionado.detallesIngredientesProducto.length==0">&nbsp
                                                                        &nbspProducto sin
                                                                        formulaciÃ³n&nbsp
                                                                        &nbsp</label>
                                                                </div>
                                                                <div ng-if="productito.verFormulacion && productoSeleccionado.detallesIngredientesProducto.length >0"
                                                                    class="">
                                                                    <div style="overflow: scroll;overflow-x: hidden;width: auto;height: auto; overflow-y: hidden;"
                                                                        class="row">
                                                                        <div class="table-responsive"
                                                                            ng-if="productito.verFormulacion && productoSeleccionado.detallesIngredientesProducto.length >0">
                                                                            <table
                                                                                class="table table-striped table-bordered table-hover">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th>
                                                                                            <label>Producto</label>
                                                                                        </th>
                                                                                        <th>
                                                                                            <label>Unidad
                                                                                                de
                                                                                                medida</label>
                                                                                        </th>
                                                                                        <th>
                                                                                            <label>Cant./U
                                                                                                ideal</label>
                                                                                        </th>
                                                                                        <th>
                                                                                            <label>Cant./U
                                                                                                Modif.</label>
                                                                                        </th>
                                                                                        <th>
                                                                                            <label>Total
                                                                                                Ideal</label>
                                                                                        </th>
                                                                                        <th>
                                                                                            <label>Total
                                                                                                Real</label>
                                                                                        </th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                    <tr ng-if="ingrediente.eliminado===undefined"
                                                                                        ng-repeat="ingrediente in productoSeleccionado.detallesIngredientesProducto">
                                                                                        <td>
                                                                                            <a href="javascript:void(0)"
                                                                                                ng-disabled="solicitud.ver!==undefined"
                                                                                                ng-click="eliminarIngrediente(ingrediente)"
                                                                                                class="text text-danger">
                                                                                                <i
                                                                                                    class="ace-icon fa fa-trash-o bigger-100"></i>
                                                                                            </a>{{ingrediente.productoSolicitudBase.nombre}}

                                                                                        </td>
                                                                                        <td>
                                                                                            {{ingrediente.productoSolicitudBase.unidad_medida}}
                                                                                        </td>
                                                                                        <td>
                                                                                            {{ingrediente.cantidad_ideal
                                                                                            | number:2}}
                                                                                        </td>
                                                                                        <td>
                                                                                            {{ingrediente.total/productoSeleccionado.cantidad
                                                                                            | number:2}}
                                                                                        </td>
                                                                                        <td>
                                                                                            {{ingrediente.cantidad_ideal
                                                                                            *
                                                                                            productoSeleccionado.cantidad
                                                                                            | number:2}}
                                                                                        </td>
                                                                                        <td style="min-width: 85px">
                                                                                            <input ng-update-hidden
                                                                                                ng-disabled="solicitud.ver!==undefined"
                                                                                                style="width:100%"
                                                                                                type="number"
                                                                                                step="0.01"
                                                                                                ng-model="ingrediente.total">
                                                                                        </td>

                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>

                                                <div class="text text-center" align="center">
                                                    <a href="javascript:void(0)" ng-click="mostrarFormulacion()">
                                                        <i ng-hide="mostrardatosFormulacion"
                                                            class="ace-icon fa fa-angle-double-up">ver Formulacion de
                                                            los detalle</i>
                                                        <i ng-hide="!mostrardatosFormulacion"
                                                            class="ace-icon fa fa-angle-double-down">ver detalle
                                                            solicitud</i></a>
                                                </div>

                                                <div class="scrolldetalle-operaciones" ng-If="!mostrardatosFormulacion">
                                                    <div class="space-4"></div>
                                                    <table class="table table-striped table-bordered table-hover">
                                                        <thead>
                                                            <tr>
                                                                <th class="hidden-sm hidden-xs">
                                                                    <label>#</label>
                                                                </th>
                                                                <th>
                                                                    <label>Producto / Cant.</label>
                                                                </th>
                                                                <th class="hidden-sm hidden-xs">
                                                                    <label>Unid.</label>
                                                                </th>
                                                                <th>
                                                                    <label>Acciones</label>
                                                                </th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr ng-if="detalleVenta.eliminado === undefined"
                                                                ng-repeat="detalleVenta in solicitud.solicitudesProductos | orderBy:'-'">
                                                                <td class="hidden-sm hidden-xs">
                                                                    {{solicitud.solicitudesProductos.length - $index}}
                                                                </td>
                                                                <td>

                                                                    <p>{{(detalleVenta.producto!==undefined)?detalleVenta.producto.nombre:detalleVenta.productoSolicitado.nombre}}
                                                                    </p>
                                                                    <div class="ace-spinner middle touch-spinner"
                                                                        style="width: 150px;">
                                                                        <div class="input-group">
                                                                            <div
                                                                                class="spinbox-buttons input-group-btn">
                                                                                <button type="button"
                                                                                    ng-click="disminuirDetalleVenta(detalleVenta)"
                                                                                    ng-disabled="solicitud.ver!==undefined"
                                                                                    class="btn spinbox-down btn-sm btn-danger">
                                                                                    <i
                                                                                        class="icon-only  ace-icon ace-icon fa fa-minus bigger-110"></i>
                                                                                </button>
                                                                            </div>
                                                                            <input
                                                                                ng-change="validarDetalleVenta(detalleVenta)"
                                                                                ng-keydown="focoBuscar($event)"
                                                                                ng-class="{'lastcant':$first}"
                                                                                class="spinbox-input form-control text-center"
                                                                                ng-disabled="solicitud.ver!==undefined"
                                                                                ng-if="detalleVenta.productoSolicitado.usar_inventario"
                                                                                style="width:100%" type="number"
                                                                                step="1"
                                                                                ng-model="detalleVenta.cantidad"
                                                                                max="{{detalleVenta.inventario_disponible}}"
                                                                                ng-change="actualizarTotalReal(detalleVenta)">
                                                                            <input
                                                                                ng-change="validarDetalleVenta(detalleVenta)"
                                                                                ng-keydown="focoBuscar($event); aumentarRestarTeclado($event, detalleVenta);"
                                                                                ng-class="{'lastcant':$first}"
                                                                                class="spinbox-input form-control text-center"
                                                                                ng-disabled="solicitud.ver!==undefined"
                                                                                ng-if="!detalleVenta.productoSolicitado.usar_inventario"
                                                                                style="width:100%" type="number"
                                                                                step="1"
                                                                                ng-model="detalleVenta.cantidad"
                                                                                g-change="actualizarTotalReal(detalleVenta)">
                                                                            <div
                                                                                class="spinbox-buttons input-group-btn">
                                                                                <button type="button"
                                                                                    ng-click="aumentarDetalleVenta(detalleVenta)"
                                                                                    ng-disabled="solicitud.ver!==undefined"
                                                                                    class="btn spinbox-up btn-sm btn-success">
                                                                                    <i
                                                                                        class="icon-only  ace-icon ace-icon fa fa-plus bigger-110"></i>
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </td>

                                                                <td class="hidden-sm hidden-xs">
                                                                    {{(detalleVenta.producto!==undefined)?detalleVenta.producto.unidad_medida:detalleVenta.productoSolicitado.unidad_medida}}
                                                                </td>
                                                                <td>
                                                                    <button ng-disabled="solicitud.ver!==undefined"
                                                                        type="button"
                                                                        ng-click="eliminarDetalleVenta(detalleVenta)"
                                                                        class="button-style btn btn-danger btn-xs">
                                                                        <i
                                                                            class="ace-icon fa fa-trash-o bigger-100"></i>
                                                                    </button>

                                                                </td>
                                                            </tr>

                                                        </tbody>
                                                    </table>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- PAGE CONTENT BEGINS -->


                        <!-- /.col -->
                        <div class="col-xs-1 col-sm-1 col-md-1 col-lg-4"></div>
                        <div class="col-xs-11 col-sm-11  col-md-11 col-lg-12 pull-right">
                            <!-- PAGE CONTENT BEGINS -->
                            <div class="container-fluid" style="padding-left: 30px">

                                <div class="row height-productos-operaciones" id="scrollproductOperaciones">
                                    <div id="productos" class="col-xs-12" infinite-scroll='getProductosPanel()'
                                        infinite-scroll-distance='0'
                                        infinite-scroll-container="'#scrollproductOperaciones'">
                                        <div>
                                            <div ng-right-click="disminuirDetalleVenta(null,producto)"
                                                ng-click="agregarDetalleVentaPanel(producto)"
                                                class="button-panel-product btn-success swiper-slide productos-button-operaciones"
                                                ng-repeat="producto in productosProcesados | orderRankin">
                                                <img ng-src="{{producto.imagen}}" width="100%"
                                                    style="height: 125px;max-height:125px">


                                                <label class="panel-cantidad">{{producto.inventario_disponible}}</label>



                                                <h3 class="st">{{producto.nombre}}</h3>
                                                <!-- <div class="row">
                                                    <div class="form-group col-sm-6 col-md-3 col-lg-3">
                                                     <h3 class="st" >{{producto.nombre}}</h3>
                                                    </div>
                                                </div> -->

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- /.col -->
                    </div>




                </div>
            </div>
        </form>
    </div>
</div>

<div id="dialog-confirmacion-entrega" title="Confirmar entrega de viveres" class="modal">
    <div class="table-header"> Confirmar entrega de viveres </div>
    <p>
        <span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>Â¿Esta seguro de cerrar
        esta
        solicitud?
    </p>
    <button type="button" class="btn btn-danger" ng-click="cerrarSolicitud(solicitudCerrar)">Si</button>
    <button type="button" class="btn btn-success" ng-click="cerrarDialogConfirmacionCierre()">No</button>
</div>

<div id="dialog-total-ingredientes" class="modal wizard-posicion">
    <div class="container-fluid">
        <div class="row">
            <div class="table-header">Total de viveres solicitados</div>
            <br>
            <table class="table table-striped table-bordered table-hover">
                <thead>
                    <tr>
                        <th>
                            <label>#</label>
                        </th>
                        <th>
                            <label>Producto</label>
                        </th>
                        <th>
                            <label>Unidad de medida</label>
                        </th>
                        <!-- <th>
                            <label>Cant. Ideal Total</label>
                        </th>
                        <th>
                            <label>Cant. Real Total</label>
                        </th> -->
                        <th>
                            <label>Total Solicitado</label>
                        </th>
                        <!-- <th>
                            <label>Monto Total</label>
                        </th> -->
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="ingrediente in totalViveresSolicitados.productos">
                        <td>
                            {{$index+1}}
                        </td>
                        <td>
                            {{ingrediente.productoSolicitudBase.nombre}}
                        </td>
                        <td>
                            {{ingrediente.productoSolicitudBase.unidad_medida}}
                        </td>
                        <!-- <td>
                            {{ingrediente.cantidad_ideal | number:2}}
                        </td>
                        <td>
                            {{ingrediente.cantidad_real | number:2}}
                        </td> -->
                        <td>{{ingrediente.total | number:2}}</td>
                        <!-- <td>{{ingrediente.totalbs | number:2}}</td> -->
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <br>
    <button type="button" class="btn btn-danger" ng-click="cerrarDialogTotalIngredientes()">Cerrar</button>
</div>

<div id="modal-nuevo-pedido-operaciones" class="modal wizard-posicion">
    <div class="modal-dialog">
        <div class="modal-content">
            <form ng-submit="guardarPedido(pedido)">
                <div class="modal-header bg-blue">
                    <h2 class="center">Nuevo Pedido</h2>
                </div>
                <div class="modal-body">
                    <div class="container-fluid">
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="col-md-6">
                                        <b>Generar por proveedor</b>
                                    </div>
                                    <div class="col-md-6">
                                        <label>
                                            <input ng-disabled="evaluacion.ver != undefined" name="switch-field-1"
                                                tabindex="-1" ng-model="pedido.por_proveedor"
                                                class="ace ace-switch ace-switch-4 ng-pristine ng-untouched ng-valid ng-empty"
                                                ng-click="generarPorProveedor()" type="checkbox">
                                            <span class="lbl check-descuento"></span>
                                        </label>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="col-md-6">
                                        <b>Fecha</b>
                                    </div>
                                    <div class="col-md-6">
                                        <input autocomplete="off" class="date-picker " type="text" ng-update-hidden
                                            data-date-format="dd/mm/yyyy" required ng-model="pedido.fecha">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <!-- <div class="col-md-6">
                                            <b>Hasta</b>
                                        </div>
                                        <div class="col-md-6">
                                            <input autocomplete="off" class="date-picker form-control" type="text" ng-update-hidden data-date-format="dd/mm/yyyy" name="fecha"
                                                ng-model="pedido.fecha_hasta">
                                        </div> -->
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="col-md-6">
                                        <b>Sucursal</b>
                                    </div>
                                    <div class="col-md-6">
                                        <select required id="sucursalOperacion" name="sucursal"
                                            ng-options="sucursal.id as sucursal.nombre for sucursal in sucursales track by sucursal.id"
                                            ng-model="pedido.sucursal" ng-change="obtenerAlmacenes(pedido.sucursal)">
                                            <option value="" selected disabled>Seleccione una sucursal</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="col-md-6">
                                        <b>Almacen</b>
                                    </div>
                                    <div class="col-md-6">
                                        <select required ng-model="pedido.id_almacen"
                                            ng-options="almacen.id as almacen.nombre for almacen in almacenes track by almacen.id">
                                            <option disabled value="" selected>Seleccione almacen</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="col-md-6">
                                        <b>Proveedor</b>
                                    </div>
                                    <div class="col-md-6">
                                        <input autocomplete="off" ng-keypress="interceptarTecla($event,'factura',true)"
                                            data-validate="validate(required)" required type="text"
                                            ng-model="pedido.proveedor" placeholder="Ingrese la Razon Social"
                                            uib-typeahead="proveedor as proveedor.razon_social for proveedor in buscarProveedor($viewValue)"
                                            typeahead-wait-ms="1500"
                                            typeahead-template-url="templates/autocompletar.html"
                                            typeahead-show-hint="false" typeahead-min-length="1"
                                            typeahead-on-select="establecerProveedor($item, $model, $label, $event)">
                                        <button type="button" ng-click="abrirmodalBusquedaProveedor()"
                                            class="btn btn-info btn-sm">
                                            <i class="ace-icon fa fa-search-plus bigger-110"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="col-md-4"> &nbsp;</div>
                                    <div class="col-md-4">
                                        <a href="javascript:void(0)" ng-click="abrirModalProductosProveedor()"
                                            uib-tooltip="Configurar productos por proveedor.">
                                            <img style="width:50%;height:50%"
                                                src="img/Red_Silhouette_-_Gear_and_Tools.svg.png">
                                        </a>
                                    </div>
                                    <div class="col-md-4">
                                        <a href="javascript:void(0)" ng-click="abrirmodalProductosAsignadosProveedor()"
                                            uib-tooltip="Verificar productos configurados por proveedor.">
                                            <img style="width:50%;height:50%" src="img/cestoProductos.png">
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="col-md-6">
                                        <b>ObservaciÃ³n</b>
                                    </div>
                                    <div class="col-md-6">
                                        <input autocomplete="off" type="text" ng-model="pedido.observacion">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="col-md-6">
                                        <b>Grupo producto</b>
                                    </div>
                                    <div class="col-md-6">
                                        <select class="form-control" style="width:150px;"
                                            ng-change="filtrarProductosSeleccionadosPorGrupo()"
                                            id="selectGruposProductosFiltro" name="selectGruposProductos"
                                            ng-model="pedido.grupo"
                                            ng-options="grupo.id as grupo.nombre for grupo in subGruposProducto track by grupo.id"
                                            data-placeholder="Click para escoger">
                                            <option value="" selected>Todos</option>
                                        </select>

                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <a class="green pull-right" href="javascript:void(0)" ng-click="mostrarBusqueda()"
                                        data-rel="tooltip" tooltip-placement="left" uib-tooltip="Confirmar Entrega">
                                        <i class="ace-icon fa fa-plus bigger-130"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" ng-if="mostarBusquedaProducto">
                            <div class="row">
                                <div class="widget-box">
                                    <div class="widget-header">
                                        <h4 class="widget-title">BUSQUEDA PRODUCTO</h4>
                                    </div>
                                    <div class="widget-body">
                                        <div class="widget-main">
                                            <!-- <form id="formularioBusquedaProducto" name="formularioBusquedaProducto" novalidate> -->
                                            <table class="table table-striped table-bordered table-hover">
                                                <thead>
                                                    <tr>
                                                        <th>
                                                            <label>PRODUCTO</label>
                                                            <!-- <div>
                                                                    <div class="col-md-1">
                                                                        <a class="green">
                                                                            <i class="ace-icon fa fa-barcode dark bigger-250 fa-stack-2x"></i>
                                                                            <i class="ace-icon fa  fa-filter red bigger-200 fa-stack-1x"></i>
                                                                            <img class="bg-orange text-cut" style="width:25%;height:25%" src="img/iconos-polifuncional/asistencia-capacitacion.png">
                                                                        </a>
                                                                    </div>
    
                                                                    <label class="col-md-3 pull-left" uib-tooltip="Usar lector de barra">
    
                                                                        <input ng-model="usuario.usar_lector_de_barra" ng-change="UsarLectorDeBarra()" checked="checked" type="checkbox" class="ace ace-switch ace-switch-5">
                                                                        <span class="lbl" data-lbl="Si&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No"></span>
                                                                    </label>
                                                                </div> -->
                                                        </th>
                                                        <th>
                                                            <label>CÃD. ITEM</label>
                                                        </th>
                                                        <th>
                                                            <label>UNID. MED.</label>
                                                        </th>
                                                        <th>
                                                            <label>INVENTARIO DISPONIBLE</label>
                                                        </th>
                                                        <th>
                                                            <label>CANT. (u)</label>
                                                        </th>
                                                        <th>
                                                            <label>ACC.</label>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>
                                                            <input autocomplete="off" id="producto-pedido"
                                                                ng-keypress="interceptarTecla($event,'cantidad',true)"
                                                                required type="text" ng-model="detallePedido.producto"
                                                                placeholder="Ingrese el nombre del producto..."
                                                                uib-typeahead="producto as (producto.codigo+'-'+producto.nombre+'-'+producto.grupo+'-'+producto.subgrupo) for producto in buscarProducto($viewValue)"
                                                                typeahead-wait-ms="1000"
                                                                typeahead-template-url="templates/autocompletar.html"
                                                                typeahead-show-hint="false"
                                                                typeahead-select-on-exact="true"
                                                                typeahead-min-length="2"
                                                                typeahead-on-select="establecerProducto($item, $model, $label, $event)">

                                                            <div class="space-6"></div>
                                                            <button id="mostrar_inv" type="button"
                                                                ng-click="abrirPopupInventario()"
                                                                class="btn btn-info btn-sm">
                                                                <i class="ace-icon fa fa-search-plus bigger-110"></i>
                                                            </button>
                                                            <span class="red"
                                                                ng-if="!detalleVenta.producto.activar_inventario">Inventario
                                                                Desactivado</span>
                                                        </td>
                                                        <td>
                                                            {{detallePedido.producto.codigo}}
                                                        </td>
                                                        <td>
                                                            {{detallePedido.producto.unidad_medida}}
                                                        </td>
                                                        <td>
                                                            <div class="c100 p{{porcentaje}} small {{color}}"
                                                                ng-if="detallePedido.producto.activar_inventario">
                                                                <span id="CantProd"
                                                                    style="color:black !important;">{{detallePedido.inventario_disponible}}</span>
                                                                <div class="slice">
                                                                    <div class="bar"></div>
                                                                    <div class="fill"></div>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <input onfocus="this.select();"
                                                                ng-keypress="interceptarTecla($event,'agregar_detalle_venta',false)"
                                                                step="0.001" min="0.1" class="col-xs-12"
                                                                ng-model="detallePedido.cantidad" type="number" />
                                                            <div
                                                                ng-show="formularioBusquedaProducto.cantidad.$dirty && formularioBusquedaProducto.cantidad.$invalid">
                                                                <span class="invalid-message">La cantidad debe estar
                                                                    entre 0.1 y
                                                                    {{detallePedido.inventario_disponible}}.</span>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <button id="agregar_detalle_venta" type="button"
                                                                ng-disabled="formularioBusquedaProducto.$invalid"
                                                                ng-click="agregardetallePedido(detallePedido)"
                                                                class="btn btn-success btn-sm">
                                                                <i class="ace-icon fa fa-plus bigger-110"></i>
                                                            </button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <!-- </form> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <table class="table table-striped table-bordered table-hover">
                                    <thead>
                                        <tr>
                                            <th>
                                                <label>Nro.</label>
                                            </th>
                                            <th>
                                                <label>Ãtem</label>
                                            </th>
                                            <th>
                                                <label>Unidad de medida</label>
                                            </th>
                                            <th>
                                                <label>Cantidad</label>
                                            </th>
                                            <th>
                                                <label>ObservaciÃ³n</label>
                                            </th>

                                            <th>
                                                <label>Acciones</label>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-if="detallePedido.eliminado===undefined"
                                            ng-repeat="detallePedido in detallesPedido">
                                            <td>
                                                {{$index+1}}
                                            </td>
                                            <td>
                                                {{detallePedido.producto.nombre}}
                                            </td>
                                            <td>
                                                {{detallePedido.producto.unidad_medida}}
                                            </td>
                                            <td>
                                                {{detallePedido.cantidad | number:2}}
                                            </td>

                                            <td style="min-width: 85px">
                                                <input style="width:100%" type="text"
                                                    ng-model="detallePedido.observacion">
                                            </td>
                                            <td>
                                                <div class="col-sm-12">
                                                    <button type="button" tabindex="-1"
                                                        ng-click="eliminarDetallePedido(detallePedido)"
                                                        class="button-style btn red-style-button btn-xs">
                                                        <i class="ace-icon fa fa-trash-o bigger-100"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer wizard-actions">
                    <button type="submit" class="btn btn-success">GUARDAR</button>
                    <button type="button" ng-click="cerrarModalNuevoPedido(true)"
                        class="btn btn-danger pull-left">SALIR</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div id="modal-listado-nuevo-pedido" class="modal wizard-posicion">
    <div class="modal-content">
        <form ng-submit="guardarPedido(pedido)">
            <div class="modal-header bg-blue">
                <h2 class="center">Nueva Ã³rden de compra</h2>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="col-md-6">
                                    <b>Generar por proveedor</b>
                                </div>
                                <div class="col-md-6">
                                    <label>
                                        <input ng-disabled="pedido.ver==true" name="switch-field-1" tabindex="-1"
                                            ng-model="pedido.por_proveedor"
                                            class="ace ace-switch ace-switch-4 ng-pristine ng-untouched ng-valid ng-empty"
                                            ng-click="generarPorProveedor()" type="checkbox">
                                        <span class="lbl check-descuento"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="col-md-6">
                                    <b>Fecha</b>
                                </div>
                                <div class="col-md-6">
                                    <input ng-if="pedido.ver!=true" autocomplete="off" class="date-picker " type="text"
                                        ng-update-hidden data-date-format="dd/mm/yyyy" required ng-model="pedido.fecha">
                                    <span ng-if="pedido.ver==true">{{pedido.fecha| date:'dd/MM/yyyy'}}</span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <!-- <div class="col-md-6">
                                        <b>Hasta</b>
                                    </div>
                                    <div class="col-md-6">
                                        <input autocomplete="off" class="date-picker form-control" type="text" ng-update-hidden data-date-format="dd/mm/yyyy" name="fecha"
                                            ng-model="pedido.fecha_hasta">
                                    </div> -->
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="col-md-6">
                                    <b>Sucursal</b>
                                </div>
                                <div class="col-md-6">
                                    <select ng-if="pedido.ver!=true" required id="sucursal-pedido" name="sucursal"
                                        ng-options="sucursal.id as sucursal.nombre for sucursal in sucursales track by sucursal.id"
                                        ng-model="pedido.sucursal" ng-change="obtenerAlmacenes(pedido.sucursal)">
                                        <option value="" selected disabled>Seleccione una sucursal</option>
                                    </select>
                                    <span ng-if="pedido.ver==true">{{pedido.almacen.sucursal.nombre}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="col-md-6">
                                    <b>Almacen</b>
                                </div>
                                <div class="col-md-6">
                                    <select ng-if="pedido.ver!=true" required ng-model="pedido.almacen"
                                        ng-options="almacen as almacen.nombre for almacen in almacenes track by almacen.id">
                                        <option disabled value="" selected>Seleccione almacen</option>
                                    </select>
                                    <span ng-if="pedido.ver==true">{{pedido.almacen.nombre}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="col-md-6">
                                    <b>Proveedor</b>
                                </div>
                                <div class="col-md-6">
                                    <input autocomplete="off" ng-if="pedido.ver!=true"
                                        ng-keypress="interceptarTecla($event,'factura',true)"
                                        data-validate="validate(required)" required type="text"
                                        ng-model="pedido.proveedor" placeholder="Ingrese la Razon Social"
                                        uib-typeahead="proveedor as proveedor.razon_social for proveedor in buscarProveedor($viewValue)"
                                        typeahead-wait-ms="1500" typeahead-template-url="templates/autocompletar.html"
                                        typeahead-show-hint="false" typeahead-min-length="1"
                                        typeahead-on-select="establecerProveedor($item, $model, $label, $event)">
                                    <button ng-if="pedido.ver!=true" type="button"
                                        ng-click="abrirmodalBusquedaProveedor()" class="btn btn-info btn-sm">
                                        <i class="ace-icon fa fa-search-plus bigger-110"></i>
                                    </button>
                                    <span ng-if="pedido.ver==true">{{pedido.proveedor.razon_social}}</span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="col-md-4"> &nbsp;</div>
                                <div class="col-md-4">
                                    <a ng-if="pedido.ver!=true" href="javascript:void(0)"
                                        ng-click="abrirModalProductosProveedor()"
                                        uib-tooltip="Configurar productos por proveedor.">
                                        <img style="width:50px;height:50px"
                                            src="img/Red_Silhouette_-_Gear_and_Tools.svg.png">
                                    </a>
                                </div>
                                <div class="col-md-4">
                                    <a ng-if="pedido.ver!=true" href="javascript:void(0)"
                                        ng-click="abrirmodalProductosAsignadosProveedor()">
                                        <img style="width:50px;height:50px" src="img/cestoProductos.png">
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="col-md-6">
                                    <b>ObservaciÃ³n</b>
                                </div>
                                <div class="col-md-6">
                                    <input ng-if="pedido.ver!=true" autocomplete="off" type="text"
                                        ng-model="pedido.observacion">
                                    <span ng-if="pedido.ver==true">{{pedido.observacion}}</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="col-md-6">
                                    <b>Tipo de pago</b>
                                </div>
                                <div class="col-md-6">
                                    <select required id="pago" name="pago" ng-change="cambiarTipoPago(pedido.tipoPago)"
                                        ng-model="pedido.tipoPago"
                                        ng-options="tipoPago as tipoPago.nombre for tipoPago in tiposPago track by tipoPago.id"
                                        data-placeholder="Click para escoger" ng-disabled="pedido.ver"></select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group" ng-if="pedido.tipoPago.nombre_corto == 'CRE'">
                    <tr>
                        <td>
                            <label>DIAS</label>
                            <input ng-disabled="pedido.ver" data-validate="validate(required,number)" required
                                type="number" ng-model="pedido.dias_credito" />
                        </td>
                        <td>
                            <label>SUJETO A DF</label>
                            <input disabled type="number" step="0.001" ng-model="pedido.total" />
                        </td>
                    </tr>
                </div>
                <div class="form-group" ng-if="pedido.tipoPago.nombre_corto == 'CRE'">
                    <tr>
                        <td>
                            <label>A CUENTA (Bs)</label>
                            <input ng-disabled="pedido.ver" data-validate="validate(required,number)" required
                                type="number" step="0.001" ng-model="pedido.a_cuenta" value="0.0"
                                ng-change="calcularSaldoPedido()" />
                        </td>
                        <td>
                            <label>SALDO</label>
                            <input disabled type="number" step="0.001" ng-model="pedido.saldo" />
                        </td>
                    </tr>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="col-md-6">
                                <b>Forma de entrega</b>
                            </div>
                            <div class="col-md-6">
                                <select ng-disabled="pedido.ver" required id="formaEntrega-pedido" name="formaEntrega"
                                    ng-options="formaEntrega as formaEntrega.nombre for formaEntrega in formasEntrega.clases track by formaEntrega.id"
                                    ng-model="pedido.formaEntrega">
                                    <option value="" selected disabled>Seleccione una sucursal</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="col-md-6">
                                <b>fecha de recepciÃ³n</b>
                            </div>
                            <div class="col-md-6">
                                <input ng-if="pedido.ver!=true" autocomplete="off" class="date-picker " type="text"
                                    ng-update-hidden data-date-format="dd/mm/yyyy" required
                                    ng-model="pedido.fecha_recepcion">
                                <span ng-if="pedido.ver==true">{{pedido.fecha_recepcion| date:'dd/MM/yyyy'}}</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="row" ng-if="pedido.ver!=true">
                        <div class="col-md-6">
                            <div class="col-md-6">
                                <b>Grupo producto</b>
                            </div>
                            <div class="col-md-6">
                                <select class="form-control" style="width:150px;"
                                    ng-change="filtrarProductosSeleccionadosPorGrupo()"
                                    id="selectGruposProductosPedidoProveedor" ng-model="pedido.grupo"
                                    ng-options="grupo.id as grupo.nombre for grupo in subGruposProducto track by grupo.id"
                                    data-placeholder="Click para escoger">
                                    <option value="" selected>Todos</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <a class="green pull-right" href="javascript:void(0)" ng-click="mostrarBusqueda()"
                                data-rel="tooltip" tooltip-placement="left" uib-tooltip="Agregar detalle de pedido">
                                <i class="ace-icon fa fa-plus bigger-130"></i>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="form-group" ng-if="mostarBusquedaProducto">
                    <div class="row">
                        <div class="widget-box">
                            <div class="widget-header">
                                <h4 class="widget-title">BUSQUEDA PRODUCTO</h4>
                            </div>
                            <div class="widget-body">
                                <div class="widget-main">
                                    <!-- <form id="formularioBusquedaProducto" name="formularioBusquedaProducto" novalidate> -->
                                    <table class="table table-striped table-bordered table-hover">
                                        <thead>
                                            <tr>
                                                <th>
                                                    <label>PRODUCTO</label>
                                                    <!-- <div>
                                                                <div class="col-md-1">
                                                                    <a class="green">
                                                                        <i class="ace-icon fa fa-barcode dark bigger-250 fa-stack-2x"></i>
                                                                        <i class="ace-icon fa  fa-filter red bigger-200 fa-stack-1x"></i>
                                                                        <img class="bg-orange text-cut" style="width:25%;height:25%" src="img/iconos-polifuncional/asistencia-capacitacion.png">
                                                                    </a>
                                                                </div>

                                                                <label class="col-md-3 pull-left" uib-tooltip="Usar lector de barra">

                                                                    <input ng-model="usuario.usar_lector_de_barra" ng-change="UsarLectorDeBarra()" checked="checked" type="checkbox" class="ace ace-switch ace-switch-5">
                                                                    <span class="lbl" data-lbl="Si&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No"></span>
                                                                </label>
                                                            </div> -->
                                                </th>
                                                <th>
                                                    <label>CÃD. ITEM</label>
                                                </th>
                                                <th>
                                                    <label>UNID. MED.</label>
                                                </th>
                                                <th>
                                                    <label>INVENTARIO DISPONIBLE</label>
                                                </th>
                                                <th>
                                                    <label>CANT. (u)</label>
                                                </th>
                                                <th>
                                                    <label>P.U.</label>
                                                </th>
                                                <th>
                                                    <label>ACC.</label>
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <input autocomplete="off"
                                                        ng-keypress="interceptarTecla($event,'cantidad',true)"
                                                        type="text" ng-model="detallePedido.producto"
                                                        placeholder="Ingrese el nombre del producto..."
                                                        uib-typeahead="producto as (producto.codigo+'-'+producto.nombre+'-'+producto.grupo+'-'+producto.subgrupo) for producto in buscarProducto($viewValue)"
                                                        typeahead-wait-ms="1000"
                                                        typeahead-template-url="templates/autocompletar.html"
                                                        typeahead-show-hint="false" typeahead-select-on-exact="true"
                                                        typeahead-min-length="2"
                                                        typeahead-on-select="establecerProducto($item, $model, $label, $event)">

                                                    <div class="space-6"></div>
                                                    <button id="mostrar_inv" type="button"
                                                        ng-click="abrirPopupInventario()" class="btn btn-info btn-sm">
                                                        <i class="ace-icon fa fa-search-plus bigger-110"></i>
                                                    </button>
                                                </td>
                                                <td>
                                                    {{detallePedido.producto.codigo}}
                                                </td>
                                                <td>
                                                    {{detallePedido.producto.unidad_medida}}
                                                </td>
                                                <td>
                                                    <div class="c100 p{{porcentaje}} small {{color}}">
                                                        <span id="CantProd"
                                                            style="color:black !important;">{{detallePedido.inventario_disponible}}</span>
                                                        <div class="slice">
                                                            <div class="bar"></div>
                                                            <div class="fill"></div>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <input onfocus="this.select();"
                                                        ng-keypress="interceptarTecla($event,'precio_unitario',false)"
                                                        step="0.00001" min="0.00001" class="col-xs-12"
                                                        ng-model="detallePedido.cantidad" type="number" />
                                                    <div
                                                        ng-show="formularioBusquedaProducto.cantidad.$dirty && formularioBusquedaProducto.cantidad.$invalid">
                                                        <span class="invalid-message">La cantidad debe estar entre
                                                            0.1 y {{detallePedido.inventario_disponible}}.</span>
                                                    </div>
                                                </td>
                                                <td>
                                                    <input onfocus="this.select();" id="precio_unitario"
                                                        ng-keypress="interceptarTecla($event,'agregar_detalle_venta',false)"
                                                        step="0.00001" min="0.00001" class="col-xs-12"
                                                        ng-model="detallePedido.precio_unitario" type="number" />
                                                </td>
                                                <td>
                                                    <button id="agregar_detalle_venta" type="button"
                                                        ng-disabled="formularioBusquedaProducto.$invalid"
                                                        ng-click="agregardetallePedido(detallePedido)"
                                                        class="btn btn-success btn-sm">
                                                        <i class="ace-icon fa fa-plus bigger-110"></i>
                                                    </button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <!-- </form> -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <table class="table table-striped table-bordered table-hover">
                        <thead>
                            <tr>
                                <th>
                                    <label>Nro.</label>
                                </th>
                                <th>
                                    <label>Ãtem</label>
                                </th>
                                <th>
                                    <label>Unidad de medida</label>
                                </th>
                                <th>
                                    <label>Cantidad</label>
                                </th>
                                <th>
                                    <label>P.U</label>
                                </th>
                                <th>
                                    <label>total</label>
                                </th>
                                <th>
                                    <label>saldo</label>
                                </th>
                                <th>
                                    <label>Codigo equipo</label>
                                </th>
                                <th>
                                    <label>ObservaciÃ³n</label>
                                </th>

                                <th>
                                    <label>Acciones</label>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="detallePedido in detallesPedido">
                                <td>
                                    {{$index+1}}
                                </td>
                                <td>
                                    {{detallePedido.producto.nombre}}
                                </td>
                                <td>
                                    {{detallePedido.producto.unidad_medida}}
                                </td>
                                <td>
                                    <input type="text" class="form-control" ng-model="detallePedido.cantidad"
                                        step="0.00001" min="0.00001"
                                        ng-change="modificarTotalesOrdenCompra(detallePedido)">
                                </td>
                                <td>
                                    <input type="text" class="form-control" ng-model="detallePedido.precio_unitario"
                                        step="0.00001" min="0.00001"
                                        ng-change="modificarTotalesOrdenCompra(detallePedido)">
                                </td>
                                <td>
                                    {{detallePedido.total | number:2}}
                                </td>
                                <td>
                                    {{detallePedido.saldo_inventario | number:2}}
                                </td>
                                <td style="min-width: 85px">
                                    <input autocomplete="off" ng-keypress="interceptarTecla($event,'cantidad',true)"
                                        type="text" ng-model="detallePedido.codigoEquipo"
                                        placeholder="Ingrese el nombre del producto..."
                                        uib-typeahead="producto as (producto.codigo+'-'+producto.nombre+'-'+producto.grupo+'-'+producto.subgrupo) for producto in buscarProductoCodigoEquipo($viewValue)"
                                        typeahead-wait-ms="1000" typeahead-template-url="templates/autocompletar.html"
                                        typeahead-show-hint="false" typeahead-select-on-exact="true" style="width:100%"
                                        typeahead-min-length="2"
                                        typeahead-on-select="establecerCodigoEquipo($item, $model, $label, $event)">
                                </td>
                                <td style="min-width: 85px">
                                    <input ng-if="pedido.ver!=true" style="width:100%" type="text"
                                        ng-model="detallePedido.observacion">
                                </td>
                                <td>
                                    <div class="col-sm-12">
                                        <button type="button" ng-if="pedido.ver!=true"
                                            ng-click="eliminarDetallePedido(detallePedido)"
                                            class="button-style btn red-style-button btn-xs">
                                            <i class="ace-icon fa fa-trash-o bigger-100"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="5">
                                    Total General
                                </td>
                                <td>{{pedido.total}}</td>
                                <td colspan="3"></td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
            <div class="modal-footer wizard-actions">
                <button ng-if="pedido.ver!=true" type="submit" class="btn btn-success">GUARDAR</button>
                <button type="button" ng-click="cerraridDialogoListadoPedido()"
                    class="btn btn-danger pull-left">SALIR</button>
            </div>
        </form>
    </div>
</div>

<div id="dialog-productos-proveedor-configuracion" class="modal">
    <div class="row">
        <div class="container-fluid">
            <form name="formularioBusquedaInventario">
                <div class="col-md-6">
                    <div class="col-md-6">
                        <label>
                            Mostrar
                            <select ng-model="paginatorProductos.itemsPerPage" ng-change="buscarProductos(1)"
                                name="tabla-proveedores_length" aria-controls="tabla-productos"
                                class="form-control input-sm">
                                <option selected value="10">10</option>
                                <option value="25">25</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                            </select> productos por pÃ¡gina</label>
                    </div>
                    <div class="col-md-6">
                        <label>Grupos</label>
                        <select class="form-control" style="width:150px;" ng-change="buscarProductos(1)"
                            id="selectGruposProductosProveedor" name="selectGruposProductos"
                            ng-model="configuracionPorveedor.grupo"
                            ng-options="grupo as grupo.nombre for grupo in gruposProducto track by grupo.id"
                            data-placeholder="Click para escoger">
                            <option value="" selected>Todos</option>
                        </select>
                        <button type="button" class="btn btn-primary" ng-click="actualizarProductosProveedor()">
                            Guardar
                        </button>
                    </div>
                </div>
                <div class="col-md-4">
                    <div id="tabla-productos_filter" class="dataTables_filter">
                        <label>BÃºsqueda:
                            <input type="search" class="form-control input-sm"
                                ng-model="configuracionPorveedor.textoBusqueda"
                                ng-keydown="verificarPulso($event,configuracionPorveedor.textoBusqueda)">
                        </label>
                    </div>
                </div>
                <div class="col-md-2">
                    <button type="button" ng-click="cerrarModalProductosProveedor()" class="btn btn-danger pull-right">
                        <i class="ace-icon fa fa-close align-top bigger-125"></i>
                    </button>
                </div>
            </form>
            <div class="row">
                <div class="container-fluid">
                    <table id="tabla-productos" class="table table-striped table-bordered table-hover table-responsive">
                        <thead>
                            <tr>
                                <th class="center">
                                    NÂº
                                </th>
                                <th class="center">
                                    <label class="pos-rel">
                                        <input type="checkbox" class="ace"
                                            ng-model="seleccionProductosProveedor.seleccionar_todos"
                                            ng-click="seleccionarTodosParaAsignar()" />
                                        <span class="lbl"></span>
                                    </label>
                                </th>
                                <th class="center">
                                    <a href="javascript:void(0)"
                                        ng-click="paginatorProductos.sortColumn('codigo')">CÃ³digo
                                        <span id="codigo" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>
                                <th class="center">
                                    <a href="javascript:void(0)"
                                        ng-click="paginatorProductos.sortColumn('nombre')">Nombre
                                        <span id="nombre" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>
                                <th>Imagen</th>
                                <th class="center">
                                    <a href="javascript:void(0)"
                                        ng-click="paginatorProductos.sortColumn('unidad_medida')">Unidad de Medida
                                        <span id="unidad_medida" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>
                                <th class="center">
                                    <a href="javascript:void(0)"
                                        ng-click="paginatorProductos.sortColumn('precio_unitario')">Precio Unitario
                                        <span id="precio_unitario" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>
                                <th class="center">
                                    <a href="javascript:void(0)"
                                        ng-click="paginatorProductos.sortColumn('inventario_minimo')">Inventario
                                        MÃ­nimo
                                        <span id="inventario_minimo" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>
                                <th class="center">
                                    <a href="javascript:void(0)"
                                        ng-click="paginatorProductos.sortColumn('descripcion')">Descripcion
                                        <span id="descripcion" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>

                                <th class="center">
                                    <a href="javascript:void(0)" ng-click="paginatorProductos.sortColumn('grupo')">Grupo
                                        <span id="grupo" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>
                                <th class="center">
                                    <a href="javascript:void(0)"
                                        ng-click="paginatorProductos.sortColumn('subgrupo')">Subgrupo
                                        <span id="subgrupo" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>
                                <th class="center">
                                    Tipo Producto
                                </th>
                                <th>Acciones</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr ng-repeat="producto in productosAsignacionProveedor">
                                <td class="center">
                                    {{($index+1)+(paginatorProductos.itemsPerPage*(paginatorProductos.currentPage-1))}}
                                </td>
                                <td class="center">
                                    <label class="pos-rel">
                                        <input type="checkbox" class="ace" ng-model="producto.seleccionado"
                                            ng-click="modificarListaProductosProveedor(producto)" />
                                        <span class="lbl"></span>
                                    </label>
                                </td>
                                <td>
                                    {{producto.codigo}}
                                </td>
                                <td>
                                    {{producto.nombre}}
                                </td>
                                <td>
                                    <img ng-src="{{producto.imagen}}" width="50">
                                </td>
                                <td>{{producto.unidad_medida}}</td>
                                <td>{{producto.precio_unitario | number:2}}</td>

                                <td>
                                    {{producto.inventario_minimo}}
                                </td>
                                <td>
                                    {{producto.descripcion}}
                                </td>

                                <td>
                                    {{producto.grupo}}
                                </td>
                                <td>
                                    {{producto.subgrupo}}
                                </td>
                                <td>
                                    {{producto.tipoProducto}}
                                </td>
                                <td>
                                    <div class="hidden-sm hidden-xs action-buttons">


                                        <a class="red" href="javascript:void(0)" e-disabled="!aplicacion.puede_eliminar"
                                            ng-click="mostrarConfirmacionEliminacion(producto)">
                                            <i class="ace-icon fa fa-trash-o bigger-130"></i>
                                        </a>
                                    </div>

                                    <div class="hidden-md hidden-lg">
                                        <div class="inline pos-rel">
                                            <button class="btn btn-minier btn-yellow dropdown-toggle"
                                                data-toggle="dropdown" data-position="auto">
                                                <i class="ace-icon fa fa-caret-down icon-only bigger-120"></i>
                                            </button>

                                            <ul
                                                class="dropdown-menu dropdown-only-icon dropdown-yellow dropdown-menu-right dropdown-caret dropdown-close">
                                                <li>
                                                    <a href="javascript:void(0)" e-disabled="!aplicacion.puede_eliminar"
                                                        ng-click="mostrarConfirmacionEliminacion(producto)"
                                                        class="tooltip-error" data-rel="tooltip" title="Delete">
                                                        <span class="red">
                                                            <i class="ace-icon fa fa-trash-o bigger-120"></i>
                                                        </span>
                                                    </a>
                                                </li>

                                            </ul>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-6">
                    <div class="dataTables_info" id="tabla-productos_info" role="status" aria-live="polite">
                        Mostrando
                        pÃ¡gina {{paginatorProductos.currentPage}} de {{paginatorProductos.pages.length}}</div>
                </div>
                <div class="col-xs-6">
                    <div class="dataTables_paginate paging_simple_numbers" id="tabla-productos_paginate">
                        <ul class="pagination">
                            <li class="paginate_button previous" aria-controls="tabla-productos" tabindex="0"
                                id="tabla-productos_previous">
                                <a href="javascript:void(0)" ng-click="buscarProductos(1)">Primero</a>
                            </li>
                            <li class="paginate_button previous" ng-class="{disabled:paginatorProductos.currentPage==1}"
                                aria-controls="tabla-productos" tabindex="0" id="tabla-productos_previous">
                                <a href="javascript:void(0)" e-disabled="paginatorProductos.currentPage==1"
                                    ng-click="buscarProductos(paginatorProductos.currentPage-1)">
                                    <<< /a>
                            </li>
                            <li class="paginate_button" ng-class="{active:paginatorProductos.currentPage==pagina}"
                                aria-controls="tabla-productos" tabindex="0"
                                ng-repeat="pagina in paginatorProductos.pages"
                                ng-if="abs(paginatorProductos.currentPage-pagina)<4">
                                <a href="javascript:void(0)" ng-click="buscarProductos(pagina)">{{pagina}}</a>
                            </li>
                            <li class="paginate_button"
                                ng-class="{disabled:paginatorProductos.currentPage==paginatorProductos.pages.length}"
                                aria-controls="tabla-productos" tabindex="0" id="tabla-productos_next">
                                <a href="javascript:void(0)"
                                    e-disabled="paginatorProductos.currentPage==paginatorProductos.pages.length"
                                    ng-click="buscarProductos(paginatorProductos.currentPage+1)">>></a>
                            </li>
                            <li class="paginate_button previous" aria-controls="tabla-productos" tabindex="0"
                                id="tabla-productos_previous">
                                <a href="javascript:void(0)"
                                    ng-click="buscarProductos(paginatorProductos.pages.length)">Ultimo</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="dialog-Busqueda-proveedor" style="overflow-x:hidden;" class="modal">
    <div class="row">
        <div class="widget-header">
            <div class="container-fluid">
                <div class="col-md-8">
                    <label>BÃºsqueda:
                        <input type="search" class="form-control input-sm" ng-model="textoBusquedaProveedor"
                            ng-change="filtrarProveedor(textoBusquedaProveedor)">
                    </label>
                </div>
                <div class="col-md-4">
                    <button type="button" ng-click="cerrarModalBusquedaProveedor()" class="btn btn-danger">
                        <i class="ace-icon fa fa-close align-top bigger-125"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="container-fluid">
            <div class="widget-box">
                <div class="widget-body">
                    <div class="widget-main">
                        <div class="table-fixed-header">
                            <table class="table table-striped table-bordered table-hover ">
                                <thead fix-head class="table-head-color">
                                    <tr>
                                        <th>
                                            <label for="">NÂ°</label>
                                        </th>
                                        <th>
                                            <label for="">
                                                Nit
                                            </label>
                                        </th>
                                        <th>
                                            Razon Social
                                        </th>
                                        <th>
                                            Acciones
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="proveedor in proveedoresProcesado">
                                        <td>
                                            {{$index+1}}
                                        </td>
                                        <td>
                                            {{proveedor.nit}}
                                        </td>
                                        <td>
                                            {{proveedor.razon_social}}
                                        </td>
                                        <td>
                                            <a href="javascript:void(0)"
                                                ng-click="establecerProveedor(proveedor,true)">SELECCIONAR</a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="dialog-productos-proveedor-asignados" class="modal">
    <div class="row">
        <div class="container-fluid">
            <form name="formularioBusquedaInventario">
                <div class="col-md-6">
                    <div class="col-md-6">
                        <label>
                            Mostrar
                            <select ng-model="paginatorProductosAsignados.itemsPerPage"
                                ng-change="buscarProductosAsignados(1)" name="tabla-proveedores_length"
                                aria-controls="tabla-productos" class="form-control input-sm">
                                <option selected value="10">10</option>
                                <option value="25">25</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                            </select> productos por pÃ¡gina</label>
                    </div>
                    <div class="col-md-6">
                        <label>Grupos</label>
                        <select class="form-control" style="width:150px;" ng-change="buscarProductosAsignados(1)"
                            id="selectGruposProductosAsignados" name="selectGruposProductos"
                            ng-model="productosAsignadosPorveedor.grupo"
                            ng-options="grupo as grupo.nombre for grupo in subGruposProducto track by grupo.id"
                            data-placeholder="Click para escoger">
                            <option value="" selected>Todos</option>
                        </select>
                        <button type="button" class="btn btn-primary" ng-click="agregarProductosSeleccionados()">
                            Guardar
                        </button>
                    </div>
                </div>
                <div class="col-md-4">
                    <div id="tabla-productos_filter" class="dataTables_filter">
                        <label>BÃºsqueda:
                            <input type="search" class="form-control input-sm"
                                ng-model="productosAsignadosPorveedor.textoBusqueda"
                                ng-keydown="verificarPulsoAsignados($event,productosAsignadosPorveedor.textoBusqueda)">
                        </label>
                    </div>
                </div>
                <div class="col-md-2">
                    <button type="button" ng-click="cerrarModalProductosAsignadosProveedor()"
                        class="btn btn-danger pull-right">
                        <i class="ace-icon fa fa-close align-top bigger-125"></i>
                    </button>
                </div>
            </form>
            <div class="row">
                <div class="container-fluid">
                    <table id="tabla-productos" class="table table-striped table-bordered table-hover table-responsive">
                        <thead>
                            <tr>
                                <th class="center">
                                    NÂº
                                </th>
                                <th class="center">
                                    <label class="pos-rel">
                                        <input type="checkbox" class="ace"
                                            ng-model="seleccionProductosProveedorAsignados.seleccionar_todos"
                                            ng-click="seleccionarTodosAsignados()" />
                                        <span class="lbl"></span>
                                    </label>
                                </th>
                                <th class="center">
                                    <a href="javascript:void(0)"
                                        ng-click="paginatorProductosAsignados.sortColumn('codigo')">CÃ³digo
                                        <span id="codigo" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>
                                <th class="center">
                                    <a href="javascript:void(0)"
                                        ng-click="paginatorProductosAsignados.sortColumn('nombre')">Nombre
                                        <span id="nombre" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>
                                <th>Imagen</th>
                                <th class="center">
                                    <a href="javascript:void(0)"
                                        ng-click="paginatorProductosAsignados.sortColumn('unidad_medida')">Unidad de
                                        Medida
                                        <span id="unidad_medida" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>
                                <th class="center">
                                    <a href="javascript:void(0)"
                                        ng-click="paginatorProductosAsignados.sortColumn('precio_unitario')">Precio
                                        Unitario
                                        <span id="precio_unitario" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>
                                <th class="center">
                                    <a href="javascript:void(0)"
                                        ng-click="paginatorProductosAsignados.sortColumn('inventario_minimo')">Inventario
                                        MÃ­nimo
                                        <span id="inventario_minimo" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>
                                <th class="center">
                                    <a href="javascript:void(0)"
                                        ng-click="paginatorProductosAsignados.sortColumn('descripcion')">Descripcion
                                        <span id="descripcion" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>

                                <th class="center">
                                    <a href="javascript:void(0)"
                                        ng-click="paginatorProductosAsignados.sortColumn('grupo')">Grupo
                                        <span id="grupo" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>
                                <th class="center">
                                    <a href="javascript:void(0)"
                                        ng-click="paginatorProductosAsignados.sortColumn('subgrupo')">Subgrupo
                                        <span id="subgrupo" class="sort fa fa-sort icon-only"></span>
                                    </a>
                                </th>
                                <th class="center">
                                    Tipo Producto
                                </th>
                                <th>Acciones22</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr ng-repeat="producto in productosAsignadosProveedor">
                                <td class="center">
                                    {{($index+1)+(paginatorProductosAsignados.itemsPerPage*(paginatorProductosAsignados.currentPage-1))}}
                                </td>
                                <td class="center">
                                    <label class="pos-rel">
                                        <input type="checkbox" class="ace" ng-model="producto.seleccionado"
                                            ng-click="seleccionarProductoAsignado(producto)" />
                                        <span class="lbl"></span>
                                    </label>
                                </td>
                                <td>
                                    {{producto.codigo}}
                                </td>
                                <td>
                                    {{producto.nombre}}
                                </td>
                                <td>
                                    <img ng-src="{{producto.imagen}}" width="50">
                                </td>
                                <td>{{producto.unidad_medida}}</td>
                                <td>{{producto.precio_unitario | number:2}}</td>

                                <td>
                                    {{producto.inventario_minimo}}
                                </td>
                                <td>
                                    {{producto.descripcion}}
                                </td>

                                <td>
                                    {{producto.grupo}}
                                </td>
                                <td>
                                    {{producto.subgrupo}}
                                </td>
                                <td>
                                    {{producto.tipoProducto}}
                                </td>
                                <td>
                                    <div class="hidden-sm hidden-xs action-buttons">


                                        <a class="red" href="javascript:void(0)" e-disabled="!aplicacion.puede_eliminar"
                                            ng-click="mostrarConfirmacionEliminacion(producto)">
                                            <i class="ace-icon fa fa-trash-o bigger-130"></i>
                                        </a>
                                    </div>

                                    <div class="hidden-md hidden-lg">
                                        <div class="inline pos-rel">
                                            <button class="btn btn-minier btn-yellow dropdown-toggle"
                                                data-toggle="dropdown" data-position="auto">
                                                <i class="ace-icon fa fa-caret-down icon-only bigger-120"></i>
                                            </button>

                                            <ul
                                                class="dropdown-menu dropdown-only-icon dropdown-yellow dropdown-menu-right dropdown-caret dropdown-close">
                                                <li>
                                                    <a href="javascript:void(0)" e-disabled="!aplicacion.puede_eliminar"
                                                        ng-click="mostrarConfirmacionEliminacion(producto)"
                                                        class="tooltip-error" data-rel="tooltip" title="Delete">
                                                        <span class="red">
                                                            <i class="ace-icon fa fa-trash-o bigger-120"></i>
                                                        </span>
                                                    </a>
                                                </li>

                                            </ul>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-6">
                    <div class="dataTables_info" id="tabla-productos_info" role="status" aria-live="polite">
                        Mostrando
                        pÃ¡gina {{paginatorProductosAsignados.currentPage}} de
                        {{paginatorProductosAsignados.pages.length}}</div>
                </div>
                <div class="col-xs-6">
                    <div class="dataTables_paginate paging_simple_numbers" id="tabla-productos_paginate">
                        <ul class="pagination">
                            <li class="paginate_button previous" aria-controls="tabla-productos" tabindex="0"
                                id="tabla-productos_previous">
                                <a href="javascript:void(0)" ng-click="buscarProductosAsignados(1)">Primero</a>
                            </li>
                            <li class="paginate_button previous"
                                ng-class="{disabled:paginatorProductosAsignados.currentPage==1}"
                                aria-controls="tabla-productos" tabindex="0" id="tabla-productos_previous">
                                <a href="javascript:void(0)" e-disabled="paginatorProductosAsignados.currentPage==1"
                                    ng-click="buscarProductosAsignados(paginatorProductosAsignados.currentPage-1)">
                                    <<< /a>
                            </li>
                            <li class="paginate_button"
                                ng-class="{active:paginatorProductosAsignados.currentPage==pagina}"
                                aria-controls="tabla-productos" tabindex="0"
                                ng-repeat="pagina in paginatorProductosAsignados.pages"
                                ng-if="abs(paginatorProductosAsignados.currentPage-pagina)<4">
                                <a href="javascript:void(0)" ng-click="buscarProductosAsignados(pagina)">{{pagina}}</a>
                            </li>
                            <li class="paginate_button"
                                ng-class="{disabled:paginatorProductosAsignados.currentPage==paginatorProductosAsignados.pages.length}"
                                aria-controls="tabla-productos" tabindex="0" id="tabla-productos_next">
                                <a href="javascript:void(0)"
                                    e-disabled="paginatorProductosAsignados.currentPage==paginatorProductosAsignados.pages.length"
                                    ng-click="buscarProductosAsignados(paginatorProductosAsignados.currentPage+1)">>></a>
                            </li>
                            <li class="paginate_button previous" aria-controls="tabla-productos" tabindex="0"
                                id="tabla-productos_previous">
                                <a href="javascript:void(0)"
                                    ng-click="buscarProductosAsignados(paginatorProductosAsignados.pages.length)">Ultimo</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="dialog-nueva-orden-reposicion" class="modal">
    <div class="modal-content">
        <div class="modal-header ficha">
            <button type="button" class="close" ng-click="cerrarModalNuevaOrdenReposicion()" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title" id="myModalLabel">ORDENES DE REPOSICIÃN </h4>
            <h5 class="modal-title">Usuario: {{usuario.persona.nombre_completo}}</h5>
            <h5 class="modal-title">Fecha: {{ordenReposicion.fecha_inicio | date:'dd/MM/yyyy'}}</h5>
        </div>
        <form ng-submit="guardarDatosOrdentrabajo()">
            <div class="modal-body">

                <div class="row">

                    <div class="form-group col-sm-3">
                        <div>
                            <label>Fecha Consumo</label>
                            <input required type="text"
                                ng-disabled="ordenReposicion.ver || ordenReposicion.revisar || ordenReposicion.correccion"
                                class="form-control date-picker" autocomplete="off" ng-update-hidden
                                ng-model="ordenReposicion.fecha_consumo" data-date-format="dd/mm/yyyy" ng-change="obtenerDatosDetalleOrdenReposicion()"
                                placeholder="Hasta">
                        </div>
                    </div>
                    <div class="form-group col-sm-3">
                        <div>
                            <label>Sucursal</label>
                            <!-- <select required autofocus id="sucursal-pedido-repo"
                                ng-disabled="ordenReposicion.ver || ordenReposicion.revisar || ordenReposicion.correccion || !ordenReposicion.fecha_consumo"
                                name="sucursal" class="form-control"
                                ng-options="sucursal as sucursal.nombre for sucursal in sucursales track by sucursal.id"
                                ng-model="ordenReposicion.sucursal"
                                ng-change="obtenerAlmacenes(ordenReposicion.sucursal.id)">
                                <option value="" selected>Seleccione una sucursal</option>
                            </select> -->
                            <ui-select class="col-md-12" style="padding-left: 15px; padding-right: 0px;"  
                                ng-disabled="ordenReposicion.ver || ordenReposicion.revisar || ordenReposicion.correccion || !ordenReposicion.fecha_consumo"
                                ng-model="ordenReposicion.sucursal" required
                                id="sucursal-pedido-repo" name="sucursal" theme="select2" title=" Seleccionar..."
                                ng-change="obtenerAlmacenes(ordenReposicion.sucursal.id)">
                                <ui-select-match placeholder="seleccionar..." style="padding-left: 15px;">
                                    <span style="color:black">{{$select.selected.nombre}}</span>
                                </ui-select-match>
                                <ui-select-choices style="padding-left: 15px;"
                                    repeat="sucursal in sucursales | filter: $select.search track by sucursal.id">
                                    <span> {{sucursal.nombre}} </span>
                                    <hr style="margin-top: 0px;margin-bottom: 0px;border: 0;border-top: 1px solid #eee;">
                                </ui-select-choices>
                            </ui-select>
                        </div>
                    </div>
                    <div class="form-group col-sm-3">
                        <div>
                            <label>Almacen</label>
                            <!-- <select required
                                ng-disabled="ordenReposicion.ver || ordenReposicion.revisar || ordenReposicion.correccion || !ordenReposicion.sucursal"
                                ng-model="ordenReposicion.almacen" ng-change="obtenerDatosDetalleOrdenReposicion()"
                                class="form-control"
                                ng-options="almacen as almacen.nombre for almacen in almacenes track by almacen.id">
                                <option disabled value="" selected>Seleccione almacen</option>
                            </select> -->
                            <ui-select class="col-md-12" style="padding-left: 15px; padding-right: 0px;"  
                                ng-disabled="ordenReposicion.ver || ordenReposicion.revisar || ordenReposicion.correccion || !ordenReposicion.sucursal"
                                n ng-model="ordenReposicion.almacen" required
                                id="sucursal-pedido-repo" name="sucursal" theme="select2" title=" Seleccionar..."
                                ng-change="obtenerDatosDetalleOrdenReposicion()">
                                <ui-select-match placeholder="seleccionar..." style="padding-left: 15px;">
                                    <span style="color:black">{{$select.selected.nombre}}</span>
                                </ui-select-match>
                                <ui-select-choices style="padding-left: 15px;"
                                    repeat="almacen in almacenes | filter: $select.search track by almacen.id">
                                    <span> {{almacen.nombre}} </span>
                                    <hr style="margin-top: 0px;margin-bottom: 0px;border: 0;border-top: 1px solid #eee;">
                                </ui-select-choices>
                            </ui-select>
                        </div>
                    </div>
                    <div class="form-group col-sm-3">
                        <div>
                            <center><label class="align-center">MÃ¡ximo</label><br>
                            <label>
                                <input ng-model="ordenReposicion.maximos"
                                    class="ace ace-switch ace-switch-5 big-switch" type="checkbox">
                                <span class="lbl"
                                    data-lbl="Fijos &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AutomÃ¡ticos"></span>
                            </label>
                        </div>
                    </div>



                </div>
                <div>
                    <button ng-disabled="ordenReposicion.ver || ordenReposicion.revisar || ordenReposicion.correccion"
                        id="agregar_detalle_venta" type="button" class="btn btn-primary btn-sm"
                        ng-click="agregarNuevoDetalleOrdenReposicion()">
                        <i class="ace-icon fa fa-plus bigger-110"></i> Nuevo
                    </button>
                </div>

                <div class="row" ng-if="nuevoProductoOrdenRepo">
                    <div class="col-md-3">
                        <label>Producto</label>
                        <input autocomplete="off" class="form-control"
                            ng-keypress="interceptarTecla($event,'cantidad',true)" required type="text"
                            ng-model="nuevoDetalleOrdenReposicion.producto"
                            placeholder="Ingrese el nombre del producto..."
                            uib-typeahead="producto as (producto.codigo+'-'+producto.nombre+'-'+producto.grupo+'-'+producto.subgrupo) for producto in buscarProductoOrdenReposicion($viewValue)"
                            typeahead-wait-ms="1000" typeahead-template-url="templates/autocompletar.html"
                            typeahead-show-hint="false" typeahead-select-on-exact="true" typeahead-min-length="2">
                    </div>
                    <div class="col-md-3">
                        <label>Cantidad</label>
                        <input
                            ng-disabled="ordenReposicion.ver || ordenReposicion.revisar || ordenReposicion.correccion "
                            type="number" class="form-control" ng-model="nuevoDetalleOrdenReposicion.extra">
                    </div>
                    <div class="col-md-3">
                        <button
                            ng-disabled="ordenReposicion.ver || ordenReposicion.revisar || ordenReposicion.correccion"
                            id="agregar_detalle_venta" type="button" class="btn btn-success btn-sm"
                            ng-click="agregarDetalleOrdenReposicion(nuevoDetalleOrdenReposicion)">
                            <i class="ace-icon fa fa-plus bigger-110"></i>Agregar
                        </button>
                    </div>

                </div>
                <div class="pull-left" ng-if="!usuario.empresa.usar_indice_rotacion_producto">
                    indice rotacion: <input type="number" step="0.0001"
                        ng-disabled="ordenReposicion.detallesOrdenReposicion.length>0 || usuario.empresa.usar_indice_rotacion_producto"
                        ng-model="ordenReposicion.indice_rotacion">
                </div>
                <div class="row pull-right" ng-show="ordenReposicion.detallesOrdenReposicion.length>0">

                    <div class="form-group col-sm-3">
                        <label>Buscar por:</label>
                    </div>
                    <div class="form-group col-sm-3">
                        <label>codigo P.</label>
                        <input type="text" ng-model="searchOrdenRepo.producto.codigo" class="form-control">
                    </div>
                    <div class="form-group col-sm-3">
                        <div>
                            <label>Nombre P.</label>
                            <input type="text" ng-model="searchOrdenRepo.producto.nombre" class="form-control">
                        </div>
                    </div>
                    <div class="form-group col-sm-3">
                        <div>
                            <p>Obser.</p>
                            <label>
                                <input name="switch-field-1" tabindex="-1" ng-model="searchOrdenRepo.observado"
                                    class="ace ace-switch ace-switch-4 ng-pristine ng-untouched ng-valid ng-empty"
                                    type="checkbox">
                                <span class="lbl check-descuento"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div>
                    <div class="table-fixed-header">
                        <table class="table table-striped table-bordered table-hover">
                            <thead fix-head class="table-head-color">
                                <tr>
                                    <th>Nro.</th>
                                    <th>Codigo</th>
                                    <th>Item</th>
                                    <th>Unidad de Medida</th>
                                    <th ng-if="usuario.empresa.usar_indice_rotacion_producto">Indice de RotaciÃ³n</th>
                                    <th>Consumo</th>
                                    <th>Extra</th>
                                    <th ng-if="ordenReposicion.revisar">Cantidad Corregida</th>
                                    <th>Repos.</th>
                                    <th>Saldo</th>
                                    <th>MÃ¡xi.</th>
                                    <th>observaciÃ³n/Especificaciones</th>
                                     <th>Cant. Sugerida
                                    </th>
                                    <th ng-if="ordenReposicion.revisar || ordenReposicion.correccion">obs.</th>

                                    <th ng-if="ordenReposicion.revisar || ordenReposicion.correccion">observaciÃ³n
                                        revisor</th>
                                    <th ng-if="ordenReposicion.correccion">Cant. Corregir</th>
                                    <th ng-if="ordenReposicion.correccion">Justificativo</th>

                                    <th>Accionnes</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-class="detalle.eliminado || detalle.noReponer || detalle.inventario_disponible > detalle.cantidad_maxima ? 'red':''"
                                    ng-repeat="detalle in ordenReposicion.detallesOrdenReposicion|filter:searchOrdenRepo | orderBy: 'producto.codigo'">
                                    <td>{{$index+1}}</td>
                                    <td>{{detalle.producto.codigo}}</td>
                                    <td>
                                        <span>{{detalle.producto.nombre}}</span>
                                        <!-- <input autocomplete="off"
                                            ng-if="detalle.detallesSolicitudProductos.length==0 && detalle.detallesSolicitudProductosBase.length==0"
                                            ng-keypress="interceptarTecla($event,'cantidad',true)" required type="text"
                                            ng-model="detalle.producto" placeholder="Ingrese el nombre del producto..."
                                            uib-typeahead="producto as (producto.codigo+'-'+producto.nombre+'-'+producto.grupo+'-'+producto.subgrupo) for producto in buscarProductoOrdenReposicion($viewValue)"
                                            typeahead-wait-ms="1000"
                                            typeahead-template-url="templates/autocompletar.html"
                                            typeahead-show-hint="false" typeahead-select-on-exact="true"
                                            typeahead-min-length="2"> -->
                                    </td>
                                    <td>{{detalle.producto.unidad_medida}}</td>
                                    <td ng-if="usuario.empresa.usar_indice_rotacion_producto">
                                        {{detalle.producto.indice_rotacion}}</td>
                                    <td>
                                        <span>{{detalle.cantidad |number:2}}</span>
                                        <!-- <input ng-if="detalle.detallesSolicitudProductos.length==0"ng-if="detalle.detallesSolicitudProductos.length>0"
                                            ng-disabled="ordenReposicion.ver || ordenReposicion.revisar || ordenReposicion.correccion"
                                            type="number" class="form-control" ng-model="detalle.cantidad"> -->
                                    </td>
                                    <td><input
                                            ng-disabled="ordenReposicion.ver || ordenReposicion.revisar || ordenReposicion.correccion"
                                            type="number" step="0.000001" class="form-control" ng-model="detalle.extra" ng-change="calcularCantidadTotalExtra(detalle)">
                                        <!-- ng-change="verificarConExtraSugerido(detalle)" -->
                                    </td>
                                    <td ng-if="ordenReposicion.revisar">{{detalle.cantidad_corregida}}<i ng-show="ordenReposicion.revisar && detalle.Justificativo"data-rel="tooltip"
                                        data-placement="left" uib-tooltip="{{detalle.justificativo}}"
                                        tooltip-append-to-body="true" class="fa fa-comments bigger-160"></i></td>
                                    <td>{{detalle.cantidad_total|number:2}}</td>
                                    <td>{{detalle.inventario_disponible}}</td>
                                    <td ng-if="!ordenReposicion.maximos">{{detalle.cantidad_maxima|number:2}}</td>
                                    <td ng-if="ordenReposicion.maximos">
                                        <input ng-disabled="ordenReposicion.ver || ordenReposicion.revisar || ordenReposicion.correccion"
                                        type="number" step="0.001" class="form-control" ng-model="detalle.cantidad_fijo">
                                    </td>

                                    <td>
                                        <input ng-hide="ordenReposicion.revisar "
                                            ng-disabled="ordenReposicion.ver || ordenReposicion.revisar || ordenReposicion.correccion"
                                            type="text" class="form-control" ng-model="detalle.observacion ">
                                        <i ng-show="ordenReposicion.revisar && detalle.observacion" data-rel="tooltip"
                                            data-placement="left" uib-tooltip="{{detalle.observacion}}"
                                            tooltip-append-to-body="true" class="fa fa-comments bigger-160"></i>
                                    </td>
                                     <td>
                                        <p ng-if="ordenReposicion.maximos">{{ detalle.producto  ? 
                                                                                                ( detalle.inventario_disponible >= detalle.cantidad_fijo  ?
                                                                                                                                                            0 
                                                                                                                                                            :  ( detalle.producto.cantidad_prestacion_compra ? ( ( detalle.cantidad_fijo - detalle.inventario_disponible ) + ( detalle.producto.cantidad_prestacion_compra - ( (detalle.cantidad_fijo - detalle.inventario_disponible) % detalle.producto.cantidad_prestacion_compra )))
                                                                                                                                                                                                             :  ( detalle.cantidad_fijo - detalle.inventario_disponible )
                                                                                                                                                                )
                                                                                                ) : 0  | number:2 }}</p>
                                        <p ng-if="!ordenReposicion.maximos">{{ detalle.producto && detalle.producto.cantidad_prestacion_compra ? ( detalle.cantidad_sugerida + (detalle.producto.cantidad_prestacion_compra - ( detalle.cantidad_sugerida % detalle.producto.cantidad_prestacion_compra ))) : detalle.cantidad_sugerida | number:2}}</p>
                                    </td>
                                    <td data-label="Seleccionar:"
                                        ng-if="ordenReposicion.revisar || ordenReposicion.correccion">
                                        <label class="pos-rel">
                                            <input
                                                ng-disabled="ordenReposicion.ver || !ordenReposicion.revisar || ordenReposicion.correccion"
                                                name="switch-field-1" type="checkbox"
                                                class="ace ng-valid ng-dirty ng-valid-parse ng-touched ng-empty"
                                                ng-model="detalle.observado">
                                            <span class="lbl"></span>
                                        </label>
                                    </td>
                                    <td ng-if="ordenReposicion.revisar || ordenReposicion.correccion">
                                        <input ng-hide="ordenReposicion.correccion"
                                            ng-disabled="!detalle.observado || ordenReposicion.correccion" type="text"
                                            class="form-control" ng-model="detalle.observacion_revisor">
                                        <i ng-show="ordenReposicion.correccion && detalle.observacion_revisor"
                                            data-rel="tooltip" data-placement="left" tooltip-append-to-body="true"
                                            uib-tooltip="{{detalle.observacion_revisor}}"
                                            class="fa fa-comments bigger-160"></i>
                                    </td>
                                    <th ng-if="ordenReposicion.correccion">
                                        <input ng-disabled="!detalle.observado || detalle.noReponer" type="number" class="form-control"
                                            ng-model="detalle.cantidad_corregida" step="0.000001" 
                                            ng-change="detalle.extra = detalle.cantidad_corregida-detalle.cantidad;
                                            calcularCantidadTotalExtra(detalle)"
                                            >
                                    </th>
                                    <th ng-if="ordenReposicion.correccion">
                                        <input ng-disabled="!detalle.observado || detalle.noReponer" type="text" class="form-control"
                                            ng-model="detalle.justificativo">
                                    </th>
                                    <td>
                                        <div class="button">
                                            <a class="red" e-disabled="ordenReposicion.ver || ordenReposicion.revisar || ordenReposicion.correccion"
                                                ng-if="!detalle.id" href="javascript:void(0)" ng-click="EliminarDetalleOrdenReposicion(detalle)"
                                                tooltip-append-to-body="true" data-rel="tooltip" tooltip-placement="top" uib-tooltip="Eliminar">
                                                <i class="ace-icon fa fa-trash-o bigger-130"></i>
                                            </a>
                                            <a class="btn btn-danger btn-xs" e-disabled="ordenReposicion.ver" ng-if="!ordenReposicion.revisar && !detalle.noReponer" href="javascript:void(0)" ng-click="definirSinReposicion(detalle)" tooltip-append-to-body="true" data-rel="tooltip" tooltip-placement="top" uib-tooltip="No reponer">
                                                <i class="fa fa-remove bigger-130" aria-hidden="true"></i>
                                            </a>
                                            <a class="btn btn-success btn-xs" e-disabled="ordenReposicion.ver" ng-if="!ordenReposicion.revisar && detalle.noReponer" href="javascript:void(0)" ng-click="detalle.noReponer = !detalle.noReponer" tooltip-append-to-body="true" data-rel="tooltip" tooltip-placement="top" uib-tooltip="No reponer">
                                                <i class="fa fa-check bigger-130" aria-hidden="true"></i>
                                            </a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger btn-sm pull-left" type="button"
                    ng-click="cerrarModalNuevaOrdenReposicion()">
                    <i class="ace-icon fa fa-times"></i>Cancelar
                </button>
                <button ng-if="!ordenReposicion.ver" class="btn btn-success btn-sm pull-right" type="submit">
                    Guardar
                </button>
            </div>
        </form>
    </div>

</div>
<div id="dialog-orden-reposicion" class="modal">
    <div class="modal-content">
        <div class="modal-header ficha">
            <h4 class="modal-title" id="myModalLabel">ORDEN DE REPOSICIÃN </h4>
            <!-- 
                <h5 class="modal-title">Usuario: {{usuario.persona.nombre_completo}}</h5>
                <h5 class="modal-title">Fecha: 03/04/2019</h5> -->
        </div>
        <div class="modal-body">
            <div>
                <button id="agregar_detalle_venta" type="button" ng-click="AccionesOrdenReposicion('nuevo')"
                    class="btn btn-primary btn-sm">
                    <i class="ace-icon fa fa-plus bigger-110"></i>NUEVO
                </button>
            </div>
            <div class="row">
                <form ng-submit="obtenerDatosOrdenReposicion(filtroOrdenRepo)">
                    <div class="form-group col-sm-6 col-md-3 col-lg-3">
                        <div>
                            <label>Desde</label>
                            <input type="text" class="form-control date-picker" autocomplete="off" ng-update-hidden
                                ng-model="filtroOrdenRepo.inicio" data-date-format="dd/mm/yyyy"
                                id="calculo-vacacion-hasta" placeholder="Hasta">
                        </div>
                    </div>
                    <div class="form-group col-sm-6 col-md-3 col-lg-3">
                        <div>
                            <label>Hasta</label>
                            <input type="text" class="form-control date-picker" autocomplete="off" ng-update-hidden
                                ng-model="filtroOrdenRepo.fin" data-date-format="dd/mm/yyyy" id="calculo-vacacion-hasta"
                                placeholder="Hasta">
                        </div>
                    </div>
                    <div class="form-group col-sm-6 col-md-3 col-lg-3">
                        <div>
                            <label>sucursal</label>
                            <!-- <select id="sucursal-pedido" name="sucursal" class="form-control"
                                ng-options="sucursal.id as sucursal.nombre for sucursal in sucursales track by sucursal.id"
                                ng-model="filtroOrdenRepo.id_sucursal"
                                ng-change="obtenerAlmacenes(filtroOrdenRepo.id_sucursal)">
                                <option value="" selected>Todos</option>
                            </select> -->
                            <ui-select  ng-model="filtroOrdenRepo.sucursal" class="col-md-12" style="padding-left: 15px; padding-right: 0px;"
                                id="sucursal-pedido" name="sucursal" theme="select2" title=" Seleccionar..."
                                ng-change="obtenerAlmacenes(filtroOrdenRepo.sucursal.id)">
                                <ui-select-match placeholder="seleccionar..." style="padding-left: 15px;">
                                    <span style="color:black">{{$select.selected.nombre}}</span>
                                </ui-select-match>
                                <ui-select-choices style="padding-left: 15px;"
                                    repeat="sucursal in sucursales | filter: $select.search track by sucursal.id">
                                    <span> {{sucursal.nombre}} </span>
                                    <hr style="margin-top: 0px;margin-bottom: 0px;border: 0;border-top: 1px solid #eee;">
                                </ui-select-choices>
                            </ui-select>
                        </div>
                    </div>
                    <div class="form-group col-sm-6 col-md-3 col-lg-3">
                        <div>
                            <label>Almacen</label>
                            <!-- <select ng-model="filtroOrdenRepo.id_almacen" class="form-control"
                                ng-options="almacen.id as almacen.nombre for almacen in almacenes track by almacen.id">
                                <option value="" selected>Todos</option>
                            </select> -->

                            <ui-select ng-model="filtroOrdenRepo.almacen" class="col-md-12" style="padding-left: 15px; padding-right: 0px;"  
                                 theme="select2" title=" Seleccionar..." >
                                <ui-select-match placeholder="seleccionar..." style="padding-left: 15px;">
                                    <span style="color:black">{{$select.selected.nombre}}</span>
                                </ui-select-match>
                                <ui-select-choices style="padding-left: 15px;"
                                    repeat="almacen in almacenes | filter: $select.search">
                                    <span> {{almacen.nombre}} </span>
                                    <hr style="margin-top: 0px;margin-bottom: 0px;border: 0;border-top: 1px solid #eee;">
                                </ui-select-choices>
                            </ui-select>
                        </div>
                    </div>
                    <div class="form-group col-sm-6 col-md-3 col-lg-3">
                        <div>
                            <label>Estado</label>
                            <select ng-model="filtroOrdenRepo.id_estado" class="form-control"
                                ng-options="estado.id as estado.nombre for estado in estadosOrdenReposicion.clases track by estado.id">
                                <option value="" selected>Todos</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group col-sm-6 col-md-3 col-lg-3">
                        <button type="submit" class="btn btn-app btn-primary btn-xs">
                            <i class="ace-icon fa fa-search align-top bigger-100"></i>
                            Filtrar
                        </button>
                        <button type="submit" class="btn btn-app btn-danger btn-xs" ng-click="reporteExcel(true)">
                            <i class="ace-icon fa fa-print align-top bigger-100"></i>
                            PDF
                        </button>
                        <button type="button" class="btn btn-app btn-success btn-xs" ng-click="reporteExcel()">
                            <i class="ace-icon fa fa-print align-top bigger-100"></i>
                            Excel
                        </button>
                    </div>
                </form>
            </div>
            <div class="table-header">
                Lista de Ordenes ReposiciÃ³n
            </div>
            <div id="tabla-pacientes_wrapper" class="dataTables_wrapper form-inline no-footer">
                <div class="row">
                    <div class="col-sm-6">
                        <div>
                            <label>
                                Mostrar <select ng-model="paginatorOrdenRep.itemsPerPage"
                                    ng-change="paginatorOrdenRep.getFirstPage()" name="tabla-proveedores_length"
                                    aria-controls="tabla-proveedores" class="form-control input-sm">
                                    <option value="0">Todos</option>
                                    <option ng-selected="true" value="10">10</option>
                                    <option value="25">25</option>
                                    <option value="50">50</option>
                                    <option value="100">100</option>
                                </select> Elementos</label>
                        </div>
                    </div>
                    <div class="col-sm-6" align="right">
                        <div>
                            <label>Buscar:
                                <input class="form-control input-sm" type="search" ng-model="textSearch"
                                    ng-model-options='{ debounce: 600 }'
                                    ng-change="paginator.getSearch(textSearch,paginator.filter,$event)">
                            </label>
                        </div>
                    </div>
                </div>
                <div>
                    <table class="table table-striped table-bordered table-hover">
                        <thead>
                            <tr>
                                <th>Nro.</th>
                                <th>Fecha Consumo</th>
                                <th>Sucursal</th>
                                <th>Almacen</th>
                                <th>estado</th>
                                <th>usuario</th>
                                <th>Accionnes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-class="{'text-danger':ordenReposicion.eliminado}" ng-repeat="ordenReposicion in ordenesReposicion">
                                <td>{{($index+1)+(paginator.itemsPerPage*(paginator.currentPage-1))}}</td>
                                <td>{{ordenReposicion.fecha_consumo|date:'dd/MM/yyyy'}}</td>
                                <td>{{ordenReposicion.almacen.sucursal.nombre}}</td>
                                <td>{{ordenReposicion.almacen.nombre}}</td>
                                <td>{{ordenReposicion.estado.nombre}}</td>
                                <td>{{ordenReposicion.usuario.persona.nombre_completo}}</td>
                                <td>
                                    <a class="green" href="javascript:void(0)"
                                        ng-click="AccionesOrdenReposicion('reporte-exel',ordenReposicion)"
                                        data-rel="tooltip" tooltip-placement="top" uib-tooltip="Reporte">
                                        <i class="ace-icon fa fa-file-excel-o bigger-130"></i>
                                    </a>
                                    <a class="green" href="javascript:void(0)"
                                        ng-click="AccionesOrdenReposicion('imprimir',ordenReposicion)"
                                        data-rel="tooltip" tooltip-placement="top" uib-tooltip="Imprimir">
                                        <i class="ace-icon fa fa-print bigger-130"></i>
                                    </a>
                                    <a class="blue" href="javascript:void(0)"
                                        ng-click="AccionesOrdenReposicion('ver',ordenReposicion)" data-rel="tooltip"
                                        tooltip-placement="top" uib-tooltip="Visualizar">
                                        <i class="ace-icon fa fa-search-plus bigger-130"></i>
                                    </a>
                                    <a class="green"
                                        ng-if="!ordenReposicion.confirmacion_reposicion && !ordenReposicion.eliminado"
                                        href="javascript:void(0)"
                                        ng-click="AccionesOrdenReposicion('editar',ordenReposicion)" data-rel="tooltip"
                                        tooltip-placement="top" uib-tooltip="Editar">
                                        <i class="ace-icon fa fa-pencil-square-o bigger-130"></i>
                                    </a>
                                    <a class="red" href="javascript:void(0)" data-rel="tooltip" tooltip-placement="top"
                                        ng-if="!ordenReposicion.confirmacion_reposicion && !ordenReposicion.eliminado"
                                        ng-click="AccionesOrdenReposicion('eliminar',ordenReposicion)"
                                        uib-tooltip="Eliminar">
                                        <i class="ace-icon fa fa-trash-o bigger-130"></i>
                                    </a>
                                    <a class="blue"
                                        ng-if="(!ordenReposicion.confirmacion_reposicion && !ordenReposicion.eliminado) && usuario.encargado_almacen_gestion"
                                        href="javascript:void(0)"
                                        ng-click="AccionesOrdenReposicion('revisar',ordenReposicion)" data-rel="tooltip"
                                        tooltip-placement="top" uib-tooltip="Revisar">
                                        <span class="bigger-130">R</span>
                                    </a>
                                    <a class="red"
                                        ng-if="(!ordenReposicion.confirmacion_reposicion && !ordenReposicion.eliminado) && ordenReposicion.correccion && ordenReposicion.estado.nombre_corto=='REVISADO'  && usuario.encargado_almacen_gestion"
                                        href="javascript:void(0)"
                                        ng-click="AccionesOrdenReposicion('corregir',ordenReposicion)"
                                        data-rel="tooltip" tooltip-placement="top" uib-tooltip="Corregir">
                                        <span class="bigger-130">C</span>
                                    </a>
                                    <a class="green"
                                        ng-if="(!ordenReposicion.confirmacion_reposicion && !ordenReposicion.eliminado) && usuario.encargado_almacen_gestion"
                                        ng-click="AccionesOrdenReposicion('cerrar',ordenReposicion)"
                                        href="javascript:void(0)" data-rel="tooltip" tooltip-placement="top"
                                        uib-tooltip="Confirmar">
                                        <i class="ace-icon fa fa-unlock bigger-130"></i>
                                    </a>
                                    <a class="red" ng-if="ordenReposicion.confirmacion_reposicion"
                                        href="javascript:void(0)" data-rel="tooltip" tooltip-placement="top"
                                        uib-tooltip="Confirmar">
                                        <i class="ace-icon fa fa-lock bigger-130"></i>
                                    </a>
                                    <a href="javascript:void(0)" ng-click="imprimirIsoGestionRecepcion(ordenReposicion)" ng-if="usuario.empresa.usar_configuracion_iso && ordenReposicion.nro_correlativo_iso_recepcion" data-rel="tooltip" tooltip-append-to-body="true" tooltip-placement="top" uib-tooltip="RecepciÃ³n">
                                        <img src="img/iso-print.png" height="15" width="15" alt="">
                                    </a>
                                    <a href="javascript:void(0)" ng-click="imprimirIsoGestionEnvio(ordenReposicion)" ng-if="usuario.empresa.usar_configuracion_iso && ordenReposicion.nro_correlativo_iso_envio" data-rel="tooltip" tooltip-append-to-body="true" tooltip-placement="top" uib-tooltip="EnvÃ­o">
                                        <img src="img/iso-print.png" height="15" width="15" alt="">
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div>
                            Mostrando pÃ¡gina {{paginatorOrdenRep.currentPage}} de {{paginatorOrdenRep.pages.length}}
                        </div>
                    </div>
                    <div class="col-sm-6" align="right">
                        <ul class="pagination">
                            <li class="paginate_button">
                                <a href="javascript:void(0)" ng-click="paginatorOrdenRep.getFirstPage()">Primero</a>
                            </li>
                            <li class="paginate_button">
                                <a href="javascript:void(0)" e-disabled="paginatorOrdenRep.currentPage==1"
                                    ng-click="paginatorOrdenRep.getPreviousPage()">
                                    <<</a>
                            </li>
                            <li class="paginate_button" ng-class="{active:paginatorOrdenRep.currentPage==page}"
                                ng-repeat="page in paginatorOrdenRep.pages"
                                ng-if="abs(paginatorOrdenRep.currentPage-page)<4">
                                <a e-disabled="paginatorOrdenRep.currentPage==page" href="javascript:void(0)"
                                    ng-click="paginatorOrdenRep.getPage(page)">{{page}}</a>
                            </li>
                            <li class="paginate_button">
                                <a href="javascript:void(0)"
                                    e-disabled="paginatorOrdenRep.currentPage==paginatorOrdenRep.pages.length"
                                    ng-click="paginatorOrdenRep.getNextPage()">>></a>
                                </lidiv>
                            <li class="paginate_button">
                                <a href="javascript:void(0)" ng-click="paginatorOrdenRep.getLastPage()">Ultimo</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-danger btn-sm pull-left" ng-click="cerrarModalOrdenReposicion()">
                <i class="ace-icon fa fa-times"></i>Cancelar
            </button>
        </div>

    </div>

</div>
<!-- =========eliminar solicitud ========= -->
<div id="dialog-eliminar-orden-reposicion" title="Â¿EliminaciÃ³n de Seguro?" class="modal">
    <div class="modal-header">
        <p>
        <h3>Elimnar Orden</h3>
        </p>
    </div>
    <div class="modal-body">
        <p>
            <span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>Â¿Esta seguro de
            eliminar
            la
            orden reposicion?
        </p>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-danger" ng-click="eliminarOrdenReposicion()">Si</button>
        <button type="button" class="btn btn-success" ng-click="cerrarModalEliminarOrdenReposicion()">No</button>
    </div>
</div>
<!-- ========= fin modal eliminar solicitud ========= -->
<!-- =========eliminar solicitud ========= -->
<div id="dialog-cerrar-orden-reposicion" title="esta seguro de cerrar la orden?" class="modal">
    <div class="modal-header">
        <p>
        <h3>Confirmar Orden</h3>
        </p>
    </div>
    <div class="modal-body">
        <p>
            <span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>Â¿Esta seguro de
            Confirmar la orden reposicion?
        </p>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-danger" ng-click="cerrarOrdenReposicion()">Si</button>
        <button type="button" class="btn btn-success" ng-click="cerrarModalCerrarOrdenReposicion()">No</button>
    </div>
</div>
</div>
<!-- ========= fin modal eliminar solicitud ========= -->
<!-- =========inicio sincronizacion ========= -->
<div id="dialog-sincronizacion-datos" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <p>
            <h3>Sincronizacion de Datos alacenes</h3>

            </p>
        </div>
        <div class="modal-body">
            <form>
                <div>
                    <div>
                        <div class="row">
                            <div class="col-md-9">

                                <div class="from-group">
                                    <label>Sucursal</label>
                                    <select required id="sucursal-filtro-operaciones" name="sucursal"
                                        class="form-control"
                                        ng-options="sucursal as sucursal.nombre for sucursal in sucursales track by sucursal.id"
                                        ng-model="sucursalImpCamp">
                                        <option value="" selected>seleccionar</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-3 float-left">
                                <button uib-tooltip="Historial datos campamento" type="button"
                                    style="margin-top: 14px; border-color: #FFFFFF; background-color: #FFFFFF !important;"
                                    class="btn-woBox btn-info" ng-click="abrirDialogHSyncCampamento()">
                                    <i class="red ace-icon fa fa-h-square align-top bigger-225"></i>
                                </button>
                            </div>
                        </div>

                        <h4 class="form-text text-info text-center" ng-if="sucursalImpCamp">
                            <p> para cerrar la informaciÃ³n de los registros sincronizados hasta</p>
                            <p> la fecha actual, verificar si ya fue sincronizada en ambos lados</p>
                            <p>(agilsof.net y en el campamento {{sucursalImpCamp.nombre}}).</p>
                        </h4>
                        <button type="button" class="btn btn-warning btn-block" ng-if="sucursalImpCamp"
                            ng-click="cerrarSolicitudesCampamento(sucursalImpCamp)">CERRAR SINCRONIZACION</button>
                    </div>
                    <h4>Descargar archivo de exportaciÃ³n</h4>
                    <div>
                        <h4 ng-if="!sucursalImpCamp" class="text-info">para descargar seleccione una sucursal</h4>
                        <a href="javascript:void(0)" class="text text-warning btn-xs"
                            ng-click="descargarSolicitudesSucursal(sucursalImpCamp)">
                            <i class="fa  fa-cloud-download green bigger-200"></i>Datos Solicitudes y reposicion
                        </a>
                    </div>
                </div>
                <div>
                    <h4>Agregar archivo de importaciÃ³n</h4>
                </div>
                <div class="fileUpload boton-importar">
                    <span class="fileUpload-button ace-icon fa fa-cloud-upload blue bigger-200"></span>
                    <input ng-disabled="!aplicacion.puede_crear" class="upload" type="file"
                        custom-on-file-change="subirExcelSolicitudesReposicionAlmacen" />datos solicitudes y
                    reposiciones
                    almacen
                </div>
            </form>

        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-danger" ng-click="cerrarModalSincronizacion()">Salir</button>
        </div>
    </div>
</div>
<!-- historial datos campamento -->
<div id="dialog-historial-sincronizacion-datos" class="modal">
    <div class="modal-content">
        <div class="modal-header bg-primary">
            <h4 class='smaller text-white text-uppercase'>
                <i class='icono-prerequisito'></i>
                <label>Datos campamento sincronizados</label>
            </h4>
            <h4>{{sucursalCamp.nombre}}</h4>
        </div>
        <div class="modal-body">

            <div>
                <h3>Solicitudes de ReposiciÃ³n</h3>
            </div>
            <div>
                <div class="row">
                    <div class="col-sm-6">
                        <div>
                            <label>
                                Mostrar <select ng-model="paginatorDatosCampamentoSolicitud.itemsPerPage"
                                    ng-change="paginatorDatosCampamentoSolicitud.getFirstPage()"
                                    name="tabla-proveedores_length" aria-controls="tabla-proveedores"
                                    class="form-control input-sm">
                                    <option value="0">Todos</option>
                                    <option ng-selected="true" value="10">10</option>
                                    <option value="25">25</option>
                                    <option value="50">50</option>
                                    <option value="100">100</option>
                                </select> Elementos</label>
                        </div>
                    </div>
                    <!-- <div class="col-sm-6" align="right">
						<div>
							<label>Buscar:(Beneficiario)
								<input autofocus class="form-control input-sm" type="search" ng-model="textSearch"
									ng-model-options='{ debounce: 600 }'
									ng-change="paginatorDatosCampamentoSolicitud.getSearch(textSearch,paginatorDatosCampamentoSolicitud.filter,$event)">
							</label>
						</div>
					</div> -->
                </div>
                <table class="table table-striped table-bordered table-hover ">
                    <thead>
                        <tr>
                            <th>NÂº</th>
                            <th>sucursal|almacen|doc.</th>
                            <th>Sincronizado</th>
                            <th>Fecha sincronizaciÃ³n</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in datosCampamentoSolicitudes">
                            <td>{{$index+1}}</td>
                            <td>
                                <p ng-repeat="solicitud in item.solicitudes">
                                    {{solicitud.almacen.sucursal.nombre+" | "+solicitud.almacen.nombre+" | "+solicitud.numero_correlativo}}
                                </p>
                            </td>
                            <td>{{item.campamento_sincronizado?'FINALIZADO':'PENDIENTE'}}</td>
                            <td>{{fechaATexto(item.fecha_sincronizado)}}</td>
                            <td>
                                <a ng-if="!item.campamento_sincronizado" class="green" uib-tooltip="Confirmar Traspaso"
                                    tooltip-placement="left" tooltip-append-to-body="true" href="javascript:void(0)"
                                    ng-click="CerrarFechaTraspasoCampamento(item)">
                                    <i class="fa fa-unlock bigger-130" aria-hidden="true"></i>
                                </a>
                                <a ng-if="item.campamento_sincronizado" class="red" uib-tooltip="Transaccion cerrada."
                                    tooltip-placement="left" tooltip-append-to-body="true" href="javascript:void(0)">
                                    <i class="fa fa-lock bigger-130" aria-hidden="true"></i>
                                </a>
                                <a class="text-info" href="javascript:void(0)"
                                    ng-click="descargarSolicitudDesdeRegistro(item)">
                                    <i class="fa fa-file-excel-o bigger-130"></i>
                                </a>

                            </td>
                        </tr>
                    </tbody>
                </table>
                <div class="row">
                    <div class="col-sm-6">
                        <div>
                            Mostrando pÃ¡gina {{paginatorDatosCampamentoSolicitud.currentPage}} de
                            {{paginatorDatosCampamentoSolicitud.pages.length}}
                        </div>
                    </div>
                    <div class="col-sm-6" align="right">
                        <ul class="pagination">
                            <li class="paginate_button">
                                <a href="javascript:void(0)"
                                    ng-click="paginatorDatosCampamentoSolicitud.getFirstPage()">Primero</a>
                            </li>
                            <li class="paginate_button">
                                <a href="javascript:void(0)"
                                    e-disabled="paginatorDatosCampamentoSolicitud.currentPage==1"
                                    ng-click="paginatorDatosCampamentoSolicitud.getPreviousPage()">
                                    << </a>
                            </li>
                            <li class="paginate_button"
                                ng-class="{active:paginatorDatosCampamentoSolicitud.currentPage==page}"
                                ng-repeat="page in paginatorDatosCampamentoSolicitud.pages"
                                ng-if="abs(paginatorDatosCampamentoSolicitud.currentPage-page)<4">
                                <a e-disabled="paginatorDatosCampamentoSolicitud.currentPage==page"
                                    href="javascript:void(0)"
                                    ng-click="paginatorDatosCampamentoSolicitud.getPage(page)">{{page}}</a>
                            </li>
                            <li class="paginate_button">
                                <a href="javascript:void(0)"
                                    e-disabled="paginatorDatosCampamentoSolicitud.currentPage==paginatorDatosCampamentoSolicitud.pages.length"
                                    ng-click="paginatorDatosCampamentoSolicitud.getNextPage()">>></a>
                                </lidiv>
                            <li class="paginate_button">
                                <a href="javascript:void(0)"
                                    ng-click="paginatorDatosCampamentoSolicitud.getLastPage()">Ultimo</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <div>
                <h3>Ordenes de ReposiciÃ³n</h3>
            </div>
            <div>
                <div class="row">
                    <div class="col-sm-6">
                        <div>
                            <label>
                                Mostrar <select ng-model="paginatorDatosCampamentoOrden.itemsPerPage"
                                    ng-change="paginatorDatosCampamentoOrden.getFirstPage()"
                                    name="tabla-proveedores_length" aria-controls="tabla-proveedores"
                                    class="form-control input-sm">
                                    <option value="0">Todos</option>
                                    <option ng-selected="true" value="10">10</option>
                                    <option value="25">25</option>
                                    <option value="50">50</option>
                                    <option value="100">100</option>
                                </select> Elementos</label>
                        </div>
                    </div>
                    <!-- <div class="col-sm-6" align="right">
						<div>
							<label>Buscar:(Beneficiario)
								<input autofocus class="form-control input-sm" type="search" ng-model="textSearch"
									ng-model-options='{ debounce: 600 }'
									ng-change="paginatorDatosCampamentoOrden.getSearch(textSearch,paginatorDatosCampamentoOrden.filter,$event)">
							</label>
						</div>
					</div> -->
                </div>
                <table class="table table-striped table-bordered table-hover ">
                    <thead>
                        <tr>
                            <th>NÂº</th>
                            <th>sucursal|almacen|doc.</th>
                            <th>Sincronizado</th>
                            <th>Fecha sincronizaciÃ³n</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in datosCampamentoOrdenes">
                            <td>{{$index+1}}</td>
                            <td>
                                <p ng-repeat="orden in item.ordenes">
                                    {{orden.almacen.sucursal.nombre+" | "+orden.almacen.nombre+" | "+orden.numero_correlativo}}
                                </p>
                            </td>
                            <td>{{item.campamento_sincronizado?'FINALIZADO':'PENDIENTE'}}</td>
                            <td>{{fechaATexto(item.fecha_sincronizado)}}</td>
                            <td>
                                <a ng-if="!item.campamento_sincronizado" class="green" uib-tooltip="Confirmar Traspaso"
                                    tooltip-placement="left" tooltip-append-to-body="true" href="javascript:void(0)">
                                    <i class="fa fa-unlock bigger-130" aria-hidden="true"></i>
                                </a>
                                <a ng-if="item.campamento_sincronizado" class="red" uib-tooltip="Transaccion cerrada."
                                    tooltip-placement="left" tooltip-append-to-body="true" href="javascript:void(0)">
                                    <i class="fa fa-lock bigger-130" aria-hidden="true"></i>
                                </a>
                                <a class="text-info" href="javascript:void(0)"
                                    ng-click="descargarOrdenesDesdeRegistro(item)">
                                    <i class="fa fa-file-excel-o bigger-130"></i>
                                </a>

                            </td>
                        </tr>
                    </tbody>
                </table>

                <div class="row">
                    <div class="col-sm-6">
                        <div>
                            Mostrando pÃ¡gina {{paginatorDatosCampamentoOrden.currentPage}} de
                            {{paginatorDatosCampamentoOrden.pages.length}}
                        </div>
                    </div>
                    <div class="col-sm-6" align="right">
                        <ul class="pagination">
                            <li class="paginate_button">
                                <a href="javascript:void(0)"
                                    ng-click="paginatorDatosCampamentoOrden.getFirstPage()">Primero</a>
                            </li>
                            <li class="paginate_button">
                                <a href="javascript:void(0)" e-disabled="paginatorDatosCampamentoOrden.currentPage==1"
                                    ng-click="paginatorDatosCampamentoOrden.getPreviousPage()">
                                    << </a>
                            </li>
                            <li class="paginate_button"
                                ng-class="{active:paginatorDatosCampamentoOrden.currentPage==page}"
                                ng-repeat="page in paginatorDatosCampamentoOrden.pages"
                                ng-if="abs(paginatorDatosCampamentoOrden.currentPage-page)<4">
                                <a e-disabled="paginatorDatosCampamentoOrden.currentPage==page"
                                    href="javascript:void(0)"
                                    ng-click="paginatorDatosCampamentoOrden.getPage(page)">{{page}}</a>
                            </li>
                            <li class="paginate_button">
                                <a href="javascript:void(0)"
                                    e-disabled="paginatorDatosCampamentoOrden.currentPage==paginatorDatosCampamentoOrden.pages.length"
                                    ng-click="paginatorDatosCampamentoOrden.getNextPage()">>></a>
                                </lidiv>
                            <li class="paginate_button">
                                <a href="javascript:void(0)"
                                    ng-click="paginatorDatosCampamentoOrden.getLastPage()">Ultimo</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer wizard-actions">

            <button type="button" class="btn btn-danger btn-sm pull-left" ng-click="cerrarDialogHSyncCampamento()">
                <i class="ace-icon fa fa-times"></i>Cancelar
            </button>
        </div>
    </div>
</div>