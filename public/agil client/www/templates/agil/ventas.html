<div id="ventaM" class="ventaM">

	<div class="row">
		<div class="col-xs-12">
			<h3 class="header smaller lighter blue">SALIDAS</h3>

			<button id="nuevo" ng-disabled="!aplicacion.puede_crear" class="btn-woBox button-glow"
				ng-click="crearNuevaVenta()">
				<i class="ace-icon fa fa-plus align-top bigger-125"></i>
				Nuevo
			</button>

			<button ng-if="!usuario.empresa.usar_productos_derivados_panel"
				ng-disabled="!usuario.empresa.usar_panel || !aplicacion.puede_crear" class="btn btn-xlsx btn-md"
				ng-click="abrirPopupPanel(null,null,null,null,null)">
				<i class="ace-icon fa fa-key align-top bigger-125"></i>
				Panel de Ventas
			</button>
			<button ng-if="usuario.empresa.usar_productos_derivados_panel"
				ng-disabled="!usuario.empresa.usar_panel || !aplicacion.puede_crear" class="btn btn-info btn-xlg"
				popover-trigger="outsideClick : outsideClick" uib-popover-template="PopoverPanelesNormal.templateUrl"
				popover-is-open="PopoverPanelesNormal.isOpen" popover-placement="right">
				<i class="ace-icon fa fa-key align-top bigger-125"></i>
				Panel de Ventas
			</button>
			<script type="text/ng-template" id="PopoverPanelesNormal.html">
			<div class="form-control">
				<a href="javascript:void(0)" class="blue" ng-click="abrirPopupPanel(null,null,null,null,null)">Normal</a>
			</div>
			<div class="form-control">
				<a href="javascript:void(0)" class="blue" ng-click="abrirPopupPanelDerivado()">Derivado</a>
			</div>
			</script>
			<button ng-if="usuario.empresa.usar_restaurante_express && !usuario.empresa.usar_productos_derivados_panel"
				ng-disabled="!usuario.empresa.usar_panel || !aplicacion.puede_crear" class="btn btn-warning btn-xlg"
				ng-click="abrirPopupPanelExpress(null,null,null,null,null)">
				<i class="ace-icon fa fa-key align-top bigger-125"></i>
				Panel de Ventas Express
			</button>
			<button ng-if="usuario.empresa.usar_restaurante_express && usuario.empresa.usar_productos_derivados_panel"
				ng-disabled="!usuario.empresa.usar_panel || !aplicacion.puede_crear" class="btn btn-warning btn-xlg"
				popover-trigger="outsideClick : outsideClick" uib-popover-template="PopoverPanelesExpress.templateUrl"
				popover-is-open="PopoverPanelesExpress.isOpen" popover-placement="right">
				<i class="ace-icon fa fa-key align-top bigger-125"></i>
				Panel de Ventas Express
			</button>
			<script type="text/ng-template" id="PopoverPanelesExpress.html">
				<div class="form-control">
					<a href="javascript:void(0)" class="blue" ng-click="abrirPopupPanelExpress(null,null,null,null,null)">Normal</a>
				</div>
				<div class="form-control">
					<a href="javascript:void(0)" class="blue" ng-click="abrirPopupPanelExpressDerivado()">Derivado</a>
				</div>
			</script>
			<a ng-if="usuario.empresa.usar_restaurante_express" class="blue" href="javascript:void(0)"
				ng-click="abrirModalMeserosVenta()">
				<img height="70" width="70" src="img/restexpress.png">
			</a>

			<form name="formularioFiltroVentas" ng-show="usuario.ver_listado_ventas" novalidate
				ng-submit="filtrarVentas(sucursalesUsuario,fechaInicioTexto,fechaFinTexto,filtroVenta)">
				<fieldset>
					<legend>Filtro Salidas</legend>
					<label ng-if="usuario.empresa.usar_restaurante_express">
						<input name="switch-field-1" ng-model="filtroVenta.tipo_filtro_express"
							class="ace ace-switch big-switch" data-size="large" type="checkbox">
						<span class="lbl" data-lbl="COMENSALES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FACTURAS"></span>
					</label>
					<div class="row">
						<div class="form-group col-sm-6 col-md-3 col-lg-2">
							<label>Desde</label>
							<div ng-class="{'button-glow' : !fechaInicioTexto,'has-error-date':fechasIncorrectaInic}">
								<input required autocomplete="off" ng-update-hidden
									class="form-control date-timepicker-inicio" type="text" id="fechainicio"
									ng-model="fechaInicioTexto"
									ng-change="validarFechaI(fechaInicioTexto,fechaFinTexto)"
									placeholder="Ingrese la fecha inicial" />
							</div>

						</div>
						<div class="form-group col-sm-6 col-md-3 col-lg-2">
							<label>Hasta</label>
							<div ng-class="{'button-glow' : !fechaFinTexto, 'has-error-date':fechasIncorrectaFin}">
								<input required autocomplete="off" ng-update-hidden
									class="form-control date-timepicker-fin" type="text" id="fechafin"
									ng-model="fechaFinTexto" ng-change="validarFechaF(fechaInicioTexto,fechaFinTexto)"
									placeholder="Ingrese la fecha final" />
							</div>
						</div>

						<div>
							<button style="margin-top: 15px;"
								ng-class="{'button-glow' : fechaFinTexto && ventas.length == undefined}" type="submit"
								ng-disabled="formularioFiltroVentas.$invalid || fechasIncorrectaInic || fechasIncorrectaFin"
								class="btn-woBox">
								<i class="ace-icon fa fa-plus align-top bigger-125"></i>
								Filtrar
							</button>
							<button style="margin-top: 15px;" ng-class="{'button-glow' : ventas.length>0 && resaltar}"
								id="pdfVentasFiltro" ng-disabled="!ventas" class="btn-pdf"
								ng-click="imprimirFiltroCajaCartaOficio(ventas,fechaInicioTexto,fechaFinTexto)">
								<i class="ace-icon fa fa-print bigger-125"></i>
								PDF
							</button>
							<button style="margin-top: 15px;" ng-class="{'button-glow' : ventas.length>0 && resaltar}"
								id="excelVentalFiltro" ng-disabled="!ventas" class="btn-xlsx"
								ng-click="imprimirFiltroExcelCajaCartaOficio(ventas)">
								<i class="ace-icon fa fa-print bigger-125"></i>
								Excel
							</button>
							<label class="pull-left inline">
								<p class="muted smaller-90">Detalle:</p>

								<input id="id-button-detalle" ng-disabled="!ventas" ng-model="trueDetalle"
									ng-change="isDetalle(trueDetalle)" name="switch-view-detail" checked="checked"
									type="checkbox" class="ace ace-switch ace-switch-4">
								<span class="lbl check-detalle"
									data-lbl="Si&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No"></span>
							</label>
							<div class="col-lg-4 pull-right" ng-if="usuario.usar_importacion_venta_servicio">
								<a href="javascript:void(0)" ng-click="abrirModalImportacionVentaServicio()"
									role="button" data-rel="tooltip" data-placement="top"
									uib-tooltip="Importacion Ventas Servicios">
									<img height="70" width="70" src="img/importacion_venta_servicio.png">
								</a>
							</div>
						</div>

					</div>
					<div class="row">

						<div class="form-group col-sm-6 col-md-3 col-lg-3">
							<label for="nombre">Razon Social</label>
							<input type="text" class="form-control" ng-model="filtroVenta.razon_social">
						</div>
						<div class="form-group col-sm-6 col-md-3 col-lg-3">
							<label for="apellido">NIT</label>
							<input type="number" class="form-control" ng-model="filtroVenta.nit">
						</div>
						<div class="form-group col-sm-6 col-md-3 col-lg-3">
							<label for="ci">Monto</label>
							<input type="number" class="form-control" step="0.01" ng-model="filtroVenta.monto">
						</div>
						<div class="form-group col-sm-6 col-md-3 col-lg-3">
							<label for="codigo">Tipo de Venta</label>
							<select id="pago" class="form-control" name="pago" ng-model="filtroVenta.tipo_pago"
								data-placeholder="Elija un tipo de pago">
								<option value="0">TODOS</option>
								<option ng-repeat="tipoPago in tiposPago" value="{{tipoPago.id}}">{{tipoPago.nombre}}
								</option>
							</select>
						</div>
					</div>
					<div class="row">

						<div class="form-group col-sm-6 col-md-3 col-lg-3">
							<label for="nombre">Sucursal</label>
							<select class="form-control" id="sucursalFiltro" name="sucursalFiltro"
								ng-model="filtroVenta.sucursal" data-placeholder="Elija una sucursal">
								<option value="">TODOS</option>
								<option ng-repeat="sucursalFiltro in sucursales track by $index"
									value="{{sucursalFiltro.id}}">{{sucursalFiltro.nombre}}</option>
							</select>
						</div>
						<div class="form-group col-sm-6 col-md-3 col-lg-3">
							<label for="apellido">Transaccion</label>

							<select ng-show="usuario.empresa.usar_venta_servicio" class="form-control"
								id="transaccionFiltroServicio" name="transaccionFiltroServicio"
								ng-options="transaccion.id as transaccion.nombre for transaccion in movimientosEgreso"
								ng-model="filtroVenta.transaccion" ng-change="seleccionarFiltroTransacion()">
								<option value="">TODOS</option>
							</select>

							<select ng-show="!usuario.empresa.usar_venta_servicio" class="form-control"
								id="transaccionFiltro" name="transaccionFiltro"
								ng-options="transaccion.id as transaccion.nombre for transaccion in movimientosEgreso|filtroMovVenta"
								ng-model="filtroVenta.transaccion" ng-change="seleccionarFiltroTransacion()">
								<option value="">TODOS</option>

							</select>

						</div>
						<div class="form-group col-sm-6 col-md-3 col-lg-3">
							<label for="ci">Usuario</label>
							<input type="text" class="form-control" ng-model="filtroVenta.usuario">
						</div>
						<div class="form-group col-sm-6 col-md-3 col-lg-3">
							<label for="codigo">Estado</label>
							<select id="estado" class="form-control" name="estado" ng-model="filtroVenta.estado">
								<option value="">TODOS</option>
								<option value="true">Activo</option>
								<option value="false">Anulado</option>
							</select>
						</div>
					</div>
					<div class="row"
						ng-if="usuario.encargado_sincronizacion_gestion && filtroVentaTransaccion.nombre_corto == diccionario.EGRE_TRASPASO">
						<div class="form-group col-sm-6 col-md-3 col-lg-3">
							<label for="nombre">Sucursal Destino</label>
							<select class="form-control" id="sucursalFiltro2" name="sucursalFiltro2"
								ng-model="filtroVenta.sucursalDestino" data-placeholder="Elija una sucursal destino"
								ng-options="sucursalFiltro.id as sucursalFiltro.nombre for sucursalFiltro in sucursales"
								ng-change="seleccionarFiltroTransacion()">
								<option value="">TODOS</option>
								<option ng-repeat="sucursalFiltro in sucursales track by $index"
									value="{{sucursalFiltro.id}}">{{sucursalFiltro.nombre}}</option>
							</select>
						</div>
						<div class="form-group col-sm-6 col-md-3 col-lg-3">
							<label for="nombre">Almacen destino</label>
							<select class="form-control" id="AlmacenFiltro" name="AlmacenFiltro"
								ng-model="filtroVenta.almacenDestino" data-placeholder="Elija una Almacen"
								ng-options="almacen.id as almacen.nombre for almacen in almacenes">
								<option value=>TODOS</option>
							</select>
						</div>
						<div class="form-group col-sm-6 col-md-3 col-lg-3">
							<button ng-disabled="!filtroVenta.sucursalDestino" type="button" style="margin-top: 12px;"
								class="btn-woBox btn-info" ng-click="descargarTraspasoCampamento()">
								<i class="ace-icon fa fa-plus align-top bigger-125"></i>
								Descargar Traspasos
							</button>
							<button uib-tooltip="Historial Traspasos campamento" type="button"
								ng-disabled="!filtroVenta.sucursalDestino"
								style="margin-top: 15px; border-color: #FFFFFF; background-color: #FFFFFF !important;"
								class="btn-woBox btn-info" ng-click="abrirDialogHTraspasoCampamento()">
								<i class="red ace-icon fa fa-h-square align-top bigger-275"></i>
							</button>
						</div>
					</div>
				</fieldset>
			</form>

			<div class="clearfix">
				<div class="pull-right tableTools-container"></div>
			</div>
			<div ng-class="{'table-header-warning':filtroVenta.tipo_filtro_express,'table-header':!filtroVenta.tipo_filtro_express}"
				ng-if="usuario.ver_listado_ventas">
				Lista de Ventas
				<a class="white" ng-if="opcionesAplicacion.VENTA_OPCIONES_COMPROBANTE_TRASPASO.puede_crear"
					uib-tooltip="generar comprobante" tooltip-placement="left" tooltip-append-to-body="true"
					href="javascript:void(0)" ng-click="crearNuevoComprobanteTraspaso()">
					<i class="ace-icon fa fa-sign-out bigger-130"></i>
				</a>
				<div class="pos-rel pull-right">
					<a class="btn btn-primary btn-xs" popover-trigger="outsideClick : outsideClick"
						uib-popover-template="PopoverReportesRapido.templateUrl" popover-placement="left">
						<i class="menu-icon fa fa-bar-chart-o"></i>
					</a>
				</div>
				<div class="pos-rel pull-right">
					<a data-toggle="dropdown" class="btn btn-primary btn-xs dropdown-toggle" id="zoomBtn">
						<i class="ace-icon fa fa-wrench  bigger-110 icon-only "></i>
					</a>
					<ul
						class="dropdown-menu-right dropdown-navbar navbar-orange dropdown-menu dropdown-caret dropdown-close importar-text">
						<li class="dropdown-header header-importar">
							<i class="ace-icon fa fa-wrench white"></i>
							Importaciones
						</li>
						<li class="dropdown-content">
							<ul class="dropdown-menu dropdown-navbar navbar-pink">
								<li>
									<div class="clearfix">
										<span class="pull-left" style="color:rgb(85, 128, 163) !important">
											Ventas(Facturación)
										</span>

										<a href="/recursos/EJEMPLO-DATOS-VENTAS(FACTURACIÓN).xlsx"
											class="boton-importar pull-right">
											<i class="fa  fa-cloud-download green"></i>
										</a>

										<div class="fileUpload boton-importar pull-right">
											<span class="fileUpload-button ace-icon fa fa-cloud-upload blue"></span>
											<input ng-disabled="!aplicacion.puede_crear" class="upload" type="file"
												custom-on-file-change="subirExcelVentasFacturacion" />
										</div>
									</div>
								</li>
								<li>
									<div class="clearfix">
										<span class="pull-left" style="color:rgb(85, 128, 163) !important">
											Pagos Ventas Credito
										</span>
										<a href="/recursos/EJEMPLO-DATOS-PAGO-VENTAS.xlsx"
											class="boton-importar pull-right">
											<i class="fa  fa-cloud-download green"></i>
										</a>
										<div class="fileUpload boton-importar pull-right">
											<span class="fileUpload-button ace-icon fa fa-cloud-upload blue"></span>
											<input ng-disabled="!aplicacion.puede_crear" class="upload" type="file"
												custom-on-file-change="subirExcelPagosVentas" />
										</div>
									</div>
								</li>
								<li>
									<div class="clearfix">
										<span class="pull-left" style="color:rgb(85, 128, 163) !important">
											Venta(Traspasos Productos base)
										</span>
										<a href="/recursos/EJEMPLO-DATOS-TRASPASOS-PRODUCTOS-BASE.xlsx"
											class="boton-importar pull-right">
											<i class="fa  fa-cloud-download green"></i>
										</a>
										<div class="fileUpload boton-importar pull-right">
											<span class="fileUpload-button ace-icon fa fa-cloud-upload blue"></span>
											<input ng-disabled="!aplicacion.puede_crear" class="upload" type="file"
												custom-on-file-change="subirExcelVentasTraspasos" />
										</div>
									</div>
								</li>
							</ul>
						</li>
						<li class="dropdown-footer"></li>
					</ul>
				</div>
				<script type="text/ng-template" id="PopoverReportesRapido.html">
				<div class="form-control">
					<a href="javascript:void(0)" class="blue" ng-click="abrirReporteProductos()">Productos</a>
				</div>
				<div class="form-control">
					<a href="javascript:void(0)" class="blue" ng-click="abrirReporteEmpresas()">Empresas</a>
				</div>
				<div class="form-control">
					<a href="javascript:void(0)" class="blue" ng-click="abrirReporteClientesPuntajes()">Puntajes</a>
				</div>
				<div ng-if="usuario.empresa.usar_restaurante_express" class="form-control">
					<a href="javascript:void(0)" class="blue" ng-click="abrirModalRepostePorUnidad()">Unidad</a>
				</div>
				<div ng-if="usuario.empresa.usar_restaurante_express" class="form-control">
					<a href="javascript:void(0)" class="blue" ng-click="abrirModalRepostePorMesero()">Mesero</a>
				</div>
				<div ng-if="usuario.empresa.usar_restaurante_express" class="form-control">
					<a href="javascript:void(0)" class="blue" ng-click="abrirModalRepostePorMesa()">Mesa</a>
				</div>
				</script>



			</div>
			<div class="bg-info" ng-if="ventas.length>0" ng-if="usuario.ver_listado_ventas">
				<label>
					Mostrar <select ng-model="itemsPerPageCompra" class="form-control input-sm"
						ng-change="SelectItemPorPagina(itemsPerPageCompra);">
						<option value="{{ventas.length}}">Todos</option>
						<option ng-selected="true" value="10">10</option>
						<option value="25">25</option>
						<option value="50">50</option>
						<option value="100">100</option>
					</select> Elementos</label>
			</div>
			<div style="overflow-x:auto;">
				<table ng-if="ventas.length>0 && usuario.ver_listado_ventas" class="table table-striped" at-table
					at-paginated at-list="ventas" at-config="config">
					<thead>
						<tr>
							<th at-attribute="check" class="center">
								<label>
									<input type="checkbox" class="ace" ng-model="selectTodos"
										ng-change="selecionarVentaTraspaso(selectTodos)">
									<span class="lbl"></span>
								</label>
							</th>
							<th at-attribute="mesa"
								ng-if="usuario.empresa.usar_restaurante_express && usuario.empresa.usar_productos_derivados_panel && filtroVenta.tipo_filtro_express">
								Nro Mesa</th>
							<th at-attribute="mesero"
								ng-if="usuario.empresa.usar_restaurante_express && usuario.empresa.usar_productos_derivados_panel && filtroVenta.tipo_filtro_express">
								Mesero</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td at-attribute="check" height="10">
								<label
									ng-if="item.movimiento.clase.nombre_corto===diccionario.EGRE_TRASPASO && item.activa">
									<input type="checkbox" class="ace ng-pristine ng-untouched ng-valid ng-empty"
										ng-model="item.check">
									<span class="lbl"></span>
								</label>
								</th>
							<td at-title="Nro" height="10">{{($index+1)}}</td>
							<td at-title="Transaccion" height="10">
								<p ng-if="item.movimiento">{{item.movimiento.clase.nombre}}</p>
								<p ng-if="item.movimientoServicio">{{item.movimientoServicio.nombre}}</p>
							</td>
							<td at-title="Sucursal" width="150">
								<p ng-if="item.movimiento">{{item.almacen.sucursal.nombre}}</p>
								<p ng-if=item.movimientoServicio>{{item.sucursal.nombre}}</p>
							</td>
							<td at-title="Destino" width="150">
								<p ng-if="item.movimiento">{{item.almacenTraspaso?item.almacenTraspaso.sucursal.nombre:""}}</p>
							</td>
							<td at-title="Razón Social" width="150">{{item.cliente.razon_social}}</td>
							<td at-title="NIt Cliente" width="150">{{item.cliente.nit}}</td>
							<td at-implicit at-sortable at-attribute="factura" width="150"></td>
							<td at-sortable at-title="Fecha" width="150">
								{{item.fecha | date : 'dd/M/yyyy' : timezone}}
							</td>
							<td at-title="Hora fecha" width="150">
								{{item.createdAt | date : 'HH:mm' : timezone}}&nbsp{{item.createdAt | date : 'dd/M/yyyy'
								: timezone}}
							</td>
							<td at-title="Doc/Iso" width="150">
								{{item.numero_iso_baja?item.numero_iso_baja:item.numero_iso_traspaso?item.numero_iso_traspaso:''}}
							</td>
							<td at-title="Monto" width="150">
								<p ng-if="item.movimiento.clase.nombre_corto===diccionario.EGRE_TRASPASO">{{(item.total * 0.87) | number:2}}</p>
								<p ng-if="item.movimiento.clase.nombre_corto!=diccionario.EGRE_TRASPASO">{{item.total | number:2}}</p>
							</td>

							<td at-title="Tipo de Pago" width="150">{{item.tipoPago.nombre}}</td>

							<td at-title="Pago" width="300">
								<div ng-if="item.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO"
									class="hidden-sm hidden-xs action-buttons">
									Plazo: {{item.dias_credito}} días&nbsp A cuenta: Bs
									{{item.a_cuenta | number:2}}&nbsp
									Saldo: Bs
									{{item.saldo | number:2}}&nbsp

									<a class="blue" href="javascript:void(0)" ng-if="item.saldo>0"
										ng-click="abrirPopupPago(item)">
										<i class="ace-icon fa fa-exclamation-circle bigger-130"></i>
									</a>
								</div>
								<div ng-if="item.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO"
									class="hidden-md hidden-lg">
									<div ng-if="item.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO"
										class="hidden-sm hidden-xs action-buttons">
										Plazo: {{item.dias_credito}} días&nbsp A cuenta: Bs
										{{item.a_cuenta | number:2}}&nbsp Saldo: Bs {{item.saldo |
										number:2}}&nbsp

										<a class="blue" href="javascript:void(0)" ng-if="item.saldo>0"
											ng-click="abrirPopupPago(venta)">
											<i class="ace-icon fa fa-exclamation-circle bigger-130"></i>
										</a>
									</div>
									<div ng-if="item.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO"
										class="hidden-md hidden-lg">
										<div class="inline pos-rel">
											<button class="btn btn-minier btn-yellow dropdown-toggle"
												data-toggle="dropdown" data-position="auto">
												<i class="ace-icon fa fa-caret-down icon-only bigger-120"></i>
											</button>
											Plazo: {{item.dias_credito}} días&nbsp A cuenta: Bs {{item.a_cuenta}}&nbsp
											Saldo: Bs {{item.saldo}}&nbsp
											<ul
												class="dropdown-menu dropdown-only-icon dropdown-yellow dropdown-menu-right dropdown-caret dropdown-close">
												<li>
													<a href="javascript:void(0)" ng-if="item.saldo>0"
														ng-click="abrirPopupPago(venta)" class="tooltip-info"
														data-rel="tooltip" title="View">
														<span class="blue">
															<i class="ace-icon fa fa-exclamation-circle bigger-120"></i>
														</span>
													</a>
												</li>
											</ul>
										</div>
									</div>
								</div>
							</td>
							<td at-title="Usuario" width="150">{{item.usuario.nombre_usuario}}</td>
							<td ng-if="usuario.empresa.usar_restaurante_express && usuario.empresa.usar_productos_derivados_panel && filtroVenta.tipo_filtro_express"
								at-attribute="mesa" width="150">{{item.mesa}}</td>
							<td ng-if="usuario.empresa.usar_restaurante_express && usuario.empresa.usar_productos_derivados_panel && filtroVenta.tipo_filtro_express"
								at-attribute="mesero" width="150">{{item.mesero.persona.nombre_completo}}</td>
							<td at-title="Estado" width="150">
								<p ng-if="item.activa">
									<span class="label label-sm label-success">Activo</span>
								</p>
								<p ng-if="!item.activa">
									<span class="label label-sm label-warning">Anulado</span>
								</p>
							</td>
							<td at-title="Acciones" width="150">
								<div class="hidden-sm hidden-xs action-buttons">
									<a class="green" href="javascript:void(0)" ng-click="imprimirVenta(item.id, false)">
										<i class="ace-icon fa fa-print bigger-130"></i>
									</a>

									<a class="blue" href="javascript:void(0)" ng-click="verVenta(item)">
										<i class="ace-icon fa fa-search-plus bigger-130"></i>
									</a>
									<a ng-if="item.activa && (item.movimiento.clase.nombre_corto==diccionario.EGRE_FACTURACION || item.movimiento.clase.nombre_corto==diccionario.EGRE_PROFORMA || item.movimientoServicio.nombre_corto==diccionario.EGRE_SERVICIO)"
										class="red" href="javascript:void(0)" e-disabled="!aplicacion.puede_eliminar"
										ng-click="mostrarConfirmacionEliminacionVenta(item)">
										<i class="ace-icon fa fa-trash-o bigger-130"></i>
									</a>
									<a class="red" href="javascript:void(0)"
										ng-if="usuario.empresa.usar_vencimientos && item.movimiento!=undefined"
										ng-click="imprimirVentaConVencimiento(item)">
										<i class="ace-icon fa fa-print bigger-130"></i>
									</a>
									<a e-disabled="!aplicacion.puede_modificar"
										ng-if="(item.movimiento.clase.nombre_corto==diccionario.EGRE_FACTURACION || item.movimiento.clase.nombre_corto==diccionario.EGRE_PROFORMA) && usuario.empresa.usar_edicion_venta && item.activa"
										class="blue" uib-tooltip="Permitir Edición" tooltip-placement="left"
										tooltip-append-to-body="true" href="javascript:void(0)"
										ng-click="abrirModalVerificarCuenta(item,'venta')">
										<i class="ace-icon fa fa-pencil bigger-130"></i>
									</a>
									<a e-disabled="!aplicacion.puede_modificar"
										ng-if="item.movimiento.clase.nombre_corto==diccionario.EGRE_TRASPASO && usuario.empresa.usar_traspaso_automatico && item.ordenReposicion.id && !item.confirmar_traspaso && item.activa"
										class="blue" uib-tooltip="Permitir Edición" tooltip-placement="left"
										tooltip-append-to-body="true" href="javascript:void(0)"
										ng-click="abrirModalVerificarCuenta(item,'venta')">
										<i class="ace-icon fa fa-pencil bigger-130"></i>
									</a>
									<a href="javascript:void(0)" ng-click="abrirModalDestinatarioEmail(item)"
										data-rel="tooltip" data-placement="top" uib-tooltip="Enviar por email."
										tooltip-append-to-body="true">
										<i class="ace-icon fa fa-envelope bigger-130"></i>
									</a>
									<a href="javascript:void(0)"
										ng-click="imprimirTraspasoIsoModVentas(item.id, item.configuracionesIso.version_impresion)"
										ng-if="usuario.empresa.usar_configuracion_iso && item.movimiento.clase.nombre_corto==diccionario.EGRE_TRASPASO && item.configuracionesIso">
										<img src="img/iso-print.png" height="15" width="15" alt="">
									</a>
									<a href="javascript:void(0)"
										ng-click="imprimirBajaIsoModVentas(item.id, item.configuracionesIso.version_impresion)"
										ng-if="usuario.empresa.usar_configuracion_iso && item.movimiento.clase.nombre_corto==diccionario.EGRE_BAJA && item.configuracionesIso">
										<img src="img/iso-print.png" height="15" width="15" alt="">
									</a>
									<a class="purple" href="javascript:void(0)" ng-click="verVentaDevolucion(item)"
										ng-if="usuario.empresa.usar_devoluciones && item.activa && (item.movimiento.clase.nombre_corto==diccionario.EGRE_FACTURACION || item.movimiento.clase.nombre_corto==diccionario.EGRE_PROFORMA)"
										data-rel="tooltip" data-placement="top" uib-tooltip="Devolucion"
										tooltip-append-to-body="true">
										<span class="fa-stack smaller-80">
											<i class="fa fa-square-o fa-stack-2x"></i>
											<i class="fa fa-exchange fa-stack-1x"></i>
										</span>
									</a>
									<a e-disabled="!aplicacion.puede_modificar"
										ng-if="item.movimiento.clase.nombre_corto==diccionario.EGRE_TRASPASO && usuario.empresa.usar_traspaso_automatico && item.ordenReposicion.id && !item.confirmar_traspaso"
										class="green" uib-tooltip="Confirmar Traspaso" tooltip-placement="left"
										tooltip-append-to-body="true" href="javascript:void(0)"
										ng-click="confirmarTraspasoOrdenReposicion(item)">
										<i class="fa fa-unlock bigger-130" aria-hidden="true"></i>
									</a>
									<a e-disabled="!aplicacion.puede_modificar" ng-if="item.confirmar_traspaso"
										class="red" uib-tooltip="Transaccion cerrada." tooltip-placement="left"
										tooltip-append-to-body="true" href="javascript:void(0)">
										<i class="fa fa-lock bigger-130" aria-hidden="true"></i>
									</a>
									<a ng-if="opcionesAplicacion.VENTA_OPCIONES_COMPROBANTE_TRASPASO.puede_crear && item.activa && item.movimiento.clase.nombre_corto ==diccionario.EGRE_TRASPASO && !item.id_comprobante "
										class="info" uib-tooltip="generar comprobante" tooltip-placement="left"
										tooltip-append-to-body="true" href="javascript:void(0)"
										ng-click="crearNuevoComprobanteTraspaso(item)">
										<i class="ace-icon fa fa-sign-out bigger-130"></i>
									</a>
								</div>

								<div class="hidden-md hidden-lg">
									<div class="inline pos-rel">
										<button class="btn btn-minier btn-yellow dropdown-toggle" data-toggle="dropdown"
											data-position="auto">
											<i class="ace-icon fa fa-caret-down icon-only bigger-120"></i>
										</button>

										<ul
											class="dropdown-menu dropdown-only-icon dropdown-yellow dropdown-menu-right dropdown-caret dropdown-close">
											<li>
												<a href="javascript:void(0)" ng-click="imprimirVenta(item)"
													class="tooltip-success" data-rel="tooltip" title="Edit">
													<span class="green">
														<i class="ace-icon fa fa-print bigger-120"></i>
													</span>
												</a>
											</li>
											<li>
												<a href="javascript:void(0)" e-disabled="!aplicacion.puede_ver"
													ng-click="verVenta(item)" class="tooltip-info" data-rel="tooltip"
													title="View">
													<span class="blue">
														<i class="ace-icon fa fa-search-plus bigger-120"></i>
													</span>
												</a>
											</li>
											<li>
												<a ng-if="item.movimiento.clase.nombre_corto==diccionario.EGRE_FACTURACION || item.movimiento.clase.nombre_corto==diccionario.EGRE_PROFORMA"
													href="javascript:void(0)" e-disabled="!aplicacion.puede_eliminar"
													ng-click="mostrarConfirmacionEliminacionVenta(item)"
													class="tooltip-error" data-rel="tooltip" title="Delete">
													<span class="red">
														<i class="ace-icon fa fa-trash-o bigger-120"></i>
													</span>
												</a>
											</li>
											<li>
												<a e-disabled="!aplicacion.puede_modificar"
													ng-if="(item.movimiento.clase.nombre_corto==diccionario.EGRE_FACTURACION || item.movimiento.clase.nombre_corto==diccionario.EGRE_PROFORMA) && usuario.empresa.usar_edicion_venta && item.activa"
													class="blue" uib-tooltip="Permitir Edición" tooltip-placement="left"
													href="javascript:void(0)"
													ng-click="abrirModalVerificarCuenta(item,'venta')">
													<i class="ace-icon fa fa-pencil bigger-130"></i>
												</a>
											</li>
										</ul>
									</div>
								</div>
			</div>
			</td>
			<!--<td at-title="Usuario" width="150">{{item.usuario.nombre_usuario}}</td>-->
			<!--<td at-title="Estado" width="150">
							<p ng-if="item.activa">
								<span class="label label-sm label-success">Activo</span>
							</p>
							<p ng-if="!item.activa">
								<span class="label label-sm label-warning">Anulado</span>
							</p>
						</td>-->
			<!--<td at-title="Acciones" width="150">
							<div class="hidden-sm hidden-xs action-buttons">
								<a class="green" href="javascript:void(0)" ng-click="imprimirVenta(item)">
									<i class="ace-icon fa fa-print bigger-130"></i>
								</a>
	
								<a class="blue" href="javascript:void(0)" ng-click="verVenta(item)">
									<i class="ace-icon fa fa-search-plus bigger-130"></i>
								</a>
								<a ng-if="item.activa && (item.movimiento.clase.nombre_corto==diccionario.EGRE_FACTURACION || item.movimiento.clase.nombre_corto==diccionario.EGRE_PROFORMA || item.movimientoServicio.nombre_corto==diccionario.EGRE_SERVICIO)"
								 class="red" href="javascript:void(0)" e-disabled="!aplicacion.puede_eliminar" ng-click="mostrarConfirmacionEliminacionVenta(item)">
									<i class="ace-icon fa fa-trash-o bigger-130"></i>
								</a>
	
								<a class="red" href="javascript:void(0)" ng-if="usuario.empresa.usar_vencimientos && item.movimiento!=undefined" ng-click="imprimirVentaConVencimiento(item)">
									<i class="ace-icon fa fa-print bigger-130"></i>
								 </a>
								<a e-disabled="!aplicacion.puede_modificar" ng-if="(item.movimiento.clase.nombre_corto==diccionario.EGRE_FACTURACION || item.movimiento.clase.nombre_corto==diccionario.EGRE_PROFORMA) && usuario.empresa.usar_edicion_venta"
								 class="blue" uib-tooltip="Permitir Edición" tooltip-placement="left" href="javascript:void(0)" ng-click="abrirModalVerificarCuenta(item,'venta')">
									<i class="ace-icon fa fa-pencil bigger-130"></i>
								</a>
							</div>
	
							<div class="hidden-md hidden-lg">
								<div class="inline pos-rel">
									<button class="btn btn-minier btn-yellow dropdown-toggle" data-toggle="dropdown" data-position="auto">
										<i class="ace-icon fa fa-caret-down icon-only bigger-120"></i>
									</button>-->

			</table>

			<table class="table table-striped" ng-if="usuario.ver_listado_ventas">
				<tfoot>
					<tr ng-if="ventas.length>0">
						<th></th>
						<th></th>
						<th width="150"></th>
						<th width="150"></th>
						<th width="150"></th>
						<th width="150"></th>
						<th width="150"></th>
						<th>
							<b>TOTAL</b>
						</th>
						<th>{{sumarMonto()|number:2 }}</th>
						<th width="150"></th>
						<th width="150"></th>
						<th width="150"></th>
						<th width="150"></th>
					</tr>
				</tfoot>
			</table>

		</div>
		<div class="pull-right" ng-if="usuario.ver_listado_ventas">
			<at-pagination ng-if="ventas.length>0" at-list="ventas" at-config="config"></at-pagination>
		</div>

		<!-- div.table-responsive -->

		<!-- div.dataTables_borderWrap -->
		<!-- <div style="overflow-x:auto;">
				<table id="tabla-ventas" class="table table-striped table-bordered table-hover">
					<thead>
						<tr>
							<th>Nº</th>
							<th>Transaccion</th>
							<th>Sucursal</th>
							<th>Razón Social</th>
							<th>Nit Cliente</th>
							<th>Factura</th>
							<th>Fecha Fact.</th>
							<th>Hora - Fecha</th>
							<th>Monto</th>
							<th>Tipo de Pago</th>
							<th>Pago</th>
							<th>Usuario</th>
							<th>Estado</th>
							<th>Acciones</th>
						</tr>
					</thead>
	
					<tbody>
						<tr ng-repeat="venta in ventas">
							<td>{{$index+1}}</td>
							<td ng-if="venta.movimiento">{{venta.movimiento.clase.nombre}}</td>
							<td ng-if="venta.movimientoServicio">{{venta.movimientoServicio.nombre}}</td>
							<td ng-if="venta.movimiento">{{venta.almacen.sucursal.nombre}}</td>
							<td ng-if=venta.movimientoServicio>{{venta.sucursal.nombre}}</td>
							<td>{{venta.cliente.razon_social}}</td>
							<td>{{venta.cliente.nit}}</td>
							<td>{{venta.factura}}</td>
							<td>{{venta.fecha | date:"dd/MM/yyyy"}}</td>
							<td>{{venta.createdAt | date:"HH:mm - dd/MM/yyyy"}}</td>
							<td ng-if="venta.total>0">{{venta.total | number:2}}</td>
							<td ng-if="venta.total<=0" style="color:red">{{venta.total | number:2}}</td>
							<td>{{venta.tipoPago.nombre}}</td>
							<td>
								<div ng-if="venta.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO" class="hidden-sm hidden-xs action-buttons">
									Plazo: {{venta.dias_credito}} días&nbsp A cuenta: Bs {{venta.a_cuenta | number:2}}&nbsp Saldo: Bs {{venta.saldo | number:2}}&nbsp
	
									<a class="blue" href="javascript:void(0)" ng-if="venta.saldo>0" ng-click="abrirPopupPago(venta)">
										<i class="ace-icon fa fa-exclamation-circle bigger-130"></i>
									</a>
								</div>
								<div ng-if="venta.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO" class="hidden-md hidden-lg">
									<div class="inline pos-rel">
										<button class="btn btn-minier btn-yellow dropdown-toggle" data-toggle="dropdown" data-position="auto">
											<i class="ace-icon fa fa-caret-down icon-only bigger-120"></i>
										</button>
										Plazo: {{venta.dias_credito}} días&nbsp A cuenta: Bs {{venta.a_cuenta}}&nbsp Saldo: Bs {{venta.saldo}}&nbsp
										<ul class="dropdown-menu dropdown-only-icon dropdown-yellow dropdown-menu-right dropdown-caret dropdown-close">
											<li>
												<a href="javascript:void(0)" ng-if="venta.saldo>0" ng-click="abrirPopupPago(venta)" class="tooltip-info" data-rel="tooltip"
												 title="View">
													<span class="blue">
														<i class="ace-icon fa fa-exclamation-circle bigger-120"></i>
													</span>
												</a>
											</li>
										</ul>
									</div>
								</div>
							</td>
							<td>{{venta.usuario.nombre_usuario}}</td>
							<td ng-if="venta.activa">
								<span class="label label-sm label-success">Activo</span>
							</td>
							<td ng-if="!venta.activa">
								<span class="label label-sm label-warning">Anulado</span>
							</td>
							<td>
								<div class="hidden-sm hidden-xs action-buttons">
									<a class="green" href="javascript:void(0)" ng-click="imprimirVenta(venta)">
										<i class="ace-icon fa fa-print bigger-130"></i>
									</a>
	
									<a class="blue" href="javascript:void(0)" ng-click="verVenta(venta)">
										<i class="ace-icon fa fa-search-plus bigger-130"></i>
									</a>
									<a ng-if="venta.activa && (venta.movimiento.clase.nombre_corto==diccionario.EGRE_FACTURACION || venta.movimiento.clase.nombre_corto==diccionario.EGRE_PROFORMA || venta.movimientoServicio.nombre_corto==diccionario.EGRE_SERVICIO)"
									 class="red" href="javascript:void(0)" e-disabled="!aplicacion.puede_eliminar" ng-click="mostrarConfirmacionEliminacionVenta(venta)">
										<i class="ace-icon fa fa-trash-o bigger-130"></i>
									</a>
									<a class="red" href="javascript:void(0)" ng-if="usuario.empresa.usar_vencimientos && venta.movimiento!=undefined" ng-click="imprimirVentaConVencimiento(venta)">
										<i class="ace-icon fa fa-print bigger-130"></i>
									</a>
									<a e-disabled="!aplicacion.puede_modificar" ng-if="(venta.movimiento.clase.nombre_corto==diccionario.EGRE_FACTURACION || venta.movimiento.clase.nombre_corto==diccionario.EGRE_PROFORMA) && usuario.empresa.usar_edicion_venta"
									 class="blue" uib-tooltip="Permitir Edición" tooltip-placement="left" href="javascript:void(0)" ng-click="abrirModalVerificarCuenta(venta,'venta')">
										<i class="ace-icon fa fa-pencil bigger-130"></i>
									</a>
								</div>
	
								<div class="hidden-md hidden-lg">
									<div class="inline pos-rel">
										<button class="btn btn-minier btn-yellow dropdown-toggle" data-toggle="dropdown" data-position="auto">
											<i class="ace-icon fa fa-caret-down icon-only bigger-120"></i>
										</button>
	
										<ul class="dropdown-menu dropdown-only-icon dropdown-yellow dropdown-menu-right dropdown-caret dropdown-close">
											<li>
												<a href="javascript:void(0)" ng-click="imprimirVenta(venta)" class="tooltip-success" data-rel="tooltip" title="Edit">
													<span class="green">
														<i class="ace-icon fa fa-print bigger-120"></i>
													</span>
												</a>
											</li>
											<li>
												<a href="javascript:void(0)" e-disabled="!aplicacion.puede_ver" ng-click="verVenta(venta)" class="tooltip-info" data-rel="tooltip"
												 title="View">
													<span class="blue">
														<i class="ace-icon fa fa-search-plus bigger-120"></i>
													</span>
												</a>
											</li>
											<li>
												<a ng-if="venta.movimiento.clase.nombre_corto==diccionario.EGRE_FACTURACION || venta.movimiento.clase.nombre_corto==diccionario.EGRE_PROFORMA"
												 href="javascript:void(0)" e-disabled="!aplicacion.puede_eliminar" ng-click="mostrarConfirmacionEliminacionVenta(venta)"
												 class="tooltip-error" data-rel="tooltip" title="Delete">
													<span class="red">
														<i class="ace-icon fa fa-trash-o bigger-120"></i>
													</span>
												</a>
											</li>
										</ul>
									</div>
								</div>
							</td>
						</tr>
						<tr ng-if="ventas.length>0">
							<td colspan="7"></td>
							<td>
								<b>TOTAL</b>
							</td>
							<td colspan="5">{{sumarMonto()|number:2 }}</td>
						</tr>
					</tbody>
				</table>
			</div>-->

	</div>

	<div id="modal-wizard-venta-edicion" class="modal wizard-posicion">
		<div class="row">
			<div class="col-sm-4">
				<label class="col-md-3 pull-right">
					<br>
					<input ng-model="usuario.usar_lector_de_barra" ng-change="UsarLectorDeBarra()" checked="checked"
						type="checkbox" class="ace ace-switch ace-switch-5">
					<span class="lbl"
						data-lbl="Si&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No"></span>
				</label>
				<div class="widget-box">
					<form id="formularioVenta" name="formularioVenta" novalidate
						ng-submit="guardarVenta(formularioVenta.$valid,venta)">
						<div class="widget-header">
							<h4 class="widget-title">DATOS DE SALIDA</h4>
							&nbsp;
							<p>
								<button id="guardarV" type="submit" ng-if="blockerVenta"
									ng-disabled="venta.detallesVenta.length==0 || detalleInvalid" class="btn btn-primary">
									<i class="ace-icon fa fa-floppy-o align-top bigger-125"></i>
									GUARDAR
								</button>
								<button ng-if="!CancelacionVentaEdicion" id="cerrarV" type="button"
									class="btn btn-primary btn-danger" ng-click="cerrarPopupEdicion()">
									<i class="ace-icon fa fa-times red2 align-top bigger-125"></i>
									CERRAR
								</button>
								<button id="" type="button" class="btn btn-success pull-right"
									ng-if="usuario.empresa.usar_cotizacion" ng-click="abrirPopupCotizaciones()"
									style="margin-right: -95px;">
									<i class="ace-icon fa fa-file-text bigger-125"></i>
								</button>
							<div class="alert alert-info alinear-mensaje"
								ng-if="!venta.editable && venta.detallesVenta.length>0">
								<button type="button" class="close" data-dismiss="alert">
									<i class="ace-icon fa fa-times"></i>
								</button>
								Si desea cambiar los datos bloqueados elimine el detalle
								<br>
							</div>
							</p>


						</div>

						<div class="widget-body">
							<div class="widget-main">
								<table class="table table-striped table-bordered table-hover">
									<tr>
										<td ng-if="usuario.empresa.usar_venta_servicio">
											<label>MOVIMIENTO</label>
											<select data-validate="validate(required)"
												ng-disabled="(venta.editable && !cotizacionAgregado) || (venta.detallesVenta.length>0 && !cotizacionAgregado)"
												required id="movimientoServicio" name="movimiento"
												ng-model="venta.movimiento" data-placeholder="Click para escoger"
												ng-change="obtenerTipoEgreso(venta.movimiento)" class="form-control"
												ng-options="movimiento as movimiento.nombre for movimiento in movimientosEgreso track by movimiento.id">
												<!--<option ng-disabled="movimiento.nombre_corto==diccionario.EGRE_AJUSTE" ng-repeat="movimiento in movimientosEgreso" value="{{movimiento.id}}-{{movimiento.nombre_corto}}">{{movimiento.nombre}}</option>-->
											</select>
											<span class="red">(*)</span>
											<!-- <div class="row">
	
												<label uib-tooltip="Usar servicios">
													<input ng-model="venta.usar_servicios" ng-change="UsarLectorDeBarra()" checked="checked" type="checkbox" class="ace ace-switch ace-switch-5">
													<span class="lbl" data-lbl="Si&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No"></span>
												</label>
												<span class="pull-right">Usar servicios</span>
											</div> -->
										</td>
										<td ng-if="!usuario.empresa.usar_venta_servicio">
											<label>MOVIMIENTO</label>
											<select data-validate="validate(required)"
												ng-disabled="(venta.editable && !cotizacionAgregado) || (venta.detallesVenta.length>0 && !cotizacionAgregado)"
												required id="movimientoFacturacion" name="movimiento"
												ng-model="venta.movimiento" data-placeholder="Click para escoger"
												ng-change="obtenerTipoEgreso(venta.movimiento)" class="form-control"
												ng-options="movimiento as movimiento.nombre for movimiento in movimientosEgreso|filtroMovVenta track by movimiento.id">
												<!--<option ng-disabled="movimiento.nombre_corto==diccionario.EGRE_AJUSTE" ng-repeat="movimiento in movimientosEgreso" value="{{movimiento.id}}-{{movimiento.nombre_corto}}">{{movimiento.nombre}}</option>-->
											</select>
											<span class="red">(*)</span>
											<!-- <div class="row">
	
													<label uib-tooltip="Usar servicios">
														<input ng-model="venta.usar_servicios" ng-change="UsarLectorDeBarra()" checked="checked" type="checkbox" class="ace ace-switch ace-switch-5">
														<span class="lbl" data-lbl="Si&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No"></span>
													</label>
													<span class="pull-right">Usar servicios</span>
												</div> -->
										</td>
										<td ng-if="tipoEgreso==diccionario.EGRE_TRASPASO && usuario.empresa.usar_traspaso_automatico &&
										venta.sucursal.id && venta.almacenDestino.id">
											<a class=" pull-right" href="javascript:void(0)"
												ng-click="abrirDialogReposicionesPedido()">
												<img src="img/icono-pedidos.png" height="50" width="50" alt="">

											</a>
										</td>
										<td
											ng-if="tipoEgreso==diccionario.EGRE_FACTURACION || tipoEgreso==diccionario.EGRE_PROFORMA || tipoEgreso==diccionario.EGRE_SERVICIO">
											<label>PAGADO
												{{usuario.empresa.ver_costos_dolares && venta.ver_dolares ? '($us)' :
												'(Bs)'}}:
											</label>
											<input ng-if="(usuario.empresa.ver_costos_dolares && venta.ver_dolares)"
												id="pagadoDolares" name="pagadoDolares" ng-disabled="venta.editable"
												data-validate="validate(required)" required type="number" step="0.001"
												class="form-control" min="{{pagoMinimo_dolares}}"
												ng-model="venta.pagado_dolares" ng-change="calcularCambio()" />
											<input ng-if="!(usuario.empresa.ver_costos_dolares && venta.ver_dolares)"
												class="form-control" id="pagado" name="pagado"
												ng-disabled="venta.editable" data-validate="validate(required)" required
												type="number" step="0.001" min="{{pagoMinimo}}" ng-model="venta.pagado"
												ng-change="calcularCambio()" />
											<span class="red">(*)</span>
											<span class="invalid-message"
												ng-show="formularioVenta.pagado.$dirty && formularioVenta.pagado.$invalid">
												El pago debe ser superior a {{(usuario.empresa.ver_costos_dolares &&
												venta.ver_dolares) ? pagoMinimo_dolares
												: pagoMinimo | number : 2}}.
											</span>
											<label>CAMBIO
												{{usuario.empresa.ver_costos_dolares && venta.ver_dolares ? '($us)' :
												'(Bs)'}}:
											</label>
											<input disabled type="number" step="0.01" ng-model="venta.cambio"
												class="form-control" />
										</td>
									</tr>
									<tr
										ng-if="tipoEgreso==diccionario.EGRE_TRASPASO || tipoEgreso==diccionario.EGRE_TRASPASO_ALMACEN">
										<td>
											<label>SUCURSAL ORIGEN</label>
											<select data-validate="validate(required)" id="sucursalOrigen"
												ng-disabled="venta.editable || venta.detallesVenta.length>0"
												name="sucursalOrigen" required
												ng-options="sucursal as sucursal.nombre for sucursal in sucursales track by sucursal.id"
												ng-model="venta.sucursal" class="form-control"
												ng-change="obtenerAlmacenesSucursalesDiferente(venta.sucursal.id)"
												ng-disabled="venta.editable">
											</select>
											<span class="red">(*)</span>
										</td>
										<td
											ng-if="tipoEgreso==diccionario.EGRE_TRASPASO || tipoEgreso!=diccionario.EGRE_TRASPASO_ALMACEN">
											<label>SUCURSAL DESTINO</label>
											<select ng-disabled="venta.editable" data-validate="validate(required)"
												id="sucursalDestino" name="sucursalDestino" required
												class="form-control"
												ng-options="sucursalDiferente as sucursalDiferente.nombre for sucursalDiferente in sucursalesDiferente track by sucursalDiferente.id"
												ng-model="venta.sucursalDestino"
												ng-change="obtenerAlmacenesDiferente(venta.sucursalDestino.id)">
											</select>
											<span class="red">(*)</span>
										</td>
									</tr>
									<tr ng-if="tipoEgreso==diccionario.EGRE_TRASPASO">
										<td>
											<label>ALMACEN ORIGEN</label>
											<select ng-disabled="venta.editable || venta.detallesVenta.length>0"
												data-validate="validate(required)" required id="almacen-vo" name="almacen-vo"
												ng-model="venta.almacen" class="form-control"
												ng-options="almacen as almacen.nombre for almacen in almacenes track by almacen.id"
												data-placeholder="Click para escoger"></select>
											<span class="red">(*)</span>
										</td>
										<td>
											<label>ALMACEN DESTINO</label>
											<select ng-disabled="venta.editable" data-validate="validate(required)"
												required id="almacenDiferente" name="almacenDiferente"
												class="form-control" ng-model="venta.almacenDestino"
												ng-options="almacenDiferente as almacenDiferente.nombre for almacenDiferente in almacenesDiferente track by almacenDiferente.id"
												data-placeholder="Click para escoger"></select>
											<span class="red">(*)</span>
										</td>
									</tr>
									<tr ng-if="tipoEgreso==diccionario.EGRE_TRASPASO_ALMACEN">
										<td>
											<label>ALMACEN ORIGEN</label>
											<select ng-disabled="venta.editable || venta.detallesVenta.length>0"
												data-validate="validate(required)" class="form-control" required
												id="almacen-vo-2" name="almacen-vo-2" ng-model="venta.almacen"
												ng-options="almacen as almacen.nombre for almacen in almacenes track by almacen.id"
												data-placeholder="Click para escoger"
												ng-change="obtenerAlmacenesDestino(venta.almacen)"></select>
											<span class="red">(*)</span>
										</td>
										<td>
											<label>ALMACEN DESTINO</label>
											<select ng-disabled="venta.editable || !venta.almacen" class="form-control"
												data-validate="validate(required)" required id="almacenDiferente"
												name="almacenDiferente" ng-model="venta.almacenDestino"
												ng-options="almacenDiferente as almacenDiferente.nombre for almacenDiferente in almacenesDiferente track by almacenDiferente.id"
												data-placeholder="Click para escoger"></select>
											<span class="red">(*)</span>
										</td>
									</tr>
									<tr
										ng-if="tipoEgreso!=diccionario.EGRE_TRASPASO && tipoEgreso!=diccionario.EGRE_TRASPASO_ALMACEN">
										<td>
											<p>SUCURSAL</p>
											<select ng-disabled="venta.editable || venta.detallesVenta.length>0"
												class="form-control" ng-disabled="venta.detallesVenta.length>0"
												data-validate="validate(required)" required id="sucursalVenta"
												name="sucursal"
												ng-options="sucursal as sucursal.nombre for sucursal in sucursales track by sucursal.id"
												ng-model="venta.sucursal"
												ng-change="obtenerAlmacenesActividades(venta.sucursal.id)">
												<option value="" disabled selected>Selec. Sucursal</option>
											</select>
											<span class="red">(*)</span>
											<span class="invalid-message"
												ng-show="formularioVenta.sucursal.$dirty && formularioVenta.sucursal.$invalid">
												Debe seleccionar una Sucursal.
											</span>
										</td>
										<td
											ng-if="tipoEgreso!=diccionario.EGRE_TRASPASO && tipoEgreso!=diccionario.EGRE_SERVICIO">
											<p>ALMACEN</p>
											<select ng-disabled="venta.editable || venta.detallesVenta.length>0"
												class="form-control" data-validate="validate(required)" required
												id="almacenServicio" name="almacenServicio" ng-model="venta.almacen"
												ng-options="almacen as almacen.nombre for almacen in almacenes track by almacen.id"
												data-placeholder="Click para escoger">
												<option value="" disabled selected>Selec. Almacen</option>
											</select>
											<span class="red">(*)</span>
											<span class="invalid-message"
												ng-show="formularioVenta.almacen.$dirty && formularioVenta.almacen.$invalid">
												Debe seleccionar un Almacen.
											</span>
										</td>
									</tr>
									<tr
										ng-if="tipoEgreso!=diccionario.EGRE_TRASPASO && tipoEgreso!=diccionario.EGRE_TRASPASO_ALMACEN">
										<td
											ng-if="tipoEgreso==diccionario.EGRE_FACTURACION || tipoEgreso==diccionario.EGRE_SERVICIO">
											<label>ACTIVIDAD</label>
										</td>
										<td
											ng-if="tipoEgreso==diccionario.EGRE_FACTURACION  || tipoEgreso==diccionario.EGRE_SERVICIO">
											<select style="width:150px;" ng-disabled="venta.editable"
												class="form-control" data-validate="validate(required)"
												id="actividad-venta" name="actividad" ng-model="venta.actividad"
												ng-options="actividad as actividad.nombre for actividad in actividades track by actividad.id"
												data-placeholder="Click para escoger">
												<option value="" disabled selected>Selec. Actividad</option>
											</select>
											<span class="red">(*)</span>
											<span ng-if="dosificacionesExpiradas" style="color: red">Las Actividades con
												dosificaciones expiradas no se
												muestran</span>
											<div class="invalid-message help-block"
												ng-messages="formularioVenta.actividad.$error"
												ng-if=" (formularioVenta.$submitted && formularioVenta.actividad.$invalid)">
												<div ng-messages-include="/templates/gral/messages.html"></div>
											</div>
										</td>
									</tr>
									<tr>
										<td
											ng-if="tipoEgreso==diccionario.EGRE_FACTURACION || tipoEgreso==diccionario.EGRE_PROFORMA || tipoEgreso==diccionario.EGRE_SERVICIO">
											<label>NIT CLIENTE</label>
											<input ng-disabled="venta.editable" class="form-control"
												ng-keypress="interceptarTecla($event,'razon_social',true)"
												data-validate="validate(required)" id="nit" name="nit" required
												type="number" min="0" ng-model="venta.cliente.nit"
												placeholder="Ingrese el NIT"
												uib-typeahead="cliente as cliente.nit for cliente in buscarCliente($viewValue)"
												typeahead-wait-ms="2000"
												typeahead-template-url="templates/autocompletar.html"
												typeahead-show-hint="false" typeahead-min-length="0"
												typeahead-on-select="establecerCliente($item, $model, $label, $event)">
											<span class="red">(*)</span>
											<span class="invalid-message"
												ng-show="formularioVenta.nit.$dirty && formularioVenta.nit.$invalid">
												Debe ingresar un número mayor o igual a 0.
											</span>
										</td>
										<td
											ng-if="tipoEgreso==diccionario.EGRE_FACTURACION || tipoEgreso==diccionario.EGRE_PROFORMA ||tipoEgreso==diccionario.EGRE_SERVICIO">
											<label>RAZÓN SOCIAL CLIENTE</label>
											<input ng-disabled="venta.editable" class="form-control"
												ng-keypress="interceptarTecla($event,'id_producto',true)"
												autocomplete="off" data-validate="validate(required)" id="razon_social"
												name="razon_social" required type="text"
												ng-model="venta.cliente.razon_social"
												placeholder="Ingrese la Razon Social"
												uib-typeahead="cliente as cliente.razon_social for cliente in buscarCliente($viewValue)"
												typeahead-wait-ms="2000"
												typeahead-template-url="templates/autocompletar.html"
												typeahead-show-hint="false" typeahead-min-length="0"
												typeahead-on-select="establecerCliente($item, $model, $label, $event)">
											<span class="red">(*)</span>
											<span class="invalid-message"
												ng-show="formularioVenta.razon_social.$dirty && formularioVenta.razon_social.$invalid">
												Dato requerido.
											</span>
										</td>
									</tr>
									<tr>
										<td>
											<p>FECHA</p>
											<input ng-disabled="venta.editable" name="fecha" required ng-update-hidden
												class="form-control date-picker" type="text"
												data-date-format="dd/mm/yyyy" id="fecha" ng-model="venta.fechaTexto"
												placeholder="Ingrese la fecha" autocomplete="off" />
											<span class="red">(*)</span>
											<span class="invalid-message"
												ng-show="formularioVenta.fecha.$dirty && formularioVenta.fecha.$invalid">
												Dato requerido.
											</span>
										</td>
										<td ng-if="tipoEgreso==diccionario.EGRE_BAJA">
											<p>Observaciones</p>
											<input type="text" class="form-control" ng-model="venta.observacion">
										</td>
										<td
											ng-if="tipoEgreso==diccionario.EGRE_FACTURACION || tipoEgreso==diccionario.EGRE_PROFORMA ||tipoEgreso==diccionario.EGRE_SERVICIO">
											<p>TIPO DE PAGO</p>
											<select data-validate="validate(required)" required id="tipo-pago-venta"
												name="pago" ng-model="venta.tipoPago"
												data-placeholder="Elija un tipo de pago"
												ng-change="cambiarTipoPago(venta)" class="form-control"
												ng-options="tipoPago as tipoPago.nombre for tipoPago in tiposPago track by tipoPago.id">
											</select>
											<span class="red">(*)</span>
										</td>
									</tr>
									<tr
										ng-if="tipoEgreso==diccionario.EGRE_FACTURACION || tipoEgreso==diccionario.EGRE_PROFORMA ||tipoEgreso==diccionario.EGRE_SERVICIO">
										<td ng-if="venta.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO">
											<label>DIAS</label>
											<input required type="number" min="1" class="form-control" name="dias"
												ng-model="venta.dias_credito" />
											<span class="red">(*)</span>
											<span class="invalid-message"
												ng-show="formularioVenta.dias.$dirty && formularioVenta.dias.$invalid">
												Debe especificar un valor numérico mayor a 0.
											</span>
										</td>
										<td ng-if="venta.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO">
											<label>SUJETO A CF</label>
											<input disabled type="number" step="0.001" class="form-control"
												ng-model="venta.total" />
										</td>
										<td
											ng-if="venta.tipoPago.nombre_corto == diccionario.TIPO_PAGO_TARJETA_CREDITO">
											<label for="Nro-tarjeta-credito_normal">Nro:.</label>
											<input type="number" id="Nro-tarjeta-credito_normal"
												name="Nro-tarjeta-credito_normal"
												ng-model="venta.numero_tarjeta_credito" class="form-control" />
										</td>
										<td
											ng-if="venta.tipoPago.nombre_corto == diccionario.TIPO_PAGO_TARJETA_CREDITO">
											<label for="bs-tarjeta-credito_normal">Bs:.</label>
											<input type="number" id="bs-tarjeta-credito_normal" disabled
												name="bs-tarjeta-credito_normal" required step="0.001"
												class="form-control" ng-model="venta.monto_tarjeta_credito" />
										</td>
									</tr>
									<tr
										ng-if="tipoEgreso==diccionario.EGRE_FACTURACION || tipoEgreso==diccionario.EGRE_PROFORMA ||tipoEgreso==diccionario.EGRE_SERVICIO">
										<td ng-if="venta.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO">
											<label>A CUENTA
												{{usuario.empresa.ver_costos_dolares && venta.ver_dolares ? '($us)' :
												'(Bs)'}}</label>
											<input min="0" name="acuenta" required type="number" step="0.001"
												class="form-control" ng-model="venta.a_cuenta" value="0.0"
												ng-change="calcularSaldo()" />
											<span class="red">(*)</span>
											<span class="invalid-message"
												ng-show="formularioVenta.acuenta.$dirty && formularioVenta.acuenta.$invalid">
												Debe especificar un valor numérico mayor o igual a 0.
											</span>
										</td>
										<td ng-if="venta.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO">
											<label>SALDO</label>
											<input disabled type="number" step="0.001" ng-model="venta.saldo"
												class="form-control" />
										</td>
									</tr>
									<tr
										ng-if="tipoEgreso==diccionario.EGRE_FACTURACION || tipoEgreso==diccionario.EGRE_PROFORMA ||tipoEgreso==diccionario.EGRE_SERVICIO">
										<td>
											<label>DESCUENTOS GENERALES</label>
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-disabled="venta.detallesVenta.length>0"
													ng-model="venta.usar_descuento_general" />
												<span id="descuentos_generales" class="lbl check-descuento"></span>
											</label>
										</td>
										<td>
											<div class="row">
												<div class="col-sm-6">
													<label>VENDEDOR</label>
												</div>
												<div class="col-sm-6">
													<div class="col-sm-1">
														<a class="blue" href="javascript:void(0)"
															ng-click="abrirPopuEdicionVendedor()">
															<i class="ace-icon fa fa-plus bigger-130"></i>
														</a>
													</div>
												</div>
											</div>
											<div class="row">
												<div class="col-sm-10">
													<select class="col-sm-10" class="form-control"
														ng-options="vendedor as vendedor.persona.nombre_completo for vendedor in vendedores"
														ng-model="venta.vendedor"></select>
												</div>
												<div class="col-sm-1" ng-if="venta.vendedor">
													<a class="green" href="javascript:void(0)"
														ng-click="modificarVendedor(venta.vendedor)">
														<i class="ace-icon fa fa-pencil-square-o bigger-130"></i>
													</a>
												</div>
												<div class="col-sm-1" ng-if="venta.vendedor">
													<a class="red" href="javascript:void(0)"
														ng-click="abrirPopupConfirmarEliminado(eliminarVendedor,venta.vendedor)">
														<i class="ace-icon fa fa-trash-o bigger-130"></i>
													</a>
												</div>
											</div>
										</td>
									</tr>
									<tr
										ng-if="(tipoEgreso==diccionario.EGRE_TRASPASO || tipoEgreso==diccionario.EGRE_TRASPASO_ALMACEN)">
										<td>
											<p>OBSERVACIONES</p>
											<textarea cols='30' rows="4" class="form-control"
												ng-model="venta.observacion_traspaso"></textarea>
										</td>
									</tr>
									<tr>
										<td ng-if="venta.usar_descuento_general">
											<label>DESCUENTOS (-)</label>
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-disabled="venta.detallesVenta.length>0"
													ng-model="venta.tipo_descuento" /><!-- ng-change="recalcular()" -->
												<span id="descuentos" class="lbl check-compra"></span>
											</label>
											<input required ng-change="calcularImporteGeneral()"
												ng-disabled="venta.detallesVenta.length>0" ng-model="venta.descuento"
												step="0.001" class="col-xs-12" type="number" value="0.0" />
											<span class="red">(*)</span>
										</td>
										<td ng-if="venta.usar_descuento_general">
											<label>RECARGOS (+)</label>
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-disabled="venta.detallesVenta.length>0"
													ng-model="venta.tipo_recargo" /><!-- ng-change="recalcular()" -->
												<span id="recargos" class="lbl check-compra"></span>
											</label>
											<input required ng-change="calcularImporteGeneral()"
												ng-disabled="venta.detallesVenta.length>0" ng-model="venta.recargo"
												step="0.001" class="col-xs-12" type="number" value="0" />
											<span class="red">(*)</span>
										</td>
									</tr>
									<tr>
										<td ng-if="venta.usar_descuento_general">
											<label>ICE (-)</label>
											<input required ng-change="calcularImporteGeneral()" ng-model="venta.ice"
												ng-disabled="venta.detallesVenta.length>0" step="0.001"
												class="col-xs-12" type="number" value="0" />
											<span class="red">(*)</span>
										</td>
										<td ng-if="venta.usar_descuento_general">
											<label>EXCENTOS (-)</label>
											<input required ng-change="calcularImporteGeneral()"
												ng-model="venta.excento" step="0.001" class="col-xs-12" type="number"
												ng-disabled="venta.detallesVenta.length>0" value="0" />
											<span class="red">(*)</span>
										</td>
									<tr>
									<tr
										ng-if="tipoEgreso==diccionario.EGRE_FACTURACION || tipoEgreso==diccionario.EGRE_PROFORMA ||tipoEgreso==diccionario.EGRE_SERVICIO">

										<td colspan="2">
											<P> OBSERVACIONES</P>
											<input type="text" class="form-control col-sm-12"
												ng-model="venta.observacion">
										</td>
									</tr>
								</table>
							</div>
						</div>
					</form>
				</div>
			</div>
			<div class="col-sm-8">
				<div class="widget-box" ng-if="tipoEgreso!=diccionario.EGRE_SERVICIO">
					<div class="widget-header">
						<h4 class="widget-title">BUSQUEDA PRODUCTO <label>
								<div ng-if="usuario.empresa.ver_costos_dolares" class="pull-right">
									Ver en dolares
									<input class="ace ace-switch ace-switch-4" type="checkbox"
										ng-model="venta.ver_dolares" />
									<span class="lbl check-descuento"></span>
								</div>

							</label>
						</h4>
					</div>
					<div class="widget-body" style="overflow-x:auto;">
						<div class="widget-main">
							<form id="formularioBusquedaProducto" name="formularioBusquedaProducto">
								<table class="table table-striped table-bordered table-hover">
									<thead>
										<tr>
											<th>
												<label>PRODUCTO</label>
												<div>
													<div class="col-md-1">
														<a class="green">
															<i
																class="ace-icon fa fa-barcode dark bigger-250 fa-stack-2x"></i>
															<i
																class="ace-icon fa  fa-filter red bigger-200 fa-stack-1x"></i>
															<!-- <img class="bg-orange text-cut" style="width:25%;height:25%" src="img/iconos-polifuncional/asistencia-capacitacion.png"> -->
														</a>
													</div>
													<label class="col-md-3 pull-left"
														uib-tooltip="Usar lector de barra">

														<input ng-model="usuario.usar_lector_de_barra"
															ng-change="UsarLectorDeBarra()" checked="checked"
															type="checkbox" class="ace ace-switch ace-switch-5">
														<span class="lbl"
															data-lbl="Si&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No"></span>
													</label>
												</div>
												<label ng-if="usuario.empresa.usar_filtro_lote">Filtar por
													lote/serie</label>
												<div ng-if="usuario.empresa.usar_filtro_lote">
													<label class="pull-left" uib-tooltip="Filtrar por serie o lote">

														<input ng-model="usuario.usar_filtro_lote" checked="checked"
															ng-change="UsarLectorDeBarra()" type="checkbox"
															class="ace ace-switch ace-switch-5">
														<span class="lbl"
															data-lbl="Si&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No"></span>
													</label>
												</div>
											</th>
											<th>
												<label>CÓD. ITEM</label>
											</th>
											<th>
												<label>UNID. MED.</label>
											</th>
											<th ng-if="usuario.empresa.usar_vencimientos && usuario.empresa.usar_vencimiento_productos">
												<label>VENCIMIENTO</label>
											</th>
											<th
												ng-if="usuario.empresa.usar_vencimientos && usuario.empresa.usar_vencimiento_productos">
												<label>LOTE</label>
											</th>
											<th>
												<label>INVENTARIO DISPONIBLE</label>
											</th>
											<th>
												<label><span
														ng-if="venta.movimiento.nombre_corto==diccionario.EGRE_TRASPASO || venta.movimiento.nombre_corto==diccionario.EGRE_TRASPASO_ALMACEN || venta.movimiento.nombre_corto==diccionario.EGRE_BAJA || venta.movimiento.nombre_corto==diccionario.EGRE_AJUSTE">C.U.</span>
													<span
														ng-if="venta.movimiento.nombre_corto ==diccionario.EGRE_FACTURACION|| venta.movimiento.nombre_corto==diccionario.EGRE_PROFORMA">P.U.</span>
													{{usuario.empresa.ver_costos_dolares && venta.ver_dolares ? '($us)'
													: '(Bs)'}}</label>
												<P class="red"
													ng-if="venta.cliente.id && venta.cliente.tipoPrecioVenta && detalleVenta.producto.tiposPrecio.length>0">
													{{venta.cliente.tipoPrecioVenta.nombre}}</P>
												<P class="red"
													ng-if="(usuario.empresa.usar_precio_por_sucursal && detalleVenta.producto.preciosPorSucursales.length>0 && detalleVenta.producto.tiposPrecio.length==0)">
													Suc. P.U.</P>
											</th>
											<th>
												<label>CANT. (u)</label>
											</th>
											<th>
												<label>IMP.
													{{usuario.empresa.ver_costos_dolares && venta.ver_dolares ? '($us)'
													: '(Bs)'}}</label>
											</th>
											<th ng-if="tipoEgreso==diccionario.EGRE_BAJA">
												<label>observación.</label>
											</th>
											<th>
												<label>ACC.</label>
											</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td ng-if="!venta.id">
												<input ng-if="usuario.usar_lector_de_barra"
													ng-keypress="interceptarTecla($event,'cantidad',true)"
													id="id_producto" required ng-disabled="!venta.almacen" type="text"
													ng-model="detalleVenta.producto.nombre"
													placeholder="Ingrese el nombre del producto..."
													uib-typeahead="producto as (producto.codigo+'-'+producto.nombre+'-'+producto.grupo+'-'+producto.subgrupo) for producto in buscarProductoLectorBarra($viewValue)"
													typeahead-wait-ms="100" typeahead-template-url="customTemplate.html"
													typeahead-show-hint="false" typeahead-min-length="3"
													typeahead-on-select="establecerProducto($item, $model, $label, $event)">

												<input ng-if="!usuario.usar_lector_de_barra" autocomplete="off"
													ng-keypress="interceptarTecla($event,'cantidad',true)"
													id="id_producto" required ng-disabled="!venta.almacen" type="text"
													ng-model="detalleVenta.producto.nombre"
													placeholder="Ingrese el nombre del producto..."
													uib-typeahead="producto as (producto.codigo+'-'+producto.nombre+'-'+producto.grupo+'-'+producto.subgrupo) for producto in buscarProducto($viewValue)"
													typeahead-wait-ms="1000"
													typeahead-template-url="customTemplate.html"
													typeahead-show-hint="false" typeahead-select-on-exact="true"
													typeahead-min-length="3"
													typeahead-on-select="establecerProducto($item, $model, $label, $event)">

												<script type="text/ng-template" id="customTemplate.html">
													<a>
														<i style="color: green" class="icon fa fa-cube bigger-200"></i>
														
														<span ng-bind-html="match.label | uibTypeaheadHighlight:query"></span>
														<span ng-if="match.model.precioVenta" class="badge badge-success">Bs. {{match.model.precioVenta.split(',')[0]|number:2}} </span>
														<span class="text-info bolder">{{match.model.precioVenta.split(',')[1]}} </span>
														<span class="text-warning orange bolder" ng-if="!match.model.precioVenta"> Sin Dato de Venta</span>
													</a>
												</script>

												<div class="space-6"></div>
												<button ng-disabled="!venta.almacen" id="mostrar_inv" type="button"
													ng-click="abrirPopupInventario()" class="btn btn-info btn-sm">
													<i class="ace-icon fa fa-search-plus bigger-110"></i>
												</button>
												<span class="red"
													ng-if="!detalleVenta.producto.activar_inventario">Inventario
													Desactivado</span>
											</td>
											<td ng-if="venta.id">
												<input ng-if="usuario.usar_lector_de_barra"
													ng-keypress="interceptarTecla($event,'cantidad',true)"
													id="id_producto" required ng-disabled="!venta.almacen" type="text"
													ng-model="detalleVenta.producto.nombre"
													placeholder="Ingrese el nombre del producto..."
													uib-typeahead="producto as (producto.codigo+'-'+producto.nombre+'-'+producto.grupo+'-'+producto.subgrupo) for producto in buscarProductoLectorBarra($viewValue)"
													typeahead-wait-ms="100" typeahead-template-url="customTemplate.html"
													typeahead-show-hint="false" typeahead-min-length="3"
													typeahead-on-select="establecerProductoEdicionVenta($item, $model, $label, $event)">

												<input ng-if="!usuario.usar_lector_de_barra" autocomplete="off"
													ng-keypress="interceptarTecla($event,'cantidad',true)"
													id="id_producto" required ng-disabled="!venta.almacen" type="text"
													ng-model="detalleVenta.producto.nombre"
													placeholder="Ingrese el nombre del producto..."
													uib-typeahead="producto as (producto.codigo+'-'+producto.nombre+'-'+producto.grupo+'-'+producto.subgrupo) for producto in buscarProducto($viewValue)"
													typeahead-wait-ms="1000"
													typeahead-template-url="customTemplate.html"
													typeahead-show-hint="false" typeahead-select-on-exact="true"
													typeahead-min-length="3"
													typeahead-on-select="establecerProductoEdicionVenta($item, $model, $label, $event)">
												<div class="space-6"></div>
												<button ng-disabled="!venta.almacen" id="mostrar_inv" type="button"
													ng-click="abrirPopupInventario()" class="btn btn-info btn-sm">
													<i class="ace-icon fa fa-search-plus bigger-110"></i>
												</button>
												<span class="red"
													ng-if="!detalleVenta.producto.activar_inventario">Inventario
													Desactivado</span>
											</td>
											<td>
												{{(detalleVenta.producto.codigo)}}
											</td>
											<td>
												{{detalleVenta.producto.unidad_medida}}
											</td>
											<td
												ng-if="usuario.empresa.usar_vencimientos && usuario.empresa.usar_vencimiento_productos">
												<select style="width:95px;" id="fechaVencimiento"
													name="fechaVencimiento"
													ng-if="detalleVenta.producto.activar_inventario"
													ng-model="detalleVenta.inventarioProducto"
													data-placeholder="Elija la fecha de vencimiento"
													ng-change="actualizarInventarioDisponibleFechaVencimiento(detalleVenta)"
													ng-options="inventario as ('FV:'+inventario.fechaVencimientoTexto+'-'+'F:'+inventario.detallesMovimiento[0].movimiento.fechaTexto+'-'+inventario.detallesMovimiento[0].movimiento.clase.nombre) for inventario in inventariosDisponibleProducto track by inventario.id">
												</select>
											</td>
											<td ng-if="usuario.empresa.usar_vencimientos && usuario.empresa.usar_vencimiento_productos">
												<!-- <label>{{detalleVenta.lote}}</label> -->
												<select style="width:95px;" id="fechaVencimiento"
													name="fechaVencimiento"
													ng-if="detalleVenta.producto.activar_inventario"
													ng-model="detalleVenta.inventarioProducto"
													data-placeholder="Elija la fecha de vencimiento"
													ng-change="actualizarInventarioDisponibleFechaVencimiento(detalleVenta)"
													ng-options="inventario as (inventario.lote) for inventario in inventariosDisponibleProducto track by inventario.id">
												</select>
											</td>
											<td>
												<div class="c100 p{{porcentaje}} small {{color}}"
													ng-if="detalleVenta.producto.activar_inventario">
													<span id="CantProd"
														style="color:black !important;">{{detalleVenta.inventario_disponible}}</span>
													<div class="slice">
														<div class="bar"></div>
														<div class="fill"></div>
													</div>
												</div>
											</td>
											<td ng-if="!editar_precio">
												<div clas="row">
													<div id="Precio" class="col-sm-12">
														{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
														detalleVenta.precio_unitario_dolares :
														detalleVenta.precio_unitario)}}
													</div>
												</div>
												<div clas="row">
													<div class="col-sm-12"
														ng-if="venta.movimiento.nombre_corto ==diccionario.EGRE_FACTURACION|| venta.movimiento.nombre_corto==diccionario.EGRE_PROFORMA">
														<a class="green" href="javascript:void(0)"
															e-disabled="!aplicacion.puede_modificar"
															ng-click="modificarPrecio()">
															<i class="ace-icon fa fa-pencil-square-o bigger-130"></i>
														</a>
														<a href="javascript:void(0)"
															ng-if="(venta.cliente.id && venta.cliente.tipoPrecioVenta && usuario.empresa.usar_tipo_precio) ||
															(usuario.empresa.usar_precio_por_sucursal && detalleVenta.producto.preciosPorSucursales.length>0 && detalleVenta.producto.tiposPrecio.length==0)"
															class="green" popover-placement="right"
															uib-popover-template="dynamicPopoverPrecios.templateUrl"
															popover-trigger="outsideClick: outsideClick"
															popover-title="Precios">
															<i class="ace-icon fa fa-exclamation-circle bigger-130"></i>
														</a>
														<script type="text/ng-template" id="preciosTemplate.html">
															<div ng-if="(venta.cliente.id && venta.cliente.tipoPrecioVenta && usuario.empresa.usar_tipo_precio && detalleVenta.producto.tiposPrecio.length>0)" class="form-group">
															  <p ng-repeat="precio in detalleVenta.producto.tiposPrecio|filter:{eliminado:false}"><b>{{precio.tipoPrecio.nombre}}:{{precio.precio_unitario}}</b> </p>
															</div>
															<div ng-if="(usuario.empresa.usar_precio_por_sucursal && detalleVenta.producto.preciosPorSucursales.length>0 && detalleVenta.producto.tiposPrecio.length==0)" class="form-group">
																<p><b>{{venta.sucursal.nombre}}:{{detalleVenta.producto.preciosPorSucursales[0].precio_unitario}}</b> </p>
															  </div>
														</script>
													</div>
												</div>

												<span ng-if="usuario.empresa.ver_precio_compra_en_venta" class="blue">
													Último precio
												</span>
												<span ng-if="usuario.empresa.ver_precio_compra_en_venta"
													class="label label-danger label-white middle tooltip-info"
													ng-if="precio_inventario" data-rel="tooltip" tooltip-placement="top"
													uib-tooltip="Último precio de compra">{{(usuario.empresa.ver_costos_dolares
													&&
													venta.ver_dolares ? precio_inventario_dolares :
													precio_inventario)}}</span>
											</td>
											<td ng-if="editar_precio">
												<!-- 	<form name="edit" id="edit" > -->
												<div class="row">
													<div class="col-sm-12">
														<input
															ng-if="(!venta.cliente.tipoPrecioVenta && !usuario.empresa.usar_precio_por_sucursal) || (detalleVenta.producto.tiposPrecio.length==0 && detalleVenta.producto.preciosPorSucursales.length==0)"
															id="precio_unitario" required name="precio_unitario"
															step="0.001"
															min="{{detalleVenta.producto.rango_negativo?detalleVenta.producto.rango_negativo:0}}"
															max="{{detalleVenta.producto.rango_positivo?detalleVenta.producto.rango_positivo:10000000}}"
															class="col-xs-12" ng-change="calcularImporte()"
															ng-model="detalleVenta.precio_unitario" type="number" />
														<input
															ng-if="(venta.cliente.id && venta.cliente.tipoPrecioVenta && detalleVenta.producto.tiposPrecio.length>0)
														|| (usuario.empresa.usar_precio_por_sucursal && detalleVenta.producto.preciosPorSucursales.length>0 && detalleVenta.producto.tiposPrecio.length==0)"
															required id="precio_unitario2" name="precio_unitario"
															step="0.001"
															min="{{tipoPrecioProducto.rango_negativo?tipoPrecioProducto.rango_negativo:0}}"
															max="{{tipoPrecioProducto.rango_positivo?tipoPrecioProducto.rango_positivo:10000000}}"
															class="col-xs-12" ng-change="calcularImporte()"
															ng-model="detalleVenta.precio_unitario" type="number" />
														<input
															ng-if="(!venta.cliente.tipoPrecioVenta && (usuario.empresa.ver_costos_dolares && venta.ver_dolares))"
															id="precio_unitario3" required name="precio_unitario"
															step="0.001"
															min="{{detalleVenta.producto.rango_negativo?detalleVenta.producto.rango_negativo:0}}"
															max="{{detalleVenta.producto.rango_positivo?detalleVenta.producto.rango_positivo:10000000}}"
															class="col-xs-12" ng-change="calcularImporte()"
															ng-model="detalleVenta.precio_unitario_dolares"
															type="number" />
														<input
															ng-if="venta.cliente.tipoPrecioVenta && (usuario.empresa.ver_costos_dolares && venta.ver_dolares)"
															required id="precio_unitario4" name="precio_unitario"
															step="0.001"
															min="{{tipoPrecioProducto.rango_negativo?tipoPrecioProducto.rango_negativo:0}}"
															max="{{tipoPrecioProducto.rango_positivo?tipoPrecioProducto.rango_positivo:10000000}}"
															class="col-xs-12" ng-change="calcularImporte()"
															ng-model="detalleVenta.precio_unitario_dolares"
															type="number" />
													</div>
													<div ng-if="venta.cliente.tipoPrecioVenta"
														ng-show="formularioBusquedaProducto.precio_unitario.$dirty && formularioBusquedaProducto.precio_unitario.$invalid">
														<span class="invalid-message">El precio debe estar entre
															{{tipoPrecioProducto.rango_negativo}} y
															{{tipoPrecioProducto.rango_positivo}}.</span>
													</div>
													<div ng-if="!venta.cliente.tipoPrecioVenta"
														ng-show="formularioBusquedaProducto.precio_unitario.$dirty && formularioBusquedaProducto.precio_unitario.$invalid">
														<span class="invalid-message">El precio debe estar entre
															{{detalleVenta.producto.rango_negativo}} y
															{{detalleVenta.producto.rango_positivo}}.</span>
													</div>
												</div>
												<div class="row">
													<div class="col-sm-12">
														<button class="blue" type="button"
															ng-disabled="formularioBusquedaProducto.precio_unitario.$invalid"
															ng-click="establecerPrecio()">
															<i class="ace-icon fa fa-check-square-o bigger-130"></i>
														</button>
													</div>
												</div>
												<!-- </form> -->
											</td>
											<td>
												<input onfocus="this.select();"
													ng-keypress="interceptarTecla($event,'agregar_detalle_venta',false)"
													id="cantidad" name="cantidad" step="0.001" min="0.001"
													max="{{detalleVenta.maximoPermitido}}" required class="col-xs-12"
													ng-change="calcularImporte()" ng-model="detalleVenta.cantidad"
													type="number" />
												<div
													ng-show="formularioBusquedaProducto.cantidad.$dirty && formularioBusquedaProducto.cantidad.$invalid">
													<span class="invalid-message">La cantidad debe estar entre 0.01 y
														{{detalleVenta.inventario_disponible}}.</span>
												</div>
											</td>
											<td>
												{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
												detalleVenta.importe_dolares :
												detalleVenta.importe) | number : 2}}
											</td>
											<th ng-if="tipoEgreso==diccionario.EGRE_BAJA">
												<input type="text" name="obs" id="obs-p"
													ng-model="detalleVenta.observaciones">
											</th>
											<td>
												<button id="agregar_detalle_venta" type="button"
													ng-click="agregarDetalleVenta(detalleVenta)"
													ng-disabled="formularioBusquedaProducto.$invalid || detalleVenta.inventario_disponible == 0"
													class="btn btn-success btn-sm">
													<i class="ace-icon fa fa-plus bigger-110"></i>
												</button>
												<div class="space-6"></div>
												<button id="mostrar_desc" type="button" ng-click="mostrarDescuentos()"
													class="btn btn-info btn-sm">
													<i class="ace-icon fa fa-exchange bigger-110"></i>
												</button>
											</td>
										</tr>
										<tr class="des-datos" style="display:none;">
											<th>
												<label>DESCUENTOS (-)</label>
												<label>
													<input ng-disabled="detalleVenta.producto.descuento_fijo"
														class="ace ace-switch ace-switch-4" type="checkbox"
														ng-model="detalleVenta.tipo_descuento"
														ng-change="recalcular()" />
													<span class="lbl check-compra"></span>
												</label>
											</th>
											<th>
												<label>RECARGOS (+)</label>
												<label>
													<input class="ace ace-switch ace-switch-4" type="checkbox"
														ng-model="detalleVenta.tipo_recargo" ng-change="recalcular()" />
													<span class="lbl check-compra"></span>
												</label>
											</th>
											<th>
												<label>ICE (-)</label>
											</th>
											<th>
												<label>EXCENTOS (-)</label>
											</th>
											<th>
												<label>SUJETO A DF</label>
											</th>
										</tr>
										<tr class="des-datos" style="display:none;">
											<td ng-if="(usuario.empresa.ver_costos_dolares && venta.ver_dolares)">
												<input ng-disabled="detalleVenta.producto.descuento_fijo" required
													ng-change="calcularImporte()"
													ng-model="detalleVenta.descuento_dolares" step="0.001"
													class="col-xs-12" type="number" />
											</td>
											<td ng-if="!(usuario.empresa.ver_costos_dolares && venta.ver_dolares)">
												<input ng-disabled="detalleVenta.producto.descuento_fijo" required
													ng-change="calcularImporte()" ng-model="detalleVenta.descuento"
													step="0" class="col-xs-12" type="number" value="0" />
											</td>
											<td ng-if="(usuario.empresa.ver_costos_dolares && venta.ver_dolares)">
												<input required ng-change="calcularImporte()"
													ng-model="detalleVenta.recargo_dolares" step="0" class="col-xs-12"
													type="number" value="0" />
											</td>
											<td ng-if="!(usuario.empresa.ver_costos_dolares && venta.ver_dolares)">
												<input required ng-change="calcularImporte()"
													ng-model="detalleVenta.recargo" step="0" class="col-xs-12"
													type="number" value="0" />
											</td>
											<td ng-if="(usuario.empresa.ver_costos_dolares && venta.ver_dolares)">
												<input required ng-change="calcularImporte()"
													ng-model="detalleVenta.ice_dolares" step="0" class="col-xs-12"
													type="number" value="0" />
											</td>
											<td ng-if="!(usuario.empresa.ver_costos_dolares && venta.ver_dolares)">
												<input required ng-change="calcularImporte()"
													ng-model="detalleVenta.ice" step="0" class="col-xs-12" type="number"
													value="0" />
											</td>
											<td ng-if="(usuario.empresa.ver_costos_dolares && venta.ver_dolares)">
												<input required ng-change="calcularImporte()"
													ng-model="detalleVenta.excento_dolares" step="0" class="col-xs-12"
													type="number" value="0" />
											</td>
											<td ng-if="!(usuario.empresa.ver_costos_dolares && venta.ver_dolares)">
												<input required ng-change="calcularImporte()"
													ng-model="detalleVenta.excento" step="0" class="col-xs-12"
													type="number" value="0" />
											</td>
											<td>
												{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
												detalleVenta.total_dolares :
												detalleVenta.total) | number : 2}}
											</td>
										</tr>
									</tbody>
								</table>
							</form>
						</div>
					</div>
				</div>
				<div class="widget-box" ng-if="tipoEgreso==diccionario.EGRE_SERVICIO">
					<div class="widget-header">
						<h4 class="widget-title">BUSQUEDA SERVICIOS</h4>

					</div>
					<div class="widget-body" style="overflow-x:auto;">
						<div class="widget-main">
							<!-- <form id="formularioBusquedaProducto" name="formularioBusquedaProducto" novalidate> -->
							<table class="table table-striped table-bordered table-hover">
								<thead>
									<tr>
										<th>
											<label>SERVICIO</label>

										</th>
										<th>
											<label>DESCRIPCION</label>
											<!--	</th>
											<th>
												<label>UNID. MED.</label>
											</th>
											<th ng-if="usuario.empresa.usar_vencimientos">
												<label>VENCIMIENTO</label>
											</th>
											<th ng-if="usuario.empresa.usar_vencimientos">
												<label>LOTE</label>
											</th>
											<th>
												<label>INVENTARIO DISPONIBLE</label>
											</th>
											<th>
												<label>P.U. (Bs/u)</label>
											</th> -->
											<!-- <th>
												<label>CANT. (u)</label>
											</th> -->
										<th>
											<label>IMP.
												{{usuario.empresa.ver_costos_dolares && venta.ver_dolares ? '($us)' :
												'(Bs)'}}</label>
										</th>
										<th>
											<label>ACC.</label>
										</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>
											<div class="input-group">
												<span
													class="input-group-addon glyphicon glyphicon-pencil point-edit green"
													ng-hide="!venta.sucursal.id"
													ng-click="abrirmodalServicioVenta()"></span>
												<input id="id_servicio" autocomplete="off"
													ng-keypress="interceptarTecla($event,'fecha_vencimiento',true)"
													required ng-disabled="!venta.sucursal.id" type="text"
													ng-model="detalleVenta.servicio.nombre"
													placeholder="Ingrese el nombre del servicio..."
													uib-typeahead="servicio as (servicio.nombre+'-'+servicio.detalle) for servicio in buscarServiciosVentas($viewValue)"
													typeahead-wait-ms="1000"
													typeahead-append-to-body="true"
													typeahead-template-url="templates/autocompletar.html"
													typeahead-show-hint="false" typeahead-min-length="3"
													typeahead-on-select="establecerServicio($item, $model, $label, $event)">
												<div class="space-6"></div>
												<!-- <button ng-disabled="!venta.almacen" id="mostrar_inv" type="button" ng-click="abrirPopupInventario()" class="btn btn-info btn-sm">
													<i class="ace-icon fa fa-search-plus bigger-110"></i>
												</button> -->
												<!-- <span class="red" ng-if="!detalleVenta.producto.activar_inventario">Inventario Desactivado</span> -->
											</div>
										</td>
										<td>
											<input type="text" maxlength="255" class="form-control" ng-model="detalleVenta.observaciones">
											<div class="space-6"></div>
										</td>
										<!-- <td>
												{{detalleVenta.producto.codigo}}
											</td>
											<td>
												{{detalleVenta.producto.unidad_medida}}
											</td>
											<td ng-if="usuario.empresa.usar_vencimientos">
												<select style="width:95px;" id="fechaVencimiento" name="fechaVencimiento" ng-if="detalleVenta.producto.activar_inventario"
												 ng-model="detalleVenta.inventarioProducto" data-placeholder="Elija la fecha de vencimiento" ng-change="actualizarInventarioDisponibleFechaVencimiento(detalleVenta)"
												 ng-options="inventario as ('FV:'+inventario.fechaVencimientoTexto+'-'+'F:'+inventario.detallesMovimiento[0].movimiento.fechaTexto+'-'+inventario.detallesMovimiento[0].movimiento.clase.nombre) for inventario in inventariosDisponibleProducto track by inventario.id">
												</select>
											</td>
											<td ng-if="usuario.empresa.usar_vencimientos">
												{{detalleVenta.lote}}
											</td>
											<td>
												<div class="c100 p{{porcentaje}} small {{color}}" ng-if="detalleVenta.producto.activar_inventario">
													<span id="CantProd" style="color:black !important;">{{detalleVenta.inventario_disponible}}</span>
													<div class="slice">
														<div class="bar"></div>
														<div class="fill"></div>
													</div>
												</div>
											</td>
											<td ng-if="!editar_precio">
												<div clas="row">
													<div id="Precio" class="col-sm-12">
														{{detalleVenta.precio_unitario}}
													</div>
												</div>
												<div clas="row">
													<div class="col-sm-12">
														<a class="green" href="javascript:void(0)" e-disabled="!aplicacion.puede_modificar" ng-click="modificarPrecio()">
															<i class="ace-icon fa fa-pencil-square-o bigger-130"></i>
														</a>
													</div>
												</div>
	
												<span class="blue">
												Último precio
												</span>
												<span class="label label-danger label-white middle tooltip-info" ng-if="precio_inventario"  data-rel="tooltip" tooltip-placement="top" uib-tooltip="Último precio de compra">{{precio_inventario}}</span>
											</td>-->
										<!-- <td ng-if="editar_precio">
												<form ng-submit="establecerPrecio()">
													<div class="row">
														<div class="col-sm-12">
															<input required name="precio_unitario" step="0.001" min="{{detalleVenta.producto.rango_negativo?detalleVenta.producto.rango_negativo:0}}"
															 max="{{detalleVenta.producto.rango_positivo?detalleVenta.producto.rango_positivo:10000000}}" required class="col-xs-12"
															 ng-change="calcularImporte()" ng-model="detalleVenta.precio_unitario" type="number" />
														</div>
													</div>
													<div class="row">
														<div class="col-sm-12">
															<button class="blue" type "submit">
																<i class="ace-icon fa fa-check-square-o bigger-130"></i>
															</button>
														</div>
													</div>
												</form>
											</td>
											<td>
												<input onfocus="this.select();" ng-keypress="interceptarTecla($event,'agregar_detalle_venta',false)" id="cantidad" name="cantidad"
												 step="0.001" min="0.1" max="{{detalleVenta.inventario_disponible}}" required class="col-xs-12" ng-change="calcularImporte()"
												 ng-model="detalleVenta.cantidad" type="number" />
												<div ng-show="formularioBusquedaProducto.cantidad.$dirty && formularioBusquedaProducto.cantidad.$invalid">
													<span class="invalid-message">La cantidad debe estar entre 0.1 y {{detalleVenta.inventario_disponible}}.</span>
												</div>
											</td> -->
										<td>
											<input ng-if="(usuario.empresa.ver_costos_dolares && venta.ver_dolares)"
												class="form-control" type="number"
												ng-model="detalleVenta.importe_dolares">
											<input ng-if="!(usuario.empresa.ver_costos_dolares && venta.ver_dolares)"
												class="form-control" type="number" ng-model="detalleVenta.importe">
										</td>
										<td>
											<button type="button" ng-disabled="formularioBusquedaProducto.$invalid"
												ng-click="agregarDetalleVentaServicio(detalleVenta)"
												class="btn btn-success btn-sm">
												<i class="ace-icon fa fa-plus bigger-110"></i>
											</button>
											<div class="space-6"></div>
											<button id="mostrar_desc" type="button"
												ng-click="mostrarDescuentos();calcularImporteServicio()"
												class="btn btn-info btn-sm">
												<i class="ace-icon fa fa-exchange bigger-110"></i>
											</button>
										</td>
									</tr>
									<tr class="des-datos" style="display:none;">
										<th>
											<label>DESCUENTOS (-)</label>
											<label>
												<input ng-disabled="detalleVenta.producto.descuento_fijo"
													class="ace ace-switch ace-switch-4" type="checkbox"
													ng-model="detalleVenta.tipo_descuento" ng-change="recalcular()" />
												<span class="lbl check-compra"></span>
											</label>
										</th>
										<th>
											<label>RECARGOS (+)</label>
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-model="detalleVenta.tipo_recargo" ng-change="recalcular()" />
												<span class="lbl check-compra"></span>
											</label>
										</th>
										<th>
											<label>ICE (-)</label>
										</th>
										<th>
											<label>EXCENTOS (-)</label>
										</th>
										<th>
											<label>SUJETO A DF</label>
										</th>
									</tr>
									<tr class="des-datos" style="display:none;">
										<td ng-if="(usuario.empresa.ver_costos_dolares && venta.ver_dolares)">
											<input required ng-change="calcularImporteServicio()"
												ng-model="detalleVenta.descuento_dolares" step="0.001" class="col-xs-12"
												type="number" value="0" />
										</td>
										<td ng-if="!(usuario.empresa.ver_costos_dolares && venta.ver_dolares)">
											<input required ng-change="calcularImporteServicio()"
												ng-model="detalleVenta.descuento" step="0.001" class="col-xs-12"
												type="number" value="0" />
										</td>
										<td ng-if="(usuario.empresa.ver_costos_dolares && venta.ver_dolares)">
											<input required ng-change="calcularImporteServicio()"
												ng-model="detalleVenta.recargo_dolares" step="0.001" class="col-xs-12"
												type="number" value="0" />
										</td>
										<td ng-if="!(usuario.empresa.ver_costos_dolares && venta.ver_dolares)">
											<input required ng-change="calcularImporteServicio()"
												ng-model="detalleVenta.recargo" step="0.001" class="col-xs-12"
												type="number" value="0" />
										</td>
										<td ng-if="(usuario.empresa.ver_costos_dolares && venta.ver_dolares)">
											<input required ng-change="calcularImporteServicio()"
												ng-model="detalleVenta.ice_dolares" step="0.001" class="col-xs-12"
												type="number" value="0" />
										</td>
										<td ng-if="!(usuario.empresa.ver_costos_dolares && venta.ver_dolares)">
											<input required ng-change="calcularImporteServicio()"
												ng-model="detalleVenta.ice" step="0.001" class="col-xs-12" type="number"
												value="0" />
										</td>
										<td ng-if="(usuario.empresa.ver_costos_dolares && venta.ver_dolares)">
											<input required ng-change="calcularImporteServicio()"
												ng-model="detalleVenta.excento_dolares" step="0.001" class="col-xs-12"
												type="number" value="0" />
										</td>
										<td ng-if="!(usuario.empresa.ver_costos_dolares && venta.ver_dolares)">
											<input required ng-change="calcularImporteServicio()"
												ng-model="detalleVenta.excento" step="0.001" class="col-xs-12"
												type="number" value="0" />
										</td>
										<td>
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
											detalleVenta.total_dolares : detalleVenta.total)
											| number : 2}}
										</td>
									</tr>
								</tbody>
							</table>
							<!-- </form> -->
						</div>
					</div>
				</div>
				<div class="widget-box" ng-if="tipoEgreso!=diccionario.EGRE_SERVICIO">
					<div class="widget-header" ng-if="venta.detallesVenta.length>0">
						<div class="row">
							<div class="col-sm-6">
								<h4 class="widget-title">DETALLE</h4>
							</div>
							<div class="col-sm-6">
								<div class="inline pos-rel pull-right">
									<a data-toggle="dropdown" href="javascript:void(0)" class="dropdown-toggle">
										<i class="glyphicon  glyphicon-list-alt"></i>
									</a>

									<ul id="campos-detalle-venta"
										class="dropdown-menu-right dropdown-menu dropdown-yellow dropdown-caret">
										<li>
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-model="configuracionVentaVista.mostrar_producto"
													ng-change="guardarConfiguracionVentaVista()" />
												<span class="lbl check-descuento"></span>
											</label>
											<label>NOMBRE</label>
										</li>
										<li>
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-model="configuracionVentaVista.mostrar_codigo_producto"
													ng-change="guardarConfiguracionVentaVista()" />
												<span class="lbl check-descuento"></span>
											</label>
											<label>CÓD. ITEM</label>
										</li>
										<li>
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-model="configuracionVentaVista.mostrar_unidad_producto"
													ng-change="guardarConfiguracionVentaVista()" />
												<span class="lbl check-descuento"></span>
											</label>
											<label>UNID. MED.</label>
										</li>
										<li>
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-model="configuracionVentaVista.mostrar_precio_unitario"
													ng-change="guardarConfiguracionVentaVista()" />
												<span class="lbl check-descuento"></span>
											</label>
											<label>P.U.
												{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ? '($us/u)' :
												'(Bs/u)')}}</label>
										</li>
										<li>
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-model="configuracionVentaVista.mostrar_cantidad"
													ng-change="guardarConfiguracionVentaVista()" />
												<span class="lbl check-descuento"></span>
											</label>
											<label>CANT. (u)</label>
										</li>
										<li
											ng-if="usuario.empresa.usar_vencimientos && usuario.empresa.usar_vencimiento_productos">
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-model="configuracionVentaVista.mostrar_fecha_vencimiento"
													ng-change="guardarConfiguracionVentaVista()" />
												<span class="lbl check-descuento"></span>
											</label>
											<label>VENC.</label>
										</li>
										<li
											ng-if="usuario.empresa.usar_vencimientos && usuario.empresa.usar_vencimiento_productos">
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-model="configuracionVentaVista.mostrar_lote"
													ng-change="guardarConfiguracionVentaVista()" />
												<span class="lbl check-descuento"></span>
											</label>
											<label>LOTE</label>
										</li>
										<li>
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-model="configuracionVentaVista.mostrar_importe"
													ng-change="guardarConfiguracionVentaVista()" />
												<span class="lbl check-descuento"></span>
											</label>
											<label>IMP.
												{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ? '($us)' :
												'(Bs)')}}</label>
										</li>
										<li>
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-model="configuracionVentaVista.mostrar_descuento"
													ng-change="guardarConfiguracionVentaVista()" />
												<span class="lbl check-descuento"></span>
											</label>
											<label>DESC. (-)</label>
										</li>
										<li>
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-model="configuracionVentaVista.mostrar_recargo"
													ng-change="guardarConfiguracionVentaVista()" />
												<span class="lbl check-descuento"></span>
											</label>
											<label>REC. (+)</label>
										</li>
										<li>
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-model="configuracionVentaVista.mostrar_ice"
													ng-change="guardarConfiguracionVentaVista()" />
												<span class="lbl check-descuento"></span>
											</label>
											<label>ICE (-)</label>
										</li>
										<li>
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-model="configuracionVentaVista.mostrar_excento"
													ng-change="guardarConfiguracionVentaVista()" />
												<span class="lbl check-descuento"></span>
											</label>
											<label>EXC. (-)</label>
										</li>
										<li>
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-model="configuracionVentaVista.mostrar_total"
													ng-change="guardarConfiguracionVentaVista()" />
												<span class="lbl check-descuento"></span>
											</label>
											<label>SUJETO A DF</label>
										</li>
										<li class="divider"></li>
									</ul>
								</div>
							</div>
						</div>
					</div>
					<div class="widget-body" style="overflow-x:auto;" ng-if="venta.detallesVenta.length>0">
						<div class="widget-main">
							<table class="table table-striped table-bordered table-hover">
								<thead>
									<tr>
										<th>
											<label>#</label>
										</th>
										<th ng-if="configuracionVentaVista.mostrar_producto">
											<label>NOMBRE</label>
										</th>
										<th ng-if="configuracionVentaVista.mostrar_codigo_producto">
											<label>CÓD. ITEM</label>
										</th>
										<th ng-if="configuracionVentaVista.mostrar_unidad_producto">
											<label>UNID. MED.</label>
										</th>
										<th ng-if="configuracionVentaVista.mostrar_precio_unitario">
											<label>P.U.
												{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ? '($us/u)' :
												'(Bs/u)')}}</label>
										</th>
										<th ng-if="configuracionVentaVista.mostrar_cantidad">
											<label>CANT. (u)</label>
										</th>
										<th
											ng-if="configuracionVentaVista.mostrar_fecha_vencimiento && usuario.empresa.usar_vencimientos">
											<label>VENC.</label>
										</th>
										<th
											ng-if="configuracionVentaVista.mostrar_lote && usuario.empresa.usar_vencimientos">
											<label>LOTE</label>
										</th>
										<th ng-if="configuracionVentaVista.mostrar_importe">
											<label>IMP.
												{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ? '($us)' :
												'(Bs)')}}</label>
										</th>
										<th ng-if="configuracionVentaVista.mostrar_descuento">
											<label>DESC. (-)</label>
										</th>
										<th ng-if="configuracionVentaVista.mostrar_recargo">
											<label>REC. (+)</label>
										</th>
										<th ng-if="configuracionVentaVista.mostrar_ice">
											<label>ICE (-)</label>
										</th>
										<th ng-if="configuracionVentaVista.mostrar_excento">
											<label>EXC. (-)</label>
										</th>
										<th ng-if="configuracionVentaVista.mostrar_total">
											<label>SUJETO A DF</label>
										</th>
										<th ng-if="tipoEgreso==diccionario.EGRE_BAJA">
											<label>Observaciones</label>
										</th>
										<th>
											<label>ACCIONES</label>
										</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="detalleVenta in venta.detallesVenta|filter:{eliminado:false}">
										<td>
											{{$index+1}}
										</td>
										<td ng-if="configuracionVentaVista.mostrar_producto">
											{{detalleVenta.producto.nombre}}
										</td>
										<td ng-if="configuracionVentaVista.mostrar_codigo_producto">
											{{detalleVenta.producto.codigo}}
										</td>
										<td ng-if="configuracionVentaVista.mostrar_unidad_producto">
											{{detalleVenta.producto.unidad_medida}}
										</td>
										<td ng-if="configuracionVentaVista.mostrar_precio_unitario">
											<input class="form-control" type="number" ng-change="calcularImporteDetalle(detalleVenta)" ng-if="!usuario.empresa.ver_costos_dolares && !venta.ver_dolares" required ng-model=detalleVenta.precio_unitario />
											<div ng-show="detalleVenta.precio_unitario == null" class="">
												<span class="invalid-message">El P/U no debe estar vacio</span>
											</div>
											<input class="form-control" type="number" ng-if="usuario.empresa.ver_costos_dolares && venta.ver_dolares" ng-model=detalleVenta.precio_unitario_dolares />
										</td>
										<td ng-if="configuracionVentaVista.mostrar_cantidad">
											{{detalleVenta.cantidad}}
										</td>
										<td
											ng-if="configuracionVentaVista.mostrar_fecha_vencimiento && usuario.empresa.usar_vencimientos">
											{{detalleVenta.fecha_vencimiento | date:"dd/MM/yyyy"}}
										</td>
										<td
											ng-if="configuracionVentaVista.mostrar_lote && usuario.empresa.usar_vencimientos">
											{{detalleVenta.lote}}
										</td>
										<td ng-if="configuracionVentaVista.mostrar_importe">
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
											detalleVenta.importe_dolares :
											detalleVenta.importe) | number: 2}}
										</td>
										<td ng-if="configuracionVentaVista.mostrar_descuento">
											{{(detalleVenta.total_descuento !== undefined ?
											(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
											detalleVenta.total_descuento_dolares : detalleVenta.total_descuento) :
											(usuario.empresa.ver_costos_dolares &&
											venta.ver_dolares ? detalleVenta.descuento_dolares :
											detalleVenta.descuento)) | number: 2}}
											<!--&nbsp;{{detalleVenta.tipo_descuento ? '('+detalleVenta.descuento+'%)':''}}-->
										</td>
										<td ng-if="configuracionVentaVista.mostrar_recargo">
											{{(detalleVenta.total_recargo !== undefined ?
											(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
											detalleVenta.total_recargo_dolares : detalleVenta.total_recargo) :
											(usuario.empresa.ver_costos_dolares &&
											venta.ver_dolares ? detalleVenta.recargo_dolares : detalleVenta.recargo)) |
											number: 2}}
											<!--&nbsp;{{detalleVenta.tipo_recargo ? '('+detalleVenta.recargo+'%)':''}}-->
										</td>
										<td ng-if="configuracionVentaVista.mostrar_ice">
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
											detalleVenta.ice_dolares : detalleVenta.ice) |
											number: 2}}
										</td>
										<td ng-if="configuracionVentaVista.mostrar_excento">
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
											detalleVenta.excento_dolares :
											detalleVenta.excento) | number: 2 }}
										</td>
										<td ng-if="configuracionVentaVista.mostrar_total">
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
											detalleVenta.total_dolares : detalleVenta.total)
											| number: 2}}
										</td>
										<td ng-if="tipoEgreso==diccionario.EGRE_BAJA">
											{{detalleVenta.observaciones}}
										</td>
										<td>
											<a ng-if="!detalleVenta.id" class="red" href="javascript:void(0)"
												ng-click="eliminarDetalleSalida(detalleVenta)">
												<i class="ace-icon fa fa-trash-o bigger-130"></i>
											</a>
											<a ng-if="detalleVenta.id" class="red" href="javascript:void(0)"
												ng-click="eliminarDetalleVentaEdicion(detalleVenta)">
												<i class="ace-icon fa fa-trash-o bigger-130"></i>
											</a>
										</td>
									</tr>
									<tr>
										<td>

										</td>
										<td ng-if="configuracionVentaVista.mostrar_producto">
											<b>TOTALES</b>
										</td>
										<td ng-if="configuracionVentaVista.mostrar_codigo_producto">

										</td>
										<td ng-if="configuracionVentaVista.mostrar_unidad_producto">

										</td>
										<td ng-if="configuracionVentaVista.mostrar_precio_unitario">

										</td>
										<td ng-if="configuracionVentaVista.mostrar_cantidad">

										</td>
										<td
											ng-if="configuracionVentaVista.mostrar_fecha_vencimiento && usuario.empresa.usar_vencimientos">

										</td>
										<td
											ng-if="configuracionVentaVista.mostrar_lote && usuario.empresa.usar_vencimientos">

										</td>
										<td ng-if="configuracionVentaVista.mostrar_importe">
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
											venta.importe_dolares : venta.importe) | number:
											2}}
										</td>
										<td ng-if="configuracionVentaVista.mostrar_descuento">
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
											venta.total_descuento_dolares :
											venta.total_descuento_general) | number: 2}}
										</td>
										<td ng-if="configuracionVentaVista.mostrar_recargo">
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
											venta.total_recargo_dolares :
											venta.total_recargo_general) | number: 2}}
										</td>
										<td ng-if="configuracionVentaVista.mostrar_ice">
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
											venta.total_ice_dolares : venta.total_ice) |
											number: 2 }}
										</td>
										<td ng-if="configuracionVentaVista.mostrar_excento">
											{{venta.total_exento| number: 2}}
										</td>
										<td ng-if="configuracionVentaVista.mostrar_total">
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
											venta.total_dolares : venta.total)| number: 2}}
										</td>
										<td>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
				<div class="widget-box" ng-if="tipoEgreso==diccionario.EGRE_SERVICIO">
					<div class="widget-header" ng-if="venta.detallesVenta.length>0">
						<div class="row">
							<div class="col-sm-6">
								<h4 class="widget-title">DETALLE DE VENTA</h4>
							</div>
							<div class="col-sm-6">
								<div class="inline pos-rel pull-right">
									<a data-toggle="dropdown" href="javascript:void(0)" class="dropdown-toggle">
										<i class="glyphicon  glyphicon-list-alt"></i>
									</a>

									<ul id="campos-detalle-venta"
										class="dropdown-menu-right dropdown-menu dropdown-yellow dropdown-caret">
										<li>
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-model="configuracionVentaVista.mostrar_producto"
													ng-change="guardarConfiguracionVentaVista()" />
												<span class="lbl check-descuento"></span>
											</label>
											<label>NOMBRE</label>
										</li>

										<!-- <li>
												<label>
													<input class="ace ace-switch ace-switch-4" type="checkbox" ng-model="configuracionVentaVista.mostrar_codigo_producto" ng-change="guardarConfiguracionVentaVista()"
													/>
													<span class="lbl check-descuento"></span>
												</label>
												<label>CÓD. ITEM</label>
											</li>
											<li>
												<label>
													<input class="ace ace-switch ace-switch-4" type="checkbox" ng-model="configuracionVentaVista.mostrar_unidad_producto" ng-change="guardarConfiguracionVentaVista()"
													/>
													<span class="lbl check-descuento"></span>
												</label>
												<label>UNID. MED.</label>
											</li>
											<li>
												<label>
													<input class="ace ace-switch ace-switch-4" type="checkbox" ng-model="configuracionVentaVista.mostrar_precio_unitario" ng-change="guardarConfiguracionVentaVista()"
													/>
													<span class="lbl check-descuento"></span>
												</label>
												<label>P.U. (Bs/u)</label>
											</li>
											<li>
												<label>
													<input class="ace ace-switch ace-switch-4" type="checkbox" ng-model="configuracionVentaVista.mostrar_cantidad" ng-change="guardarConfiguracionVentaVista()"
													/>
													<span class="lbl check-descuento"></span>
												</label>
												<label>CANT. (u)</label>
											</li>
											<li ng-if="usuario.empresa.usar_vencimientos">
												<label>
													<input class="ace ace-switch ace-switch-4" type="checkbox" ng-model="configuracionVentaVista.mostrar_fecha_vencimiento" ng-change="guardarConfiguracionVentaVista()"
													/>
													<span class="lbl check-descuento"></span>
												</label>
												<label>VENC.</label>
											</li>
											<li ng-if="usuario.empresa.usar_vencimientos">
												<label>
													<input class="ace ace-switch ace-switch-4" type="checkbox" ng-model="configuracionVentaVista.mostrar_lote" ng-change="guardarConfiguracionVentaVista()"
													/>
													<span class="lbl check-descuento"></span>
												</label>
												<label>LOTE</label>
											</li> -->
										<li>
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-model="configuracionVentaVista.mostrar_importe"
													ng-change="guardarConfiguracionVentaVista()" />
												<span class="lbl check-descuento"></span>
											</label>
											<label>IMP.
												{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ? '($us)' :
												'(Bs)')}}</label>
										</li>
										<li>
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-model="configuracionVentaVista.mostrar_descuento"
													ng-change="guardarConfiguracionVentaVista()" />
												<span class="lbl check-descuento"></span>
											</label>
											<label>DESC. (-)</label>
										</li>
										<li>
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-model="configuracionVentaVista.mostrar_recargo"
													ng-change="guardarConfiguracionVentaVista()" />
												<span class="lbl check-descuento"></span>
											</label>
											<label>REC. (+)</label>
										</li>
										<li>
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-model="configuracionVentaVista.mostrar_ice"
													ng-change="guardarConfiguracionVentaVista()" />
												<span class="lbl check-descuento"></span>
											</label>
											<label>ICE (-)</label>
										</li>
										<li>
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-model="configuracionVentaVista.mostrar_excento"
													ng-change="guardarConfiguracionVentaVista()" />
												<span class="lbl check-descuento"></span>
											</label>
											<label>EXC. (-)</label>
										</li>
										<li>
											<label>
												<input class="ace ace-switch ace-switch-4" type="checkbox"
													ng-model="configuracionVentaVista.mostrar_total"
													ng-change="guardarConfiguracionVentaVista()" />
												<span class="lbl check-descuento"></span>
											</label>
											<label>SUJETO A DF</label>
										</li>
										<li class="divider"></li>
									</ul>
								</div>
							</div>
						</div>
					</div>
					<div class="widget-body" ng-if="venta.detallesVenta.length>0">
						<div class="widget-main">
							<table class="table table-striped table-bordered table-hover">
								<thead>
									<tr>
										<th>
											<label>#</label>
										</th>
										<th ng-if="configuracionVentaVista.mostrar_producto">
											<label>NOMBRE</label>
										</th>
										<th>
											<label>DESCRIPCION</label>
										</th>
										<!-- <th ng-if="configuracionVentaVista.mostrar_codigo_producto">
												<label>CÓD. ITEM</label>
											</th>
											<th ng-if="configuracionVentaVista.mostrar_unidad_producto">
												<label>UNID. MED.</label>
											</th>
											<th ng-if="configuracionVentaVista.mostrar_precio_unitario">
												<label>P.U. (Bs/u)</label>
											</th>
											<th ng-if="configuracionVentaVista.mostrar_cantidad">
												<label>CANT. (u)</label>
											</th>
											<th ng-if="configuracionVentaVista.mostrar_fecha_vencimiento && usuario.empresa.usar_vencimientos">
												<label>VENC.</label>
											</th>
											<th ng-if="configuracionVentaVista.mostrar_lote && usuario.empresa.usar_vencimientos">
												<label>LOTE</label>
											</th> -->
										<th ng-if="configuracionVentaVista.mostrar_importe">
											<label>IMP.
												{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ? '($us)' :
												'(Bs)')}}</label>
										</th>
										<th ng-if="configuracionVentaVista.mostrar_descuento">
											<label>DESC. (-)</label>
										</th>
										<th ng-if="configuracionVentaVista.mostrar_recargo">
											<label>REC. (+)</label>
										</th>
										<th ng-if="configuracionVentaVista.mostrar_ice">
											<label>ICE (-)</label>
										</th>
										<th ng-if="configuracionVentaVista.mostrar_excento">
											<label>EXC. (-)</label>
										</th>
										<th ng-if="configuracionVentaVista.mostrar_total">
											<label>SUJETO A DF</label>
										</th>

										<th>
											<label>ACCIONES</label>
										</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="detalleVenta in venta.detallesVenta|filter:{eliminado:false}">
										<td>
											{{$index+1}}
										</td>
										<td ng-if="configuracionVentaVista.mostrar_producto">
											{{detalleVenta.servicio.nombre}}
										</td>
										<td ng-if="configuracionVentaVista.mostrar_producto">
											{{detalleVenta.observaciones}}
										</td>
										<!-- <td ng-if="configuracionVentaVista.mostrar_codigo_producto">
												{{detalleVenta.producto.codigo}}
											</td>
											<td ng-if="configuracionVentaVista.mostrar_unidad_producto">
												{{detalleVenta.producto.unidad_medida}}
											</td>
											<td ng-if="configuracionVentaVista.mostrar_precio_unitario">
												{{detalleVenta.precio_unitario}}
											</td>
											<td ng-if="configuracionVentaVista.mostrar_cantidad">
												{{detalleVenta.cantidad}}
											</td>
											<td ng-if="configuracionVentaVista.mostrar_fecha_vencimiento && usuario.empresa.usar_vencimientos">
												{{detalleVenta.fecha_vencimiento | date:"dd/MM/yyyy"}}
											</td>
											<td ng-if="configuracionVentaVista.mostrar_lote && usuario.empresa.usar_vencimientos">
												{{detalleVenta.lote}}
											</td> -->
										<td ng-if="configuracionVentaVista.mostrar_importe">
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
											detalleVenta.importe_dolares :
											detalleVenta.importe) | number : 2}}
										</td>
										<td ng-if="configuracionVentaVista.mostrar_descuento">
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
											detalleVenta.descuento_dolares :
											detalleVenta.descuento) | number : 2}}
										</td>
										<td ng-if="configuracionVentaVista.mostrar_recargo">
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
											detalleVenta.recargo_dolares :
											detalleVenta.recargo) | number : 2}}
										</td>
										<td ng-if="configuracionVentaVista.mostrar_ice">
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
											detalleVenta.ice_dolres : detalleVenta.ice) |
											number : 2}}
										</td>
										<td ng-if="configuracionVentaVista.mostrar_excento">
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
											detalleVenta.excento_dolares :
											detalleVenta.excento) | number : 2}}
										</td>
										<td ng-if="configuracionVentaVista.mostrar_total">
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
											detalleVenta.total_dolares : detalleVenta.total)
											| number : 2}}
										</td>
										<td>
											<a class="red" href="javascript:void(0)"
												ng-click="eliminarDetalleVenta(detalleVenta)">
												<i class="ace-icon fa fa-trash-o bigger-130"></i>
											</a>
										</td>
									</tr>
									<tr>
										<td>

										</td>
										<td ng-if="configuracionVentaVista.mostrar_producto">
											<b>TOTALES</b>
										</td>
										<td>

										</td>
										<!-- <td ng-if="configuracionVentaVista.mostrar_codigo_producto">
	
											</td>
											<td ng-if="configuracionVentaVista.mostrar_unidad_producto">
	
											</td>
											<td ng-if="configuracionVentaVista.mostrar_precio_unitario">
	
											</td>
											<td ng-if="configuracionVentaVista.mostrar_cantidad">
	
											</td>
											<td ng-if="configuracionVentaVista.mostrar_fecha_vencimiento && usuario.empresa.usar_vencimientos">
	
											</td>
											<td ng-if="configuracionVentaVista.mostrar_lote && usuario.empresa.usar_vencimientos">
	
											</td> -->
										<td ng-if="configuracionVentaVista.mostrar_importe">
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
											venta.importe_dolares : venta.importe) | number
											: 2}}
										</td>
										<td ng-if="configuracionVentaVista.mostrar_descuento">

										</td>
										<td ng-if="configuracionVentaVista.mostrar_recargo">

										</td>
										<td ng-if="configuracionVentaVista.mostrar_ice">

										</td>
										<td ng-if="configuracionVentaVista.mostrar_excento">
										</td>
										<td ng-if="configuracionVentaVista.mostrar_total">
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
											venta.total_dolares : venta.total) | number :
											2}}
										</td>
										<td>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- PAGE CONTENT ENDS -->

	<div id="modal-wizard-venta-vista" class="modal wizard-posicion">
		<div class="row">
			<div class="col-sm-12">
				<div class="widget-box">
					<div class="widget-header">
						<h4 class="widget-title">DATOS DE VENTA</h4>
						&nbsp;
						<button class="btn btn-danger" ng-click="cerrarPopupVista()">
							<i class="ace-icon fa fa-times red2 align-top bigger-125"></i>
							CERRAR
						</button>
						<button class="btn btn-warning" ng-if="venta.activa && (venta.movimiento.clase.nombre_corto==diccionario.EGRE_FACTURACION || venta.movimiento.clase.nombre_corto==diccionario.EGRE_PROFORMA || venta.movimientoServicio.nombre_corto==diccionario.EGRE_SERVICIO)"
							ng-click="mostrarConfirmacionEliminacionVenta(venta)">
							<i class="ace-icon fa fa-trash-o align-top bigger-125"></i>
							ANULAR
						</button>
					</div>

					<div class="widget-body">
						<div class="widget-main">
							<table class="table table-striped table-bordered table-hover">
								<tr>
									<td>
										<label>NIT</label>
									</td>
									<td>
										{{venta.cliente.nit}}
									</td>
									<td>
										<label>RAZÓN SOCIAL</label>
									</td>
									<td>
										{{venta.cliente.razon_social}}
									</td>
									<td>
										<label>NÚM. FACTURA</label>
									</td>
									<td>
										{{venta.factura}}
									</td>
								</tr>
								<tr>
									<td>
										<label>NÚM. AUTORIZACIÓN</label>
									</td>
									<td>
										{{venta.autorizacion}}
									</td>
									<td>
										<label>FECHA</label>
									</td>
									<td>
										{{venta.fecha | date:"dd/MM/yyyy"}}
									</td>
									<td>
										<label>CÓDIGO DE CONTROL</label>
									</td>
									<td>
										{{venta.codigo_control}}
									</td>
								</tr>
								<tr>
									<td>
										<label>SUCURSAL</label>
									</td>
									<td ng-if="venta.almacen">
										{{venta.almacen.sucursal.nombre}}
									</td>
									<td ng-if="venta.sucursal">
										{{venta.sucursal.nombre}}
									</td>
									<td>
										<label>ALMACEN</label>
									</td>
									<td>
										{{venta.almacen.nombre}}
									</td>
									<td>

									</td>
									<td>

									</td>
								</tr>
								<tr>
									<td>
										TIPO DE PAGO : {{venta.tipoPago.nombre}}
									</td>
									<td ng-if="venta.saldo">
										DIAS : {{venta.dias_credito}}
									</td>
									<td ng-if="venta.saldo">
										SUJETO A DF : {{venta.total}}
									</td>
									<td ng-if="venta.saldo">
										A CUENTA
										{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ? '($us)' : '(Bs)')}}
										:
										{{venta.a_cuenta}}
									</td>
									<td ng-if="venta.saldo">
										SALDO : {{venta.saldo}}
									</td>
								</tr>
								<tr>
									<td>
										PAGADO :
										{{usuario.empresa.ver_costos_dolares && venta.ver_dolares ? venta.pagado_dolares
										: venta.pagado}}
									</td>
									<td>
										CAMBIO :
										{{usuario.empresa.ver_costos_dolares && venta.ver_dolares ? venta.cambio_dolares
										: venta.cambio}}
									</td>
								</tr>
							</table>
						</div>
					</div>
				</div>
				<div class="space-6"></div>
				<div class="widget-header" ng-if="venta.detallesVenta.length>0">
					<h4 class="widget-title">DETALLE DE VENTA</h4>
				</div>
				<div class="widget-body" ng-if="venta.detallesVenta.length>0">
					<div class="widget-main">
						<table class="table table-striped table-bordered table-hover">
							<thead>
								<tr>
									<th>
										<label>NOMBRE</label>
									</th>
									<th>
										<label>CÓDIGO ITEM</label>
									</th>
									<th>
										<label>UNIDAD DE MEDIDA</label>
									</th>
									<th>
										<label>PRECIO UNITARIO
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ? '($us)' :
											'(Bs)')}}</label>
									</th>
									<th>
										<label>CANTIDAD (u)</label>
									</th>
									<th>
										<label>IMPORTE
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ? '($us)' :
											'(Bs)')}}</label>
									</th>
									<th ng-if="!venta.usar_descuento_general">
										<label>DESCUENTOS (-)</label>
									</th>
									<th ng-if="!venta.usar_descuento_general">
										<label>RECARGOS (+)</label>
									</th>
									<th ng-if="!venta.usar_descuento_general">
										<label>ICE (-)</label>
									</th>
									<th ng-if="!venta.usar_descuento_general">
										<label>EXCENTOS (-)</label>
									</th>
									<th>
										<label>SUJETO A DF</label>
									</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="detalleVenta in venta.detallesVenta">
									<td>
										<p>{{detalleVenta.producto.nombre}}</p>
										<p>{{detalleVenta.servicio.nombre}}</p>
									</td>
									<td>
										{{detalleVenta.producto.codigo}}
									</td>
									<td>
										{{detalleVenta.producto.unidad_medida}}
									</td>
									<td>
										{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
										detalleVenta.precio_unitario_dolares :
										detalleVenta.precio_unitario) | number : 2}}
									</td>
									<td>
										{{detalleVenta.cantidad}}
									</td>
									<td>
										{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
										detalleVenta.importe_dolares :
										detalleVenta.importe) | number : 2}}
									</td>
									<td ng-if="!venta.usar_descuento_general">
										{{usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
										detalleVenta.descuento_dolares :
										detalleVenta.descuento}}
									</td>
									<td ng-if="!venta.usar_descuento_general">
										{{usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
										detalleVenta.recargo_dolares :
										detalleVenta.recargo}}
									</td>
									<td ng-if="!venta.usar_descuento_general">
										{{usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
										detalleVenta.ice_dolares : detalleVenta.ice}}
									</td>
									<td ng-if="!venta.usar_descuento_general">
										{{usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
										detalleVenta.excento_dolares :
										detalleVenta.excento}}
									</td>
									<td>
										{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
										detalleVenta.total_dolares :
										detalleVenta.total)}}
									</td>
								</tr>
								<tr>
									<td>
										<b>TOTALES</b>
									</td>
									<td>

									</td>
									<td>

									</td>
									<td>

									</td>
									<td>

									</td>
									<td>
										{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
										venta.importe_dolares : venta.importe)}}
									</td>
									<td ng-if="!venta.usar_descuento_general">

									</td>
									<td ng-if="!venta.usar_descuento_general">

									</td>
									<td ng-if="!venta.usar_descuento_general">

									</td>
									<td ng-if="!venta.usar_descuento_general">

									</td>
									<td>
										{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ? venta.total_dolares
										: venta.total)}}
									</td>
									<td>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div id="dialog-pago" title="Cobro deuda pendiente" class="modal">
		<form name="formularioPago" novalidate ng-submit="efectuarPago(pago)">

			<div ng-if="venta.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO"
				class="hidden-sm hidden-xs action-buttons">
				<p class="center">{{venta.cliente.razon_social}}</p>
				<p class="center">
					<b>{{venta.movimiento.clase.nombre}} Nro </b>{{venta.factura}}
				</p>
				<b>Plazo: </b>{{venta.dias_credito}} días&nbsp
				<b>A cuenta: Bs. </b>{{venta.a_cuenta}}&nbsp
				<b>Saldo: Bs. </b>{{venta.saldo}}&nbsp
				<b>Importe: Bs. </b>I{{venta.total}}&nbsp

			</div>
			<p>
				<span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>¿Ingrese el monto a
				pagar?
			</p>
			<input required ng-model="pago" min="1" max="venta.saldo" type="number" step="0.001">
			<button type="submit" class="btn btn-success" ng-disabled="formularioPago.$invalid">Pagar</button>
			<button type="button" class="btn btn-danger" ng-click="cerrarPopupPago()">Cancelar</button>
		</form>
	</div>
	<div id="dialog-cierre-caja" title="Cierre de Caja" class="modal">
		<form name="formularioCierre" novalidate ng-submit="cerrarCaja(cierre)">
			<div class="col sm 12" align="center">
				<p>
					<span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>¿Ingrese los
					datos
					para el
					cierre
					de caja?
				</p>
				<label>Saldo inicial en caja</label>

			</div>
			<div class="col sm 12" align="center">
				<input required ng-model="cierre.saldo_inicial" min="0" max="venta.saldo" type="number" step="0.001">
			</div>
			<div class="col sm 12" align="center">
				<label>Gastos realizados durante el dia</label>
			</div>
			<div class="col sm 12" align="center">
				<input required ng-model="cierre.gastos" min="0" max="venta.saldo" type="number" step="0.001">
			</div>
			<div class="col sm 12" align="center">
				<button type="submit" class="btn btn-success" ng-disabled="formularioCierre.$invalid">Generar
					Cierre</button>
				<button type="button" class="btn btn-danger" ng-click="cerrarPopupCierre()">Cancelar</button>
			</div>
		</form>
	</div>
	<canvas id="qr-code" style="display:none" width="100" height="100"></canvas>

	<div id="dialog-panel-ventas" class="modal wizard-posicion">
		<div></div>
		<div class="row">
			<div class="col-sm-12">
				<div class="widget-boxx">
					<form id="formularioVentaPanel" name="formularioVentaPanel" novalidate
						ng-submit="guardarVentaPanel(formularioVentaPanel.$valid,venta)">
						<div class="widget-body">
							<div class="widget-main {{color.style}}">
								<div class="row">
									<a type="button" href="javascript:void(0)" class="red button-close-modal"
										ng-click="showHideFirstRow()">
										<i class="ace-icon fa fa-chevron-circle-down align-top bigger-280"></i>
									</a>
									<div class="col-xs-7 col-sm-7 col-lg-1 col-md-1 col-xl-1 hidden-md hidden-lg"
										align="center">
										<div class="group-color-button" style="height: 40px;">
											<button type="button" class="Vboton-verde-circle"
												ng-click="cambiarColor('green-style','green-style-button')"></button>
											<button type="button" class="Vboton-rojo-circle"
												ng-click="cambiarColor('red-style','red-style-button')"></button>
											<!-- circulo medio -->
											<div class=" hidden-xs hidden-sm Vpunto"></div>
											<button type="button" class="Vboton-azul-circle"
												ng-click="cambiarColor('skyblue-style','skyblue-style-button')"></button>
											<button type="button" class="Vboton-cafe-circle"
												ng-click="cambiarColor('brown-style','brown-style-button')"></button>
										</div>
									</div>
									<div class="col-xs-3 col-sm-3 hidden-md col-lg-2 hidden-lg text-center">
										<div class="">
											<label class="control-label label-responsive"
												style="font-size:15px"><b>TOTAL :<span
														class="hidden-md hidden-lg">{{venta.total}}</span>
												</b></label>
										</div>
									</div>
									<a type="button" href="javascript:void(0)" class="red pull-right button-close-modal"
										ng-click="cerrarPopupPanel()">
										<i class="ace-icon fa fa-times-circle-o align-top bigger-280"></i>
									</a>

									<div class="col-xs-12 col-sm-12">

										<div class="row first-row">

											<div class="col-xs-6 col-sm-6 col-lg-2 col-md-2 col-xl-2"
												ng-if="tipoEgreso==diccionario.EGRE_FACTURACION || tipoEgreso==diccionario.EGRE_PROFORMA">
												<label>FECHA</label>
												<input data-validate="validate(required)" required ng-update-hidden
													class="form-control date-picker" type="text"
													data-date-format="dd/mm/yyyy" id="fechaP"
													ng-model="venta.fechaTexto" placeholder="Ingrese la fecha" />
											</div>
											<div class="col-xs-6 col-sm-6 col-lg-2 col-md-2 col-xl-2">
												<label>MOVIMIENTO</label>
												<select class="form-control" data-validate="validate(required)" required
													id="movimiento" name="movimiento" ng-model="venta.movimiento"
													data-placeholder="Click para escoger"
													ng-change="obtenerTipoEgreso(venta.movimiento)"
													ng-options="movimiento as movimiento.nombre for movimiento in movimientosEgreso track by movimiento.id">
													<!--<option ng-disabled="movimiento.nombre_corto==diccionario.EGRE_AJUSTE" ng-repeat="movimiento in movimientosEgreso" value="{{movimiento.id}}-{{movimiento.nombre_corto}}">{{movimiento.nombre}}</option>-->
												</select>
											</div>
											<div class="col-xs-6 col-sm-6 col-lg-2 col-md-2 col-xl-2"
												ng-if="tipoEgreso==diccionario.EGRE_FACTURACION">
												<label>ACTIVIDAD</label>
												<select class="form-control" data-validate="validate(required)" required
													id="actividad" name="actividad" ng-model="venta.actividad"
													ng-options="actividad as actividad.nombre for actividad in actividades track by actividad.id"
													data-placeholder="Click para escoger"></select>
											</div>
											<div class="col-xs-6 col-sm-6 col-lg-2 col-md-2 col-xl-2">
												<label>SUCURSAL</label>
												<select class="form-control" data-validate="validate(required)" required
													id="sucursalVentaPanel" name="sucursal"
													ng-options="sucursal as sucursal.nombre for sucursal in sucursales track by sucursal.id"
													ng-model="venta.sucursal"
													ng-change="obtenerAlmacenesActividades(venta.sucursal.id)">
												</select>
											</div>

											<div class="col-xs-6 col-sm-6 col-lg-1 col-md-1 col-xl-1">
												<label>ALMACEN</label>
												<select class="form-control" ng-change="cargarProductos()"
													data-validate="validate(required)" required id="almacen-v"
													name="almacen-v" ng-model="venta.almacen"
													ng-options="almacen as almacen.nombre for almacen in almacenes track by almacen.id"
													data-placeholder="Click para escoger"></select>
											</div>
											<div class="col-xs-6 col-sm-6 col-lg-2 col-md-2 col-xl-2"
												ng-if="tipoEgreso==diccionario.EGRE_FACTURACION || tipoEgreso==diccionario.EGRE_PROFORMA">
												<label>TIPO DE PAGO</label>
												<select class="form-control" data-validate="validate(required)" required
													id="pago" name="pago" ng-model="venta.tipoPago"
													data-placeholder="Elija un tipo de pago"
													ng-change="cambiarTipoPago(venta)"
													ng-options="tipoPago as tipoPago.nombre for tipoPago in tiposPago track by tipoPago.id">
												</select>
												<div class="space-4"></div>
											</div>

											<div
												class="col-xs-6 col-sm-6 col-lg-1 col-md-1 col-xl-1 hidden-sm hidden-xs">
												<div class="group-color-button" style="width: 80px">
													<button type="button" class="btn Vboton-verde"
														ng-click="cambiarColor('green-style','green-style-button')"></button>
													<button type="button" class="btn Vboton-rojo"
														ng-click="cambiarColor('red-style','red-style-button')"></button>
													<!-- circulo medio -->
													<div class="Vpunto"></div>
													<button type="button" class="btn Vboton-azul"
														ng-click="cambiarColor('skyblue-style','skyblue-style-button')"></button>
													<button type="button" class="btn Vboton-cafe"
														ng-click="cambiarColor('brown-style','brown-style-button')"></button>
												</div>

											</div>

										</div>


										<div class="row first-row">
											<div class="col-xs-6 col-sm-6 col-lg-2 col-md-2 col-xl-2"
												ng-if="venta.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO">
												<label>DIAS</label>
												<input data-validate="validate(required)" required type="number"
													ng-model="venta.dias_credito" class="form-control" />
											</div>
											<div class="col-xs-6 col-sm-6 col-lg-2 col-md-2 col-xl-2"
												ng-if="venta.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO">
												<label>SUJETO A CF</label>
												<input disabled type="number" step="0.001" ng-model="venta.total"
													class="form-control" />
											</div>
											<div class="col-xs-6 col-sm-6 col-lg-2 col-md-2 col-xl-2"
												ng-if="venta.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO">
												<label>A CUENTA (Bs)</label>
												<input data-validate="validate(required)" required type="number"
													step="0.001" ng-model="venta.a_cuenta" value="0.0"
													class="form-control" ng-change="calcularSaldo()" />
											</div>
											<div class="col-xs-6 col-sm-6 col-lg-2 col-md-2 col-xl-2"
												ng-if="venta.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO">
												<label>SALDO</label>
												<input disabled type="number" step="0.001" ng-model="venta.saldo"
													class="form-control" />
												<div class="space-4"></div>
											</div>
											<div class="col-xs-6 col-sm-6 col-lg-2 col-md-2 col-xl-2"
												ng-if="venta.tipoPago.nombre_corto==diccionario.TIPO_PAGO_TARJETA_CREDITO">
												<label>Nro:.</label>
												<input data-validate="validate(required)" type="number"
													ng-model="venta.numero_tarjeta_credito" class="form-control" />
											</div>

											<div class="col-xs-6 col-sm-6 col-lg-2 col-md-2 col-xl-2"
												ng-if="venta.tipoPago.nombre_corto==diccionario.TIPO_PAGO_TARJETA_CREDITO">
												<label>Bs:.</label>
												<input data-validate="validate(required)" required type="number"
													disabled ng-model="venta.monto_tarjeta_credito"
													class="form-control" />
												<div class="space-4"></div>
											</div>
										</div>
										<div class="row nit-row">
											<div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
												<div class="align-panel-search">
													<a href="javascript:void(0)" class="white"
														ng-click="ordenarProductos(ordenProductos)">
														<i class="fa fa-sort-amount-desc bigger-200" aria-hidden="true"
															ng-if="ordenProductos"></i>
														<i class="fa fa-sort-amount-asc bigger-200" aria-hidden="true"
															ng-if="!ordenProductos"></i>
													</a>
												</div>
											</div>

											<div class="col-xs-3 col-sm-3 col-md-3 col-lg-2">
												<div class="align-panel-search">
													<a popover-placement="bottom" href="javascript:void(0)"
														popover-enable="venta.almacen" popover-is-open="popoverIsOpen"
														uib-popover-template="dynamicPopoverGrupos.templateUrl"
														popover-trigger="outsideClick: outsideClick"
														popover-title="Grupos" popover-append-to-body="false"
														class="white pull-right">
														<i class="fa fa-list-ol bigger-200" aria-hidden="true"></i>
													</a>
													<label class="label-responsive">{{grupoSeleccionado.nombre}}</label>
												</div>


												<script type="text/ng-template" id="myPopoverTemplateGrupos.html">
													<div class="form-group">
													
														<div ng-if="grupos_productos.length>0">
															<div class="row">
																	<div class="col-xs-8">
																			<input type="text" ng-model="filtroGrupo.nombre" class="from-control">
																		</div>
																<div class="inline pos-rel pull-left col-xs-4">
																	<a data-toggle="dropdown" href="javascript:void(0)"
																		class="btn btn-danger btn-sm dropdown-toggle"
																		aria-expanded="false">
																		<i class="glyphicon  glyphicon-list-alt"></i>
																		<span class="caret"></span>
																	</a>
	
																	<ul id="campos-detalle-venta"
																		class="dropdown-menu-right dropdown-menu dropdown-yellow dropdown-caret button-check-group">
	
																		<input type="text" ng-model="filterText"
																			class="imput-search">
																		<li ng-repeat="grupo in grupos_productos">
	
	
																			<div class="checkbox">
																				<label class="block"
																					ng-show="grupo.nombre.toUpperCase().search(filterText.toUpperCase()) !== -1">
																					<input name="form-field-checkbox"
																						type="checkbox" class="ace input-lg"
																						ng-model="grupo.selected"
																						ng-click="saveCheckList()">
																					<span class="lbl bigger-120 text-primary">
																						{{grupo.nombre}}</span>
																				</label>
																			</div>
																		</li>
	
	
																		<li class="divider"></li>
																	</ul>
																</div>
	
															</div>
															
															<div class="row" style="height:400px !important;overflow: auto;">
																	<div class="col-xs-6">
																			<button type="button" ng-click="clasificarGrupo()"
																				class="button-style btn-panel btn-info btn-block btn-mini text-cut">Todos
																			</button>
																		</div>
																<div class="col-xs-6"
																	ng-repeat="grupo in listChecked |filter:filtroGrupo">
																	<button type="button" ng-click="clasificarGrupo(grupo)"
																		class="button-style btn-panel btn-info btn-block btn-mini text-cut"><b>{{grupo.nombre}}</b>
																	</button>
																</div>
															</div>
														</div>
														</div>
													</div>
														</script>
											</div>
											<div class="col-xs-7 col-sm-7 col-md-4 col-lg-6">
												<div class="" data-barcode-scanner="barcodeScanned">
													<input type="text" class="form-control align-panel-search"
														placeholder="Buscar" id="inputGroup" ng-model="search" />
												</div>
											</div>
											<div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
												<div class="align-panel-search">
													<div ng-click="proformaClick(venta)" id="venta-proforma"
														class="btn-directo infobox-icon btn btn-xs {{color.style}}">
														<i class="ace-icon fa fa-shopping-cart bigger-220"></i>
													</div>
												</div>
											</div>
											<div class="hidden-xs hidden-sm col-md-2 col-lg-2 text-center">
												<div class="" data-barcode-scanner="barcodeScanned">
													<label class="control-label align-panel-search"
														style="font-size:17px">
														<b>TOTAL :<span> {{venta.total}}</span>
														</b>
													</label>
												</div>
											</div>
										</div>
										<div class="space-4"></div>


										<!--- =================== aqui la tabla resonsive ========== -->

										<!-- ================= aqui termina ================== -->
									</div>
								</div>
								<div class="row">
									<div class="content"
										style="position: absolute;z-index: 1000 !important; margin-top: -5px!important;">
										<div class="panel-group accordion" id="accordion">
											<div class="panel panel-default">
												<div class="panel-heading" data-toggle="collapse"
													data-parent="#accordion" data-target="#collapseOne">
													<h4 class="panel-title">
														<a href="javascript:void(0)">
															<span
																class="toggle-icon glyphicon glyphicon-chevron-down"></span>

														</a>

													</h4>
												</div>
												<div id="collapseOne" class="panel-collapse collapse in">
													<div class="panel-body">
														<div class="cont ScrollStyle">
															<h4 class="header blue lighter bigger">
																<!-- <img src="img/CAJERA.png" width="8%"> -->
																<i class="fa fa-file-text-o bigger-150"
																	aria-hidden="true"></i>
																Datos de la Venta
															</h4>

															<div class="row">
																<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6"
																	ng-if="tipoEgreso==diccionario.EGRE_FACTURACION || tipoEgreso==diccionario.EGRE_PROFORMA">
																	<label class="control-label label-responsive">NIT
																		CLIENTE</label>
																	<input
																		ng-keypress="buscarNit($event,venta.cliente.nit)"
																		ng-keyup="buscarNit($event,venta.cliente.nit)"
																		data-validate="validate(required)" id="nitP"
																		required type="number" min="0"
																		ng-model="venta.cliente.nit"
																		placeholder="Ingrese el NIT"
																		class="form-control">
																	<!--uib-typeahead="cliente as cliente.nit for cliente in buscarCliente($viewValue)" typeahead-wait-ms="5000"
																				typeahead-template-url="templates/autocompletar.html" typeahead-show-hint="false"
																				typeahead-min-length="0" typeahead-on-select="establecerCliente($item, $model, $label, $event)"-->
																</div>
																<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6"
																	ng-if="tipoEgreso==diccionario.EGRE_FACTURACION || tipoEgreso==diccionario.EGRE_PROFORMA">
																	<label class="control-label label-responsive">RAZÓN
																		SOCIAL CLIENTE</label>
																	<input ng-keyup="capturarInteraccion()"
																		data-validate="validate(required)"
																		id="razon_socialP" required type="text"
																		ng-model="venta.cliente.razon_social"
																		placeholder="Ingrese la Razon Social"
																		class="form-control">
																	<!--uib-typeahead="cliente as cliente.razon_social for cliente in buscarCliente($viewValue)" typeahead-wait-ms="500"
																				typeahead-template-url="templates/autocompletar.html" typeahead-show-hint="false"
																				typeahead-min-length="0" typeahead-on-select="establecerCliente($item, $model, $label, $event)"-->
																</div>

																<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
																	<label class="label-responsive">PAGADO(Bs):
																	</label>
																	<input ng-keyup="capturarInteraccion()" id="pagadoP"
																		name="pagado" data-validate="validate(required)"
																		required type="number" step="0.01"
																		min="{{pagoMinimo}}" ng-model="venta.pagado"
																		ng-change="calcularCambio()"
																		class="form-control" />
																	<span class="red">(*)</span>
																	<span class="invalid-message"
																		ng-show="formularioVenta.pagado.$dirty && formularioVenta.pagado.$invalid">
																		El pago debe ser superior a {{pagoMinimo}}.
																	</span>
																</div>
																<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
																	<label class="label-responsive">CAMBIO(Bs):
																	</label>
																	<input disabled type="number" step="0.01"
																		ng-model="venta.cambio" class="form-control" />
																	<div class="space-4"></div>
																	<button type="submit"
																		ng-disabled="venta.detallesVenta.length==0 || !formularioVentaPanel.$valid"
																		class="btn btn-success btn-sm button-guardar pull-right">
																		<i
																			class="ace-icon fa fa-floppy-o align-top bigger-110"></i>
																		GUARDAR
																	</button>

																</div>
																<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">

																</div>

															</div>
															<div class="scrolldetalle">
																<div class="space-4"></div>
																<table
																	class="table table-striped table-bordered table-hover">
																	<thead>
																		<tr>
																			<th class="hidden-sm hidden-xs">
																				<label>#</label>
																			</th>
																			<th>
																				<label>Cant.</label>
																			</th>
																			<th>
																				<label>Producto</label>
																			</th>
																			<th>
																				<label>comentario</label>
																			</th>
																			<th class="hidden-sm hidden-xs">
																				<label>P. U. (Bs)</label>
																			</th>
																			<th class="hidden-sm hidden-xs">
																				<label>Imp. (Bs)</label>
																			</th>
																			<th class="hidden-sm hidden-xs">
																				<label>Acciones</label>
																			</th>
																		</tr>
																	</thead>
																	<tbody>
																		<tr
																			ng-repeat="detalleVenta in venta.detallesVenta">
																			<td class="hidden-sm hidden-xs">
																				{{$index+1}}
																			</td>
																			<td>
																				{{detalleVenta.cantidad}}
																			</td>
																			<td>
																				{{detalleVenta.producto.nombre}}<span
																					ng-if="detalleVenta.promosCumple.length>0"
																					class="text-info">cantidad por
																					cumple:({{detalleVenta.cantidadPorCumple}})</span><span
																					class="text-info"
																					ng-if="detalleVenta.promocionActiva">({{detalleVenta.promo.nombre}})</span>
																				<P
																					class="text-info hidden-md hidden-lg">
																					P. U. (Bs):
																					{{detalleVenta.precio_unitario}}</P>
																				<P
																					class="text-info hidden-md hidden-lg">
																					Imp. (Bs):
																					{{detalleVenta.total |number:2}}
																				</P>
																				<p class="hidden-md hidden-lg">
																					<a href="javascript:void(0)"
																						e-disabled="detalleVenta.cantidadPorCumple==detalleVenta.cantidad"
																						ng-if="usuario.administrador_panel_venta"
																						ng-click="abrirModalEntregaDetalleVentaCliente(detalleVenta)"
																						class="button-style btn red-style-button btn-xs">
																						<i class="fa fa-birthday-cake bigger-110"
																							aria-hidden="true"></i>
																					</a>
																					<button type="button"
																						ng-click="disminuirDetalleVenta(detalleVenta)"
																						class="button-style btn red-style-button btn-xs">
																						<i
																							class="ace-icon fa fa-minus bigger-110"></i>
																					</button>

																					<button type="button"
																						ng-click="eliminarDetalleVenta(detalleVenta)"
																						class="button-style btn red-style-button btn-xs">
																						<i
																							class="ace-icon fa fa-trash-o bigger-110"></i>
																					</button>

																				</p>
																			</td>
																			<td>
																				<input type="text" class="form-control"
																					ng-model="detalleVenta.observaciones">
																			</td>
																			<td class="hidden-sm hidden-xs">
																				{{detalleVenta.precio_unitario}}
																			</td>
																			<td class="hidden-sm hidden-xs">
																				{{detalleVenta.total}}
																			</td>
																			<td class="hidden-sm hidden-xs">
																				<div class="row">
																					<div class="col-sm-6">
																						<a href="javascript:void(0)"
																							e-disabled="detalleVenta.cantidadPorCumple==detalleVenta.cantidad"
																							ng-if="usuario.administrador_panel_venta"
																							ng-click="abrirModalEntregaDetalleVentaCliente(detalleVenta)"
																							class="button-style btn red-style-button btn-xs">
																							<i class="fa fa-birthday-cake bigger-110"
																								aria-hidden="true"></i>
																						</a>
																						<button type="button"
																							ng-click="disminuirDetalleVenta(detalleVenta)"
																							class="button-style btn red-style-button btn-xs">
																							<i
																								class="ace-icon fa fa-minus bigger-110"></i>
																						</button>
																					</div>
																					<div class="col-sm-6">
																						<button type="button"
																							ng-click="eliminarDetalleVenta(detalleVenta)"
																							class="button-style btn red-style-button btn-xs">
																							<i
																								class="ace-icon fa fa-trash-o bigger-110"></i>
																						</button>
																					</div>
																				</div>

																			</td>
																		</tr>

																	</tbody>
																</table>
															</div>
															<div>

																<h3><b>TOTAL</b>
																	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
																	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
																	<b>{{venta.total}}</b>
																</h3>

															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>

									<!-- PAGE CONTENT BEGINS -->

									<!-- <div style="overflow: scroll;overflow-x: hidden;width: 405px;height: 480px;"
												ng-if="venta.detallesVenta.length>0" class="row">
												<div class="col-xs-12 table-responsive">
													<table class="table table-striped table-bordered table-hover">
														<thead>
															<tr>
																<th>
																	<label>#</label>
																</th>
																<th>
																	<label>Cant.</label>
																</th>
																<th>
																	<label>Producto</label>
																</th>
																<th>
																	<label>P. U. (Bs)</label>
																</th>
																<th>
																	<label>Imp. (Bs)</label>
																</th>
																<th>
																	<label>Acciones</label>
																</th>
															</tr>
														</thead>
														<tbody>
															<tr ng-repeat="detalleVenta in venta.detallesVenta">
																<td>
																	{{$index+1}}
																</td>
																<td>
																	{{detalleVenta.cantidad}}
																</td>
																<td>
																	{{detalleVenta.producto.nombre}}
																</td>
																<td>
																	{{detalleVenta.precio_unitario}}
																</td>
																<td>
																	{{detalleVenta.total}}
																</td>
																<td>
																	<div class="row">
																		<div class="col-sm-6">
																			<button type="button"
																				ng-click="disminuirDetalleVenta(detalleVenta)"
																				class="button-style btn red-style-button btn-xs">
																				<i class="ace-icon fa fa-minus bigger-110"></i>
																			</button>
																		</div>
																		<div class="col-sm-6">
																			<button type="button"
																				ng-click="eliminarDetalleVenta(detalleVenta)"
																				class="button-style btn red-style-button btn-xs">
																				<i
																					class="ace-icon fa fa-trash-o bigger-110"></i>
																			</button>
																		</div>
																	</div>
		
																</td>
															</tr>
															<tr>
																<td>
		
																</td>
																<td>
		
																</td>
																<td>
		
																</td>
																<td>
																	<b>TOTALES</b>
																</td>
																<td>
																	{{venta.total}}
																</td>
																<td>
		
																</td>
															</tr>
														</tbody>
													</table>
												</div>
											</div> -->


									<!-- /.col -->
									<div class="col-xs-1 col-sm-1 col-md-1 col-lg-4"></div>
									<div class="col-xs-11 col-sm-11  col-md-11 col-lg-12 pull-right">
										<!-- PAGE CONTENT BEGINS -->
										<div class="row" ng-if="venta.detallesVenta.length>0">
											<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

												<nav class="nav-grupo">
													<ul class="nav-list-grupo">
														<li data-rel="tooltip" data-placement="bottom"
															tooltip-append-to-body="true"
															uib-tooltip="{{detalleVenta.producto.nombre}}"
															ng-repeat="detalleVenta in venta.detallesVenta"><img
																ng-src="{{detalleVenta.producto.imagen}}"
																style="border-radius: 50%" height="40" width="40"><span
																class="badge badge-success">{{detalleVenta.cantidad}}</span>
														</li>

													</ul>
												</nav>

											</div>

										</div>
										<div class="row height-productos" id="scrollproducto"
											ng-if="!usar_productos_derivados_panel">
											<div id="productos" class="col-xs-12" infinite-scroll='getProductosPanel()'
												infinite-scroll-distance='0'
												infinite-scroll-container="'#scrollproducto'">
												<div>
													<div ng-if="!usar_productos_derivados_panel">
														<div ng-click="agregarDetalleVentaPanel(producto)"
															ng-if="producto.visible"
															class="button-panel-product btn-success swiper-slide productos-button"
															ng-repeat="producto in productosProcesados">
															<img ng-src="{{producto.imagen}}" width="100%"
																class="foto-producto">

															<label class="panel-cantidad" ng-if="producto.activar_inventario">{{producto.inventario_disponible}}</label>

															<div class="">
																<span class="label-holder precios-panel">
																	<span ng-if="!producto.promocionEnHora"
																		class="label label-warning arrowed-in">{{producto.precio_unitario}}
																		Bs</span>
																	<span ng-if="producto.promocionEnHora"
																		class="label label-warning arrowed-in">{{producto.promocionActual.precio}}
																		Bs</span>
																</span>
															</div>
															<span class="panel-promocion"
																uib-tooltip="{{producto.promocionActual.nombre}}"
																tooltip-append-to-body="true"
																ng-if="producto.promocionEnHora"><a class="red"
																	href="javascript:void(0)"
																	e-disabled="!aplicacion.puede_modificar && usuario.empresa.usar_promocion_producto"
																	ng-click="abrirModalPromocionesProducto(producto)">
																	<img src="img/promo2.png" height="35" width="35"
																		alt="">
																</a></span>

															<h3 class="text-cut">{{producto.nombre}}</h3>

														</div>
													</div>
													<div ng-if="usar_productos_derivados_panel">
														<div>
															<button type="button" ng-if="paginaActualPanelgrupo>1"
																class="btn btn-primary btn-mini"
																ng-click="volverAtrasPanelGrupo()"><i
																	class="fa fa-arrow-circle-left bigger-150"></i>
																ATRAS</button>
															<button type="button" ng-if="paginaActualPanelgrupo>1"
																class="btn btn-primary btn-mini"
																ng-click="volverInicioPanelGrupo()"><i
																	class="fa fa-repeat bigger-150"></i>INICIO</button>
															<span ng-if="productosProcesados.length>0"
																class="text-info">Pagina Actual :
																{{paginaActualPanelgrupo}}</span>
														</div>
														<div ng-click="agregarDetalleVentaPanelRelaciones(producto,producto.combo)"
															ng-if="producto.visible"
															class="button-panel-product btn-success swiper-slide productos-button"
															ng-repeat="producto in productosProcesados">
															<img ng-src="{{producto.imagen}}" width="100%"
																class="foto-producto">


															<label
																class="panel-cantidad">{{producto.inventario_disponible}}</label>

															<div class=""
																ng-if="producto.hijos.length==0  && producto.precio_unitario>0">
																<span class="label-holder precios-panel">
																	<span ng-if="!producto.promocionEnHora"
																		class="label label-warning arrowed-in">{{producto.precio_unitario}}
																		Bs</span>
																	<span ng-if="producto.promocionEnHora"
																		class="label label-warning arrowed-in">{{producto.promocionActual.precio}}
																		Bs</span>
																</span>
															</div>
															<div class="">
															<span class="label-holder precios-panel">
																<span 
																	class="label label-warning arrowed-in">{{producto.precio_unitario}}
																	Bs</span>
																<span ng-if="producto.promocionEnHora"
																	class="label label-warning arrowed-in">{{producto.promocionActual.precio}}
																	Bs</span>
															</span>
														</div>
															<span class="panel-promocion"
																uib-tooltip="{{producto.promocionActual.nombre}}"
																tooltip-append-to-body="true"
																ng-if="producto.promocionEnHora"><a class="red"
																	href="javascript:void(0)"
																	e-disabled="!aplicacion.puede_modificar && usuario.empresa.usar_promocion_producto"
																	ng-click="abrirModalPromocionesProducto(producto)">
																	<img src="img/promo2.png" height="35" width="35"
																		alt="">
																</a></span>

															<h3 class="text-cut">{{producto.nombre}}</h3>

														</div>
													</div>
													<!-- Add Pagination -->
													<!--<div class="swiper-pagination"></div>-->
												</div>
											</div>
										</div>
										<div class="row height-productos" ng-if="usar_productos_derivados_panel">
											<div id="productos" class="col-xs-12">
												<div>
													<div ng-if="!usar_productos_derivados_panel">
														<div ng-click="agregarDetalleVentaPanel(producto)"
															ng-if="producto.visible"
															class="button-panel-product btn-success swiper-slide productos-button"
															ng-repeat="producto in productosProcesados">
															<img ng-src="{{producto.imagen}}" width="100%"
																class="foto-producto">

															<label class="panel-cantidad" ng-if="producto.activar_inventario">{{producto.inventario_disponible}}</label>

															<div class="">
																<span class="label-holder precios-panel">
																	<span ng-if="!producto.promocionEnHora"
																		class="label label-warning arrowed-in">{{producto.precio_unitario}}
																		Bs</span>
																	<span ng-if="producto.promocionEnHora"
																		class="label label-warning arrowed-in">{{producto.promocionActual.precio}}
																		Bs</span>
																</span>
															</div>
															<span class="panel-promocion"
																uib-tooltip="{{producto.promocionActual.nombre}}"
																tooltip-append-to-body="true"
																ng-if="producto.promocionEnHora"><a class="red"
																	href="javascript:void(0)"
																	e-disabled="!aplicacion.puede_modificar && usuario.empresa.usar_promocion_producto"
																	ng-click="abrirModalPromocionesProducto(producto)">
																	<img src="img/promo2.png" height="35" width="35"
																		alt="">
																</a></span>

															<h3 class="text-cut">{{producto.nombre}}</h3>

														</div>
													</div>
													<div ng-if="usar_productos_derivados_panel">
														<div>
															<button type="button" ng-if="paginaActualPanelgrupo>1"
																class="btn btn-primary btn-mini"
																ng-click="volverAtrasPanelGrupo()"><i
																	class="fa fa-arrow-circle-left bigger-150"></i>
																ATRAS</button>
															<button type="button" ng-if="paginaActualPanelgrupo>1"
																class="btn btn-primary btn-mini"
																ng-click="volverInicioPanelGrupo()"><i
																	class="fa fa-repeat bigger-150"></i>INICIO</button>
															<span ng-if="productosProcesados.length>0"
																class="text-info">Pagina Actual :
																{{paginaActualPanelgrupo}}</span>
														</div>
														<div ng-click="agregarDetalleVentaPanelRelaciones(producto,producto.combo)"
															ng-if="producto.visible"
															class="button-panel-product btn-success swiper-slide productos-button"
															ng-repeat="producto in productosProcesados">
															<img ng-src="{{producto.imagen}}" width="100%"
																class="foto-producto">


															<label class="panel-cantidad" ng-if="producto.hijos.length==0 && producto.activar_inventario">{{producto.inventario_disponible}}</label>
															<label class="panel-cantidad" ng-if="producto.hijos.length>0">
																<i class="fa fa-th-large" aria-hidden="true"></i>
															</label>

															<div class=""
																ng-if="producto.hijos.length==0 && producto.precio_unitario>0">
																<span class="label-holder precios-panel">
																	<span ng-if="!producto.promocionEnHora"
																		class="label label-warning arrowed-in">{{producto.precio_unitario}}
																		Bs</span>
																	<span ng-if="producto.promocionEnHora"
																		class="label label-warning arrowed-in">{{producto.promocionActual.precio}}
																		Bs</span>
																</span>
															</div>

															<span class="panel-promocion"
																uib-tooltip="{{producto.promocionActual.nombre}}"
																tooltip-append-to-body="true"
																ng-if="producto.promocionEnHora"><a class="red"
																	href="javascript:void(0)"
																	e-disabled="!aplicacion.puede_modificar && usuario.empresa.usar_promocion_producto"
																	ng-click="abrirModalPromocionesProducto(producto)">
																	<img src="img/promo2.png" height="35" width="35"
																		alt="">
																</a></span>

															<h3 class="text-cut">{{producto.nombre}}</h3>

														</div>
													</div>
													<!-- Add Pagination -->
													<!--<div class="swiper-pagination"></div>-->
												</div>
											</div>
										</div>
									</div>

									<!-- /.col -->
								</div>




							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	<!-- ======== PANEL DE COBRO DIALOG ==================== -->
	<div id="dialog-panel-cobro" title="Cobro" class="modal">
		<div class="">

			<form name="formularioCobro" class="form-horizontal" novalidate
				ng-submit="guardarVentaPanel(formularioVentaPanel.$valid,venta); cerrarPopPupVentasCobro()">
				<div class="col-sm-6 style-modal-dates">
					<i class="ace-icon fa fa-calendar  bigger-110 fa-3"></i>
					{{venta.fechaTexto}}
				</div>
				<div class="col-sm-6 style-modal-dates">
					<i class="fa fa-clock-o bigger-110  fa-3"></i>
					{{horaActual}}
				</div>

				<div class="col-sm-12 style-cliente">
					<div class="form-group">
						<label class="col-sm-5 control-label no-padding-right" for="form-field-1"> NIT/C.I. </label>

						<div class="col-sm-7">
							<input ng-keypress="buscarNit($event,venta.cliente.nit)"
								ng-keyup="buscarNit($event,venta.cliente.nit)" data-validate="validate(required)"
								id="nitP1" required type="number" min="0" ng-model="venta.cliente.nit"
								placeholder="Ingrese el NIT" class="form-control">
						</div>
					</div>

					<div class="form-group">
						<label class="col-sm-5 control-label no-padding-right" for="form-field-1-1"> RAZON SOCIAL
							CLIENTE
						</label>

						<div class="col-sm-7">
							<input ng-keyup="$event.keyCode == 13 ? enfocar('pagadoP1') : null; capturarInteraccion()"
								data-validate="validate(required)" id="razon_socialP1" required type="text"
								ng-model="venta.cliente.razon_social" placeholder="Ingrese la Razon Social"
								class="form-control">
						</div>
					</div>
				</div>


				<div class="col-sm-12 style-totales">
					<div class="form-group">
						<label class="col-sm-5 control-label no-padding-right" for="form-field-1"> TOTAL (Bs):</label>

						<div class="col-sm-7">
							<input type="number" disabled id="form-field-1" ng-model="venta.total" placeholder="Total"
								class="form-control color-total">
						</div>
					</div>

					<div class="form-group">
						<label class="col-sm-5 control-label no-padding-right" for="form-field-1-1"> PAGADO
							(Bs):</label>

						<div class="col-sm-7">

							<input
								ng-keyup="capturarPago($event, formularioVentaPanel.$valid, venta); capturarInteraccion()"
								id="pagadoP1" name="pagado" data-validate="validate(required)" required type="number"
								step="0.01" min="{{pagoMinimo}}" value="{{venta.total}}" ng-model="venta.pagado"
								ng-change="calcularCambio()" class="form-control" />
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-5 control-label no-padding-right" for="form-field-1-1"> CAMBIO
							(Bs):</label>

						<div class="col-sm-7">

							<input disabled type="number" step="0.01" ng-model="venta.cambio" class="form-control" />
						</div>
					</div>

				</div>



				<div class="col-sm-6 style-button-align">
					<img src="img/CAJERA.png" width="30%">
				</div>
				<div class="col-sm-3 style-button-align" align="center">

					<button type="button" class="btn btn-app btn-danger btn-xs text-size"
						ng-click="cerrarPopPupVentasCobro()">
						<i class="ace-icon fa fa-times bigger-160"></i>
						CANCELAR
					</button>


				</div>
				<div class="col-sm-3 style-button-align" align="center">
					<button type="submit" ng-disabled="venta.detallesVenta.length==0 || !formularioVentaPanel.$valid"
						class="btn btn-app btn-primary btn-xs text-size">
						<i class="ace-icon fa fa-floppy-o bigger-160"></i>
						GUARDAR
					</button>

				</div>
			</form>

		</div>
	</div>


	<div id="dialog-eliminar-venta" title="¿Eliminación de Venta?" class="modal">
		<p>
			<span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>¿Esta seguro de anular
			la
			venta
			seleccionada?
		</p>
		<button type="button" class="btn btn-danger" ng-click="eliminarVenta(venta)">Si</button>
		<button type="button" class="btn btn-success" ng-click="cerrarConfirmacionEliminacionVenta()">No</button>
	</div>

	<div id="dialog-productos-venta" class="modal">
		<div class="modal-dialogg">
			<div class="modal-content">
				<div class="modal-header no-padding">
					<div class="table-header text-center">
						<button type="button" class="close" ng-click="cerrarPopup(idModalInventario)"
							aria-hidden="true">
							<span class="white">×</span>
						</button>
						<i class="fa fa-cube bigger-130" aria-hidden="true"></i>
						Items
					</div>
				</div>

				<div class="modal-body no-padding">
					<div class="content-filtros">
						<div class="pull-left form-group has-info no-margin-bottom">
							<div class="dataTables_length" id="tabla-productos_length">
								<label>
									Mostrar
									<select ng-model="itemsPorPagina"
										ng-change="buscarInventarios(almacenBusqueda.id,1,itemsPorPagina,textoBusqueda,columna,direccion,cantidadInv)"
										name="tabla-proveedores_length" aria-controls="tabla-productos"
										class="form-control input-sm">
										<option selected value="10">10</option>
										<option value="25">25</option>
										<option value="50">50</option>
										<option value="100">100</option>
									</select> productos por página</label>
							</div>
						</div>
						<div class="pull-right form-group has-info no-margin-bottom">
							<div id="tabla-productos_filter" class="">
								<label>Búsqueda:
									<span class="block input-icon input-icon-right">
										<input type="text" id="inputInfo" ng-model="textoBusqueda"
											ng-keydown="verificarPulso($event,textoBusqueda)"
											class="width-100 input-sm">
										<i class="ace-icon fa fa-search"></i>
									</span>
								</label>
							</div>
						</div>
					</div>
					<table id="tabla-inventarios"
						class="table table-striped table-bordered table-hover no-margin-bottom no-border-top tabla-inventario-venta">
						<thead>
							<tr>
								<th class="fila-num">
									#
								</th>
								<th class="fila-codigo">
									<a href="javascript:void(0)" ng-click="clasificarColumna('codigo')">Código
										<span id="codigop" class="sort ace-icon fa fa-sort icon-only"></span>
									</a>
								</th>
								<th class="fila-producto">
									<a href="javascript:void(0)" ng-click="clasificarColumna('nombre')">Producto
										<span id="nombrep" class="sort ace-icon fa fa-sort icon-only"></span>
									</a>
								</th>
								<th class="fila-descripcion">
									<a href="javascript:void(0)" ng-click="clasificarColumna('descripcion')">Descripcion
										<span id="descripcionp" class="sort ace-icon fa fa-sort icon-only"></span>
									</a>
								</th>
								<th class="fila-cantidad-total">
									<a href="javascript:void(0)" ng-click="clasificarColumna('cantidad')">Cantidad Total
										<span id="cantidadp" class="sort ace-icon fa fa-sort icon-only"></span>
									</a>
								</th>
								<th class="fila-precio">
									<a href="javascript:void(0)" ng-click="clasificarColumna('precio_unitario')">Precio
										Unitario
										<span id="precio_unitariop" class="sort ace-icon fa fa-sort icon-only"></span>
									</a>
								</th>
								<th class="fila-fecha">
									<a href="javascript:void(0)" ng-click="clasificarColumna('fecha_vencimiento')">Fecha
										Venc.
										Próximo
										<span id="fecha_vencimientop" class="sort ace-icon fa fa-sort icon-only"></span>
									</a>
								</th>
								<th class="fila-grupo">
									<a href="javascript:void(0)" ng-click="clasificarColumna('grupo')">Grupo
										<span id="grupop" class="sort ace-icon fa fa-sort icon-only"></span>
									</a>
								</th>
								<th class="fila-grupo">
									<a href="javascript:void(0)" ng-click="clasificarColumna('subgrupo')">Sub Grupo
										<span id="subgrupop" class="sort ace-icon fa fa-sort icon-only"></span>
									</a>
								</th>
								<th class="fila-acciones">Acciones</th>
							</tr>
						</thead>

						<tbody>
							<tr ng-repeat="producto in productos">
								<td class="fila-num">
									{{$index+1}}
								</td>
								<td class="fila-codigo">{{producto.codigo}}</td>
								<td class="fila-producto">{{producto.nombre}}
								</td>
								<td class="fila-descripcion">{{producto.descripcion}}
								</td>
								<td class="fila-cantidad-total">
									<b>{{producto.cantidad_total}}</b>
								</td>
								<td class="fila-precio">{{producto.precio_unitario}}</td>
								<td class="fila-fecha">{{producto.fecha_vencimiento | date:'dd/MM/yyyy'}}</td>
								<td class="fila-grupo">{{producto.grupo}}</td>
								<td class="fila-grupo">{{producto.subgrupo}}</td>
								<td class="fila-acciones">
									<button ng-if="!venta.id" type="button" ng-click="buscarProducto(producto.codigo)"
										class="btn btn-success btn-sm">
										<i class="ace-icon fa fa-check icon-only"></i>
									</button>
									<button ng-if="venta.id" type="button"
										ng-click="establecerProductoEdicionVenta(producto)"
										class="btn btn-success btn-sm">
										<i class="ace-icon fa fa-check icon-only"></i>
									</button>
									<!--<button type="button" ng-click="verDetalleInventario(producto)" class="btn btn-info btn-sm">
										<i class="ace-icon fa fa-search-plus icon-only"></i>
									</button>-->
									<table id="{{producto.id}}" style="display:none;"
										class="table table-striped table-bordered table-hover">
										<thead>
											<tr>
												<th>#</th>
												<th>Cantidad</th>
												<th>Fecha Venc.</th>
												<th>Lote</th>
												<th>Costo Unitario</th>
												<th>Costo Total</th>
												<th>Acciones</th>
											</tr>
										</thead>
										<tbody>
											<tr ng-repeat="inventario in producto.inventarios">
												<td>{{$index+1}}</td>
												<td>{{inventario.cantidad}}</td>
												<td>{{inventario.fecha_vencimiento | date:"dd/MM/yyyy "}}</td>
												<td>{{inventario.lote}}</td>
												<td>{{inventario.costo_unitario}}</td>
												<td>{{inventario.costo_total}}</td>
												<td>
													<a href="javascript:void(0)"
														e-disabled="!aplicacion.puede_modificar"
														ng-click="abrirPopupActualizacionInventario(inventario)"
														class="tooltip-success" data-rel="tooltip" title="Edit">
														<span class="green">
															<i class="ace-icon fa fa-pencil-square-o bigger-120"></i>
														</span>
													</a>
												</td>
											</tr>
											<tr>
												<td>
													<b>Total Almacen</b>
												</td>
												<td>{{sumarCantidadAlmacen(producto.inventarios,sucursal,almacen)}}</td>
												<td></td>
												<td></td>
												<td></td>
												<td>{{sumarCostoTotalAlmacen(producto.inventarios,sucursal,almacen)}}
												</td>
												<td>
												</td>
											</tr>
										</tbody>
									</table>
								</td>
							</tr>
						</tbody>
					</table>
				</div>

				<div class="modal-footer no-margin-top">
					<button class="btn btn-sm btn-danger pull-left" ng-click="cerrarPopup(idModalInventario)">
						<i class="ace-icon fa fa-times"></i>
						Cerrar
					</button>

					<div class="dataTables_info aling-num-pagina pull-left" id="tabla-productos_info" role="status"
						aria-live="polite">Mostrando página
						{{paginaActual}}
						de {{paginas.length}}</div>
					<div class="dataTables_paginate paging_simple_numbers pull-right no-margin"
						id="tabla-productos_paginate">

						<ul class="pagination pull-right no-margin">
							<li class="paginate_button previous" aria-controls="tabla-productos" tabindex="0"
								id="tabla-productos_previous">
								<a href="javascript:void(0)"
									ng-click="buscarInventarios(almacenBusqueda.id,1,itemsPorPagina,textoBusqueda,columna,direccion,cantidadInv)">Primero</a>
							</li>
							<li class="paginate_button previous" ng-class="{disabled:paginaActual==1}"
								aria-controls="tabla-productos" tabindex="0" id="tabla-productos_previous">
								<a href="javascript:void(0)" e-disabled="paginaActual==1"
									ng-click="buscarInventarios(almacenBusqueda.id,paginaActual-1,itemsPorPagina,textoBusqueda,columna,direccion,cantidadInv)">
									<< </a>
							</li>
							<li class="paginate_button" ng-class="{active:paginaActual==pagina}"
								aria-controls="tabla-productos" tabindex="0" ng-repeat="pagina in paginas"
								ng-if="abs(paginaActual-pagina)<4">
								<a href="javascript:void(0)"
									ng-click="buscarInventarios(almacenBusqueda.id,pagina,itemsPorPagina,textoBusqueda,columna,direccion,cantidadInv)">{{pagina}}</a>
							</li>
							<li class="paginate_button" ng-class="{disabled:paginaActual==paginas.length}"
								aria-controls="tabla-productos" tabindex="0" id="tabla-productos_next">
								<a href="javascript:void(0)" e-disabled="paginaActual==paginas.length"
									ng-click="buscarInventarios(almacenBusqueda.id,paginaActual+1,itemsPorPagina,textoBusqueda,columna,direccion,cantidadInv)">>></a>
							</li>
							<li class="paginate_button previous" aria-controls="tabla-productos" tabindex="0"
								id="tabla-productos_previous">
								<a href="javascript:void(0)"
									ng-click="buscarInventarios(almacenBusqueda.id,paginas.length,itemsPorPagina,textoBusqueda,columna,direccion,cantidadInv)">Ultimo</a>
							</li>
						</ul>
					</div>
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div>


	<div id="dialog-edicion-vendedor" class="modal">
		<form name="formVendedor" novalidate ng-submit="guardarVendedor(vendedor)">
			<div class="widget-header">
				<h4 class="widget-title">Vendedor</h4>
				&nbsp;
				<button type="submit" class="btn btn-primary" ng-disabled="formVendedor.$invalid">
					<i class="ace-icon fa fa-floppy-o align-top bigger-125"></i>
					Guardar
				</button>
				<button type="button" class="btn btn-danger" ng-click="cerrarPopupEdicionVendedor()">
					<i class="ace-icon fa fa-times red2 align-top bigger-125"></i>
					Cerrar
				</button>
			</div>
			<div class="widget-body">
				<div class="row">
					<div class="col-md-6">
						<label>Nombres</label>
					</div>
					<div class="col-md-6">
						<input required type="text" ng-model="vendedor.persona.nombres">
					</div>
				</div>
				<div class="row">
					<div class="col-md-6">
						<label>Apellido Paterno</label>
					</div>
					<div class="col-md-6">
						<input type="text" ng-model="vendedor.persona.apellido_paterno">
					</div>
				</div>
				<div class="row">
					<div class="col-md-6">
						<label>Apellido Materno</label>
					</div>
					<div class="col-md-6">
						<input type="text" ng-model="vendedor.persona.apellido_materno">
					</div>
				</div>
			</div>>

		</form>
	</div>

	<div id="dialog-imprimir-con-fecha-vencimiento" title="¿Impresion con Vencimiento?" class="modal">
		<p>
			<span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>¿Imprimir con
			vencimiento?
		</p>
		<button type="button" class="btn btn-danger" ng-click="imprimirConVencimiento()">Si</button>
		<button type="button" class="btn btn-success" ng-click="imprimirSinVencimiento()">No</button>
	</div>

	<!-- ========= inicio  modal reporte productos ========= -->
	<div class="modal" id="dialog-reportes-productos">
		<div class="modal-content">
			<div class="modal-header bg-primary">
				<button type="button" ng-click="cerrarReporteProductos()" class="close" data-dismiss="modal"
					aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<center>
					<h4 class="modal-title" id="advertenciaPrestamoPersonal">Productos Vendidos</h4>
					<h5>Del{{fechaInicioTexto}} al {{fechaFinTexto}}</h5>
					<div>
						<span>Sucursal: {{sucursal}}</span>
					</div>
					<div>
						<span>Razón Sociales: {{razonSocial}}</span>
					</div>
				</center>
			</div>
			<div class="modal-body">
				<div class="row" ng-include src="'/templates/gral/paginator-header-1.html'">
				</div>
				<div class="table-header">
					<div class="row">
						<div class="col-sm-10">
							<h4 class="widget-title">Lista de Productos</h4>
						</div>
						<div class="col-sm-2">
							<button type="button" class="btn btn-primary btn-sm btn-grafico"
								uib-tooltip="Graficos Generales" ng-click="graficarProductos(false)"
								style="line-height: 0; padding: 0px;">
								<i class="ace-icon fa fa-bar-chart-o align-top bigger-100"></i>
							</button>
						</div>
					</div>
				</div>

				<div class="table-fixed-header">
					<table class="table table-striped table-bordered table-hover ">
						<thead fix-head class="table-head-color">
							<tr>
								<th>N°</th>
								<th>
									<a href="javascript:void(0)"
										ng-click="paginator.sortColumn('nombre',obtenerLista)">Producto
										<span id="nombre" class="sort fa fa-sort icon-only"></span>
									</a>
								</th>
								<th>
									<a href="javascript:void(0)"
										ng-click="paginator.sortColumn('unidad_medida',obtenerLista)">Unid. Medida
										<span id="unidad_medida" class="sort fa fa-sort icon-only"></span>
									</a>
								</th>
								<th>
									<a href="javascript:void(0)"
										ng-click="paginator.sortColumn('cantidad',obtenerLista)">Cantidad
										<span id="cantidad" class="sort fa fa-sort icon-only"></span>
									</a>
								</th>
								<th>
									<a href="javascript:void(0)"
										ng-click="paginator.sortColumn('total',obtenerLista)">Monto
										<span id="total" class="sort fa fa-sort icon-only"></span>
									</a>
								</th>
								<th style="width:5px">Acciones</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="producto in ventasPopUp">
								<td>{{$index+1}}</td>
								<td>
									{{producto.nombre}}
								</td>
								<td>
									{{producto.unidad_medida}}
								</td>
								<td>
									{{producto.cantidad}}
								</td>
								<td>
									{{producto.total}}
								</td>
								<td>
									<a ng-if="!moneda.edit" class="blue tooltip-info" href="javascript:void(0)"
										uib-tooltip="Pdf" ng-click="ImprimirSimpleReporte(producto.id)">
										<i class="fa fa-file-pdf-o" aria-hidden="true"></i>
									</a>

								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="row" ng-include src="'/templates/gral/paginator.html'">
				</div>
			</div>
			<div class="modal-footer">
				<label class="pull-left inline">
					<small class="muted smaller-90">Ver Detalle Producto:</small>
					<input id="id-button-detalle" ng-click="conDetalle()" name="switch-view-detail-products"
						checked="checked" type="checkbox" class="ace ace-switch ace-switch-4">
					<span class="lbl check-detalle"></span>
				</label>
				<a href="javascript:void(0)" ng-click="generarpdfRolloVentasMensuales()"><i
						class="fa fa-print bigger-160"></i></a>
				<button id="pdfVentasMensuales" class="btn btn-app btn-danger btn-xs"
					ng-click="generarPdfVentasMensuales()">
					<i class="ace-icon fa fa-print bigger-160"></i>
					PDF
				</button>
				<button id="excelVentasMensuales" class="btn btn-app btn-success btn-xs"
					ng-click="generarExcelVentasMensuales()">
					<i class="ace-icon fa fa-print bigger-160"></i>
					Excel
				</button>
				<button type="button" class="btn btn-danger" ng-click="cerrarReporteProductos()">Cerrar</button>
			</div>
		</div>

	</div>
	<!-- Fin modal reporte productos -->

	<!-- inicio confirmar usuario -->
	<div id="modal-verificar-cuenta" title="Asignar Cuenta" class="modal">

		<form name="formularioAsignarCuenta" ng-submit="verificarCuentaAdmin(cuenta,$index)">
			<div class="modal-header">
				<p>
				<h3>Verificar Cuenta</h3>
				</p>
			</div>
			<div class="modal-body">
				<div>
					<span>Nombre Usuario: </span>
					<input required class="form-control" type="text" ng-model="cuenta.nombre_usuario">
				</div>
				<div>
					<span>Clave</span>
					<input required class="form-control" type="password" name="contra" ng-model="cuenta.clave">
				</div>
			</div>
			<div class="modal-footer">
				<div class="col-sm-6">
					<button type="submit" class="btn btn-success">Verificar</button>
				</div>


				<div class="col-sm-6">
					<button type="button" class="btn btn-danger"
						ng-click="cerrarModalVerificarCuenta()">Cancelar</button>
				</div>
			</div>
		</form>
	</div>
	<!-- fin confirmar usuario -->

	<!--Reporte Grafico Productos-->
	<div id="reporte-grafico-productos" style="overflow-x:hidden;" class="modal">
		<div class="row">
			<div class="modal-header">
				<div class="container-fluid">
					<button type="button" ng-click="cerrarReporteGraficoProductos()" class="pull-right">
						<i class="ace-icon fa fa-close align-top bigger-125"></i>
					</button>
					<!-- <center>
						<h2 class="blue">REPORTE GRAFÍCO</h2>
						<h4 class="blue">Reporte de los 10 mas vendidos</h4>
					</center>
					<br>
					<div id="tablaReportes" style="height: 300px; width: 100%;">
	
					</div> -->
					<canvas id="myChartBar" width="auto" height="auto" ng-show="mostrarBar"></canvas>
					<canvas id="myChartPie" width="auto" height="auto" ng-show="mostrarPie"></canvas>
				</div>
				<div class="modal-footer">
					<label>
						<small class="muted smaller-90">Ver grafico de tortas: </small>
						<input name="switch-field-1" ng-model="estadoProducto"
							ng-click="graficarProductos(estadoProducto)"
							class="ace ace-switch ace-switch-4 ng-pristine ng-untouched ng-valid ng-not-empty"
							type="checkbox">
						<span class="lbl check-descuento"></span>
					</label>
				</div>
			</div>
		</div>
	</div>
	<!--Fin reporte Grafico Productos-->
	<!-- fin confirmar usuario -->
	<!-- === modal SERVICIOS"==== -->
	<div id="dialog-servicios-venta" class="modal" t item-width="500">
		<div class="modal-header bg-primary">
			<h4 class='smaller text-white text-uppercase'>
				<i class='icono-prerequisito'></i>
				<label> &nbsp;SERVICIOS VENTA</label>
			</h4>
		</div>
		<div class="modal-body">
			<form novalidate ng-submit="agregarServicioVenta(servicio)">

				<div class="row">


					<div class="col-sm-4">
						<div class="form-group">
							<label for="ciudad">Servicio</label>
							<input type="text" ng-model="servicio.nombre" ng-model-options="{updateOn: 'blur'}"
								capitalize style="text-transform:uppercase;" class="form-control">
						</div>
					</div>
					<div class="col-sm-4">
						<div class="form-group">
							<label for="ciudad">Precio</label>
							<input type="number" ng-model="servicio.precio" min=".00000001" step="0.0000001"
								ng-model-options="{updateOn: 'blur'}" class="form-control">
						</div>
					</div>
					<div class="form-group col-sm-4">
						<label>detalle </label>

						<input type="text" class="form-control" ng-model-options="{updateOn: 'blur'}"
							ng-model="servicio.detalle" />
					</div>


				</div>
				<div class="row">

					<div class="form-group col-sm-4" ng-if="usuario.empresa.usar_descuentos">
						<label>Descuento
							<input name="switch-field-1" ng-model-options="{updateOn: 'blur'}"
								class="ace ace-switch ace-switch-4" type="checkbox"
								ng-model="servicio.descuento_fijo" />
							<span class="lbl check-descuento-opcion"></span>
						</label>

						<input type="number" id="descuento" class="form-control" ng-model="servicio.descuento" />
					</div>
					<div class="col-sm-4">
						<br>
						<div class="form-group">
							<!-- <button type="button" class="btn btn-success" ng-click="AgregarDepartamento(clase)">
										<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
									</button> -->
							<button ng-if="!servicio.edit" type="submit" class="btn btn-success">
								<span class="glyphicon glyphicon-plus" aria-hidden="true">Agregar</span>
							</button>
							<button ng-if="servicio.edit" type="submit" class="btn btn-primary">
								<span class="glyphicon glyphicon-plus" aria-hidden="true">Modificar</span>
							</button>
							<button ng-if="servicio.edit" type="button" class="btn btn-danger"
								ng-click="cancelarEdicionVentaServicio(servicio)">
								<span class="" aria-hidden="true">Cancelar</span>
							</button>
						</div>
					</div>
					<!-- <div class="col-sm-2">
							<label>
								<input name="switch-field-1" class="ace ace-switch ace-switch-4" type="checkbox" ng-model="servicio.descuento_fijo" />
								<span class="lbl check-descuento-opcion"></span>
							</label>
						</div> -->
				</div>
			</form>
			<table class="table table-striped table-hover">
				<thead>
					<tr>
						<th>Servicio</th>
						<th>Precio</th>
						<th>Detalle</th>
						<th>Descuento</th>
						<th>Editar</th>
						<th>Habilitar</th>
						<th>Acciones</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="servicio in serviciosVentas">
						<th scope="row">{{servicio.nombre}}</th>
						<th scope="row">{{servicio.precio}}</th>
						<th scope="row">{{servicio.detalle}}</th>
						<th scope="row">{{servicio.descuento}}</th>
						<td>
							<a href="javascript:void(0)" ng-click="modificarServicioVenta(servicio)">
								<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
							</a>
						</td>
						<td>
							<label>
								<input name="switch-field-1" class="ace ace-switch ace-switch-5" type="checkbox"
									ng-model="servicio.habilitado">
								<span class="lbl check-espaniol"></span>
							</label>
						</td>
						<td>
							<a href="javascript:void(0)" role="button"
								ng-click="establecerServicioSeleccionado(servicio)">
								<span class="badge badge-success ">
									<span class="fa fa-check bigger-200" aria-hidden="true"></span>
								</span>
							</a>

						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<div class="modal-footer wizard-actions">
			<button class="btn btn-primary btn-sm" ng-click="guardarServiciosVenta(serviciosVentas)">
				<i class="glyphicon glyphicon-floppy-disk"></i>Guardar
			</button>
			<button class="btn btn-danger btn-sm" ng-click="cerrarmodalServicioVenta()">
				<i class="ace-icon fa fa-times"></i>Cancelar
			</button>
		</div>

	</div>
	<!-- ========= fin SERVICIOS ========= -->

	<!-- ========= inicio  modal reporte empresas ========= -->
	<div class="modal" id="dialog-reporte-por-empresas">
		<div class="modal-content">
			<div class="modal-header bg-primary">
				<button type="button" ng-click="cerrarReportePorEmpresa()" class="close" data-dismiss="modal"
					aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<center>
					<h4 class="modal-title" id="advertenciaPrestamoPersonal" style="align-content:center;">Empresas</h4>
					<h5>Del {{fechaInicioTexto}} al {{fechaFinTexto}}</h5>
					<div>
						<span>Sucursal: {{sucursal}}</span>
					</div>
					<div>
						<span>Razón Sociales: {{razonSocial}}</span>
					</div>
				</center>
			</div>
			<div class="modal-body">
				<div class="row" ng-include src="'/templates/gral/paginator-header-1.html'">
				</div>
				<div class="table-header">
					<div class="row">
						<div class="col-sm-10">
							<h4 class="widget-title">Lista de Empresas</h4>
						</div>
						<div class="col-sm-2">
							<button type="button" class="btn btn-primary btn-sm btn-grafico"
								ng-click="graficarEmpresa(false)">
								<i class="ace-icon fa fa-bar-chart-o align-top bigger-100"></i>
							</button>
						</div>
					</div>
				</div>

				<div class="table-fixed-header">
					<table class="table table-striped table-bordered table-hover ">
						<thead fix-head class="table-head-color">
							<tr>
								<th>N°</th>
								<th>
									<a href="javascript:void(0)"
										ng-click="paginator.sortColumn('razon_social',obtenerLista)">Empresa
										<span id="razon_social" class="sort fa fa-sort icon-only"></span>
									</a>
								</th>
								<th>
									<a href="javascript:void(0)"
										ng-click="paginator.sortColumn('total',obtenerLista)">Monto
										<span id="total" class="sort fa fa-sort icon-only"></span>
									</a>
								</th>
								<th style="width:5px">Acciones</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="empresa in detalleEmpresa">
								<td>{{$index+1}}</td>
								<td>
									{{empresa.razon_social}}
								</td>
								<td>
									{{empresa.total}}
								</td>
								<td>
									<a class="blue tooltip-info" href="javascript:void(0)" uib-tooltip="Pdf"
										ng-click="imprimirSimpleReporteEmpresa(empresa.id)">
										<i class="fa fa-file-pdf-o" aria-hidden="true"></i>
									</a>

								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="row" ng-include src="'/templates/gral/paginator.html'">
				</div>
			</div>
			<div class="modal-footer">
				<label class="pull-left inline">
					<small class="muted smaller-90">Ver Detalle :</small>
					<input id="id-button-detalle" ng-click="conDetalle()" name="switch-view-detail-products"
						checked="checked" type="checkbox" class="ace ace-switch ace-switch-4">
					<span class="lbl check-detalle"></span>
				</label>
				<button id="pdfLstado" class="btn btn-app btn-danger btn-xs" ng-click="generarPdfVentasMensuales()">
					<i class="ace-icon fa fa-print bigger-160"></i>
					PDF
				</button>
				<button id="excelLstado" class="btn btn-app btn-success btn-xs"
					ng-click="generarExcelVentasMensuales()">
					<i class="ace-icon fa fa-print bigger-160"></i>
					Excel
				</button>
				<button type="button" class="btn btn-danger" ng-click="cerrarReportePorEmpresa()">Cerrar</button>
			</div>
		</div>

	</div>
	<!-- Fin modal reporte empresas -->

	<!--Reporte Grafico Empresa-->
	<div id="reporte-grafico-empresas" style="overflow-x:hidden;" class="modal">
		<div class="row">
			<div class="modal-header">
				<div class="container-fluid">
					<button type="button" ng-click="cerrarReporteGraficoEmpresa()" class="pull-right">
						<i class="ace-icon fa fa-close align-top bigger-125"></i>
					</button>
					<center>
						<h2 class="blue">REPORTE GRAFÍCO</h2>
						<h4 class="blue">Reporte a las 10 empresas mas vendidas</h4>
					</center>
					<br>
					<div id="tablaReportesEmpresas" style="height: 300px; width: 100%; align-content:center;">

					</div>
				</div>
				<div class="modal-footer">
					<label>
						<small class="muted smaller-90">Ver grafico de tortas: </small>
						<input name="switch-field-1" ng-model="estadoEmpresa" ng-click="graficarEmpresa(estadoEmpresa)"
							class="ace ace-switch ace-switch-4 ng-pristine ng-untouched ng-valid ng-not-empty"
							type="checkbox">
						<span class="lbl check-descuento"></span>
					</label>
				</div>
			</div>
		</div>
	</div>
	<!--Fin reporte Grafico Empresa-->

	<!--Reporte Grafico clientes puntajes-->
	<div id="reporte-grafico-clientes-puntajes" class="modal" style="overflow-x:hidden;">
		<div class="modal-content">
			<div class="modal-header">
				<div class="container-fluid">
					<a type="button" href="javascript:void(0)" class="red pull-right button-close-modal"
						ng-click="cerrarReporteGraficoClientePuntajes()">
						<i class="ace-icon fa fa-times-circle-o align-top bigger-280"></i>
					</a>
					<center>
						<h2 class="blue">REPORTE GRAFÍCO DE PUNTAJES</h2>
						<h4 class="blue">Reporte de los 10 clientes con mas puntajes</h4>
					</center>
					<br>
					<div id="tablaReportesClientesPuntajes" style="height: 300px; width: 100%; align-content:center;">

					</div>
				</div>
				<div class="modal-footer">
					<label>
						<small class="muted smaller-90">Ver grafico de tortas: </small>
						<input name="switch-field-1" ng-model="estadoEmpresa"
							ng-click="graficarClientesPuntajes(estadoEmpresa)"
							class="ace ace-switch ace-switch-4 ng-pristine ng-untouched ng-valid ng-not-empty"
							type="checkbox">
						<span class="lbl check-descuento"></span>
					</label>
				</div>
			</div>
		</div>
	</div>
	<!--Fin reporte Grafico clientes puntajes-->

	<!-- ========= inicio  modal reporte empresas ========= -->
	<div class="modal" id="dialog-reporte-clientes-puntaje">
		<div class="modal-content">
			<div class="modal-header bg-primary">
				<button type="button" ng-click="cerrarReportePorClientePuntaje()" class="close" data-dismiss="modal"
					aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<center>
					<h4 class="modal-title" id="advertenciaPrestamoPersonal" style="align-content:center;">Clientes</h4>
					<h5>Del {{fechaInicioTexto}} al {{fechaFinTexto}}</h5>
					<div>
						<span>Sucursal: {{sucursal}}</span>
					</div>
					<div>
						<span>Razón Sociales: {{razonSocial}}</span>
					</div>
				</center>
			</div>
			<div class="modal-body">
				<div class="row">
					<div class="col-sm-4">
						<div>
							<label>
								Mostrar <select ng-model="paginator.itemsPerPage" ng-change="paginator.getFirstPage()"
									name="tabla-proveedores_length" aria-controls="tabla-proveedores"
									class="form-control input-sm">
									<option value="0">Todos</option>
									<option ng-selected="true" value="10">10</option>
									<option value="25">25</option>
									<option value="50">50</option>
									<option value="100">100</option>
								</select> Elementos</label>
						</div>
					</div>
					<div class="col-sm-4">
						<div>
							<label>Ubicacion:
								<input class="form-control input-sm" type="search" ng-model="filtro.ubicacion"
									ng-model-options='{ debounce: 600 }' ng-change="obtenerPuntajesClientes(filtro)">
							</label>
						</div>
					</div>
					<div class="col-sm-4" align="right">
						<div>
							<label>Buscar:
								<input class="form-control input-sm" type="search" ng-model="textSearch"
									ng-model-options='{ debounce: 600 }'
									ng-change="paginator.getSearch(textSearch,paginator.filter,$event)">
							</label>
						</div>
					</div>
				</div>
				<div class="table-header">
					<div class="row">
						<div class="col-sm-10">
							<h4 class="widget-title">Lista de Clientes</h4>
						</div>
						<div class="col-sm-2">
							<button type="button" class="btn btn-primary btn-sm btn-grafico"
								ng-click="graficarClientesPuntajes(false)">
								<i class="ace-icon fa fa-bar-chart-o align-top bigger-100"></i>
							</button>
						</div>
					</div>
				</div>

				<div class="table-fixed-header">
					<table class="table table-striped table-bordered table-hover ">
						<thead class="table-head-color">
							<tr>
								<th>N°</th>
								<th>
									<a href="javascript:void(0)"
										ng-click="paginator.sortColumn('razon_social',obtenerLista)">Cliente
										<span id="razon_social" class="sort fa fa-sort icon-only"></span>
									</a>
								</th>
								<th>
									<a href="javascript:void(0)"
										ng-click="paginator.sortColumn('razon_social',obtenerLista)">Ubicacion
										<span id="razon_social" class="sort fa fa-sort icon-only"></span>
									</a>
								</th>
								<th>
									<a href="javascript:void(0)"
										ng-click="paginator.sortColumn('total',obtenerLista)">Puntaje
										<span id="total" class="sort fa fa-sort icon-only"></span>
									</a>
								</th>
								<th style="width:5px">Acciones</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="empresa in detalleEmpresa">
								<td>{{$index+1}}</td>
								<td>
									{{empresa.razon_social}}
								</td>
								<td>
									{{empresa.ubicacion_geografica}}
								</td>
								<td>
									{{empresa.total}}
								</td>
								<td>
									<a class="red tooltip-info" href="javascript:void(0)" uib-tooltip="Pdf"
										ng-click="imprimirSimpleClientePuntaje(empresa.id, empresa)">
										<i class="fa fa-file-pdf-o bigger-130" aria-hidden="true"></i>
									</a>
									<a class="green tooltip-info" href="javascript:void(0)" uib-tooltip="Excel"
										ng-click="excelSimpleClientePuntaje(empresa.id)">
										<i class="fa fa-file-excel-o bigger-130" aria-hidden="true"></i>
									</a>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="row" ng-include src="'/templates/gral/paginator.html'">
				</div>
			</div>
			<div class="modal-footer">

				<button id="pdfLstado" class="btn  btn-danger" ng-click="imprimirPDFClientesPuntajes()">
					<i class="ace-icon fa fa-print bigger-120"></i>
					PDF
				</button>
				<button id="excelLstado" class="btn  btn-success" ng-click="excelClientesPuntajes()">
					<i class="ace-icon fa fa-print bigger-120"></i>
					Excel
				</button>
				<button type="button" class="btn btn-danger" ng-click="cerrarReportePorClientePuntaje()">Cerrar</button>
			</div>
		</div>

	</div>
	<!-- Fin modal reporte empresas -->

	<!-- inicio importacion ventas servicios -->
	<div class="modal" id="dialog-importacion-ventas-servicios">
		<div class="modal-content">
			<div class="modal-header bg-primary">
				<button type="button" ng-click="cerrarModalImportacionVentaServicio()" class="close"
					data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<h4 class="modal-title">IMPORTACIÓN DE FACTURAS</h4>
			</div>
			<form id="formimpvent" name="formimpvent" ng-submit="guardarConfiguracionImpresion(configuracionImpresion)">
				<div class="modal-body">
					<div class="row">
						<div class="col-md-6">
							<p>SUCURSAL</p>
							<select required class="form-control" name="sucServImp"
								ng-change="obtenerActividades(venta.sucursal.id)"
								ng-options="sucursal as sucursal.nombre for sucursal in sucursales track by sucursal.id"
								ng-model="venta.sucursal">
								<option value="" disabled selected>Selec. Sucursal</option>
							</select>
							<p class="red" ng-show="formimpvent.sucServImp.$touched && formimpvent.sucServImp.$invalid">
								Este
								campo es
								requerido.</p>
						</div>
						<div class="col-md-6">
							<p>FECHA</p>
							<input required ng-update-hidden name="fechaSerImp" class="form-control date-picker"
								type="text" data-date-format="dd/mm/yyyy" ng-model="venta.fecha"
								placeholder="Ingrese la fecha" autocomplete="off" />
							<p class="red"
								ng-show="formimpvent.fechaSerImp.$touched && formimpvent.fechaSerImp.$invalid">
								Este campo es
								requerido.</p>
						</div>
					</div>
					<div class="space-6"></div>
					<div class="row">
						<div class="col-md-6">
							<p>ACTIVIDAD</p>
							<select required ng-model="venta.actividad" name="activ" class="form-control"
								ng-options="actividad as actividad.nombre for actividad in actividades track by actividad.id"
								data-placeholder="Click para escoger">
								<option value="" disabled selected>Selec. Actividad</option>
							</select>
							<p class="red" ng-show="formimpvent.activ.$touched && formimpvent.activ.$invalid">Este campo
								es
								requerido.</p>
							<p ng-if="dosificacionesExpiradas" style="color: orangered">Las Actividades con
								dosificaciones
								expiradas no se
								muestran</p>
						</div>
						<div class="col-md-6">
							<div class="space-6"></div>
							<div class="btn btn-link pull-right">
								<a href="/recursos/EJEMPLO-DATOS-VENTAS-SERVICIOS.xlsx" class="pull-right">
									<span class="blue">
										<img height="45" width="45" src="img/bajar-comprobante.png">
									</span>
								</a>
							</div>
							<div class="fileUpload btn btn-link pull-right"
								ng-click="verificarCamposForimImpServ(formimpvent)" uib-tooltip="Importación">
								<img height="50" width="50" src="img/subir-comprobante.png">
								<input ng-disabled="formimpvent.$invalid" class="upload" type="file"
									custom-on-file-change="subirExcelVentasServicios" />&nbsp&nbsp
							</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger"
						ng-click="cerrarModalImportacionVentaServicio()">Cerrar</button>

				</div>
			</form>
		</div>
	</div>
	<!-- fin configuracion gestiones -->
	<!-- cotizaciones -->
	<div id="dialog-cotizaciones-venta" class="modal">
		<div class="modal-content">
			<div class="table-header text-center">
				Cotizaciones
			</div>
			<div class="modal-body no-padding">
				<div class="row">
					<form name="formularioBusquedaInventario" novalidate>
						<div class="col-xs-10">
							<!-- <div class="row" ng-include src="'/templates/gral/paginator-header-1.html'">
							</div> -->
							<div class="content-filtros">
								<div class="pull-left form-group has-info no-margin-bottom">
									<div class="dataTables_length" id="tabla-productos_length">
										<label>
											Mostrar
											<select ng-model="paginator.itemsPerPage"
												ng-change="paginator.getFirstPage()" name="tabla-proveedores_length"
												aria-controls="tabla-productos" class="form-control input-sm">
												<option selected value="10">10</option>
												<option value="25">25</option>
												<option value="50">50</option>
												<option value="100">100</option>
											</select> productos por página</label>
									</div>
								</div>
								<div class="pull-right form-group has-info no-margin-bottom">
									<div id="tabla-productos_filter" class="">
										<label>Búsqueda:
											<span class="block input-icon input-icon-right">
												<input type="text" ng-model="textSearch"
													ng-model-options="{ debounce: 600 }"
													ng-change="paginator.getSearch(textSearch,paginator.filter,$event)"
													class="width-100 input-sm">
												<i class="ace-icon fa fa-search"></i>
											</span>
										</label>
									</div>
								</div>
							</div>
						</div>
						<div class="col-xs-2">
							<button ng-disabled="formularioBusquedaInventario.$invalid" type="button"
								ng-click="cerrarPopupCotizaciones(idModalInventario)"
								class="btn btn-danger button-close">
								<i class="ace-icon fa fa-close align-top bigger-125"></i>
							</button>
						</div>
					</form>
				</div>
				<div class="">
					<table id="tabla-inventarios" class="table table-striped table-bordered table-hover">
						<thead>
							<tr>
								<th class="center">
									#
								</th>
								<th>
									<a href="javascript:void(0)" ng-click="clasificarColumna('fecha')">Fecha
										<span id="codigop" class="sort ace-icon fa fa-sort icon-only"></span>
									</a>
								</th>
								<th>
									<a href="javascript:void(0)" ng-click="clasificarColumna('razon_social')">Empresa
										<span id="nombrep" class="sort ace-icon fa fa-sort icon-only"></span>
									</a>
								</th>
								<th>
									<a href="javascript:void(0)" ng-click="clasificarColumna('importe')">Monto
										<span id="descripcionp" class="sort ace-icon fa fa-sort icon-only"></span>
									</a>
								</th>

								<th>Acciones</th>
							</tr>
						</thead>

						<tbody>
							<tr ng-repeat="cotizacion in cotizaciones">
								<td class="center">
									{{$index+1}}
								</td>
								<td>{{cotizacion.fecha | date:"dd/MM/yyyy"}}</td>
								<td>{{cotizacion.cliente.razon_social}}</td>
								<td>{{cotizacion.importe}}</td>
								<td>
									<button type="button" ng-click="obtenerDetalleCotizacion(cotizacion, false)"
										class="btn btn-primary btn-sm">
										<i class="ace-icon fa fa-search icon-only"></i>
									</button>

									<button type="button" ng-click="obtenerDetalleCotizacion(cotizacion, true)"
										class="btn btn-success btn-sm">
										<i class="ace-icon fa fa-chevron-right icon-only"></i>
									</button>
									<!--<button type="button" ng-click="verDetalleInventario(producto)" class="btn btn-info btn-sm">
										<i class="ace-icon fa fa-search-plus icon-only"></i>
									</button>-->
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="row" ng-include src="'/templates/gral/paginator.html'">
				</div>
			</div>
		</div>
	</div>


	<div id="dialog-detalle-cotizaciones" class="modal">
		<div class="table-header text-center" style="background-color: #ffb752!important;">
			Detalle Cotizacion
		</div>

		<div class="row">

			<div class="col-xs-9">
				<!-- <h5 class="blue titulo-pre-requisito ng-binding">
					{{cotizacion.cliente.razon_social}}
				</h5>
				<h5 class="blue titulo-pre-requisito ng-binding">
					COTIZACION {{cotizacion.numero_documento}}
				</h5>
				<h5 class="blue titulo-pre-requisito ng-binding">
					FECHA {{cotizacion.fecha | date:"dd/MM/yyyy"}}
				</h5> -->
				<div class="widget-box transparent">
					<div class="widget-header widget-header-large">
						<h3 class="widget-title grey lighter">
							<i class="ace-icon fa fa-user blue"></i>
							{{cotizacion.cliente.razon_social}}
						</h3>

						<div class="widget-toolbar no-border invoice-info">
							<span class="invoice-info-label">Cotizacion:</span>
							<span class="red">#{{cotizacion.numero_documento}}</span>

							<br>
							<span class="invoice-info-label">Fecha:</span>
							<span class="blue">{{cotizacion.fecha | date:"dd/MM/yyyy"}}</span>
						</div>

						<div class="widget-toolbar no-border invoice-info">
							<span class="invoice-info-label">Movimiento:</span>
							<br>
							<span class="blue"
								ng-if="cotizacion.tipoMovimiento">{{cotizacion.tipoMovimiento.nombre}}</span>
							<span class="blue" ng-if="!cotizacion.tipoMovimiento">NINGUNO</span>
						</div>

						<div class="widget-toolbar hidden-480">
							<span>
								<i class="ace-icon fa fa-file"></i>
							</span>
						</div>
					</div>

					<div class="widget-body">
						<div class="widget-main padding-15">
							<div class="">
								<div class="col-sm-6">
									<div class="row">
										<div class="col-xs-11 label label-lg label-info arrowed-in arrowed-right">
											<b>Sucursal</b>
										</div>
									</div>

									<div>
										<ul class="list-unstyled spaced">
											<li>
												<i class="ace-icon fa fa-caret-right blue"></i>
												{{cotizacion.sucursal.nombre}}
											</li>
										</ul>
									</div>
								</div><!-- /.col -->

								<div class="col-sm-6">
									<div class="row">
										<div class="col-xs-11 label label-lg label-success arrowed-in arrowed-right">
											<b>Almacen</b>
										</div>
									</div>

									<div>
										<ul class="list-unstyled  spaced">
											<li>
												<i class="ace-icon fa fa-caret-right green"></i>
												{{cotizacion.almacen.nombre}}
											</li>
										</ul>
									</div>
								</div><!-- /.col -->
							</div><!-- /.row -->
						</div>
					</div>
				</div>
			</div>
			<div class="col-xs-3">
				<button type="button" ng-if="editCoticacion" ng-disabled="isCheckedCotizacion(cotizacion)"
					ng-click="agregarVentaCotizacion(cotizacion)" class="btn btn-primary button-close">
					<i class="ace-icon fa fa-check align-top bigger-125"></i>
					Agregar a Detalle
				</button>
				<button ng-disabled="formularioBusquedaInventario.$invalid" type="button"
					ng-click="cerrarPopupDetalleCotizaciones(idModalInventario)" class="btn btn-danger button-close">
					<i class="ace-icon fa fa-close align-top bigger-125"></i>
				</button>
			</div>
		</div>
		<div class="modal-body no-padding">

			<table id="" class="table table-bordered table-hover no-margin-bottom no-border-top">
				<thead>
					<tr>
						<th class="center">
							#
						</th>
						<th>
							Codigo
						</th>
						<th>
							Producto
						</th>
						<th>
							Cantidad Solicitada
						</th>
						<th ng-if="usuario.empresa.usar_vencimientos && usuario.empresa.usar_vencimiento_productos">
							Lote/Serie
						</th>
						<th>
							Cantidad Disponible
						</th>
						<th>
							Cantidad a entregar
						</th>
						<th>
							Faltante
						</th>
						<th>
							Precio
						</th>
						<th>
							Total
						</th>

						<th style="width: 12%;">Acciones</th>
					</tr>
				</thead>

				<tbody>
					<tr ng-repeat="c in cotizacion.detallesCotizacion" ng-class="{ 'selectedRow' : c.aceptar }">
						<td class="center">
							{{$index+1}}
						</td>
						<td>{{c.producto.codigo}}</td>
						<td>{{c.producto.nombre}}</td>
						<td>{{c.cantidad}}</td>
						<td ng-if="usuario.empresa.usar_vencimientos && usuario.empresa.usar_vencimiento_productos">
							<select style="width:95px;" name="fechaVencimiento" ng-if="c.producto.activar_inventario"
								ng-model="c.inventarioProducto" data-placeholder="Elija la fecha de vencimiento"
								ng-change="actualizarInventarioCotizacion(c)"
								ng-options="inventario as (inventario.lote+'-'+inventario.fechaVencimientoTexto) for inventario in c.inventariosDisponibleProducto track by inventario.id">
							</select>
						</td>
						<td>{{c.disponible}}</td>
						<td>{{c.entregar}}</td>
						<td>{{c.faltante}}</td>
						<td>{{c.precio_unitario}}</td>
						<td>{{c.total}}</td>
						<td>
							<div class="hidden-sm hidden-xs btn-group" ng-if="c.entregar > 0 && editCoticacion ">
								<button ng-disabled="c.aceptar" ng-if="c.aceptar" class="btn btn-xs btn-success"
									ng-click="aceptarDetalleCotizacion(c)">
									<i class="ace-icon fa fa-check bigger-120"></i>
								</button>
								<button ng-if="!c.aceptar" class="btn btn-xs btn-warning" uib-tooltip="Seleccionar"
									tooltip-placement="top" tooltip-append-to-body="true"
									ng-click="aceptarDetalleCotizacion(c)">
									<i class="ace-icon fa fa-check bigger-120"></i>
								</button>
								<button class="btn btn-xs btn-danger" ng-if="c.aceptar" uib-tooltip="Quitar"
									tooltip-placement="top" tooltip-append-to-body="true"
									ng-click="cancelarDetalleCotizacion(c)">
									<i class="ace-icon fa fa-close bigger-120"></i>
								</button>
								<button class="btn btn-xs btn-info" uib-tooltip="Cambiar precio" tooltip-placement="top"
									tooltip-append-to-body="true" ng-click="editarDetalleCotizacion(c)">
									<i class="ace-icon fa fa-pencil bigger-120"></i>
								</button>


							</div>

							<span class="label label-danger" ng-if="c.entregar <= 0 ">
								<i class="ace-icon fa fa-exclamation-triangle bigger-120"></i>
								No tiene cantidad disponible
							</span>


						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>

	<div id="dialog-cotizacione-editar" class="modal" title="Editar precio">

		<form name="formularioEditarCotizacion" novalidate ng-submit="guardarEditarCotizacion(c)">
			<div class="modal-header text-center text-white" style="background-color: #307ecc!important;">
				<p>
				<h5>{{c.producto.nombre}}</h5>
				</p>
			</div>
			<div class="modal-body">
				<div>
					<span>Cambiar Precio </span>
					<input required class="form-control" type="number" ng-model="c.precio_unitario">
				</div>
			</div>
			<div class="modal-footer">
				<div class="col-sm-6">
					<button type="submit" class="btn btn-success"
						ng-disabled="formularioEditarCotizacion.$invalid">Guardar</button>
				</div>


				<div class="col-sm-6">
					<button type="button" class="btn btn-danger"
						ng-click="cancelarPopupCotizacionEditar(c)">Cancelar</button>
				</div>
			</div>
		</form>
	</div>

	<!--========== Mensaje de cobra de pago =============-->
	<div id="Modal-Mensaje-Pago" class="modal wizard-posicion">
		<div class="modal-header bg-primary">
			<h4 class='smaller text-white text-uppercase'>
				<center>Mensaje</center>
			</h4>
		</div>
		<div class="modal-body">
			<div class="modal-content">
				<h5>
					<center>El cobro excede el monto a cobrar, desea continuar
						(se registrará como cobro anticipado)</center>
				</h5>
			</div>
		</div>
		<div class="modal-footer wizard-actions">
			<button class="btn btn-success btn-sm" ng-click="mensaje(true)">Continuar</button>
			<button class="btn btn-danger btn-sm pull-left" ng-click="mensaje(false)">Cancelar</button>
		</div>
	</div>
	<!-- ==============Fin mensaje=============-->

	<!-- =========Introducción dirección email destinatario======= -->
	<div id="modal-destinatario-email" class="modal">
		<div class="modal-body">
			<div class="modal-content">
				<div class="row">
					<div class="container-fluid">
						<h5 class="center">
							POR FAVOR INGRESE EMAIL DE DESTINARIO, USE COMA PARA SEPARACIÓN.
						</h5>
					</div>
				</div>
				<div class="row">
					<div class="container-fluid" style="margin-left: auto; margin-right: auto;">
						<input type="email" multiple name="emailDestinatario" id="emailDestinatario"
							ng-model="dataMail.destinatario">
					</div>
				</div>
			</div>
		</div>
		<div class="modal-footer">
			<button class="btn btn-success btn-sm" ng-click="sendMail()">Continuar</button>
			<button class="btn btn-danger btn-sm pull-left" ng-click="cerrarModalDestinatarioEmail()">Cancelar</button>
		</div>
	</div>
	<div id="modal-meseros-venta" class="modal">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" ng-click="cerrarModalMeserosVenta()"
					aria-hidden="true">&times;</button>
				<h4 class="modal-title">Lista Meseros</h4>
			</div>
			<div class="modal-body">
				<div>
					<button type="button" class="btn btn-primary" ng-click="abrirModalNuevoMesero()">Nuevo</button>
				</div>
				<div class="space-4"></div>
				<div>

					<table class="table  table-striped table-bordered table-hover">
						<thead>
							<tr>
								<th>Nº</th>
								<th>Código</th>
								<th>Nombre Completo</th>
								<th>Célula de identidad</th>
								<th>Dirección</th>
								<th>Acc.</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="mesero in meserosVenta track by $index">
								<td>{{$index+1}}</td>
								<td>{{mesero.codigo}}</td>
								<td>{{mesero.persona.nombre_completo}}</td>
								<td>{{mesero.persona.ci}}</td>
								<td>{{mesero.persona.direccion}}</td>
								<td>
									<a class="green" href="javascript:void(0)" ng-click="abrirModalNuevoMesero(mesero)">
										<i class="ace-icon fa fa-pencil-square-o bigger-130"></i>
									</a>
									<a class="red" href="javascript:void(0)" ng-click="inhabilitarMesero(mesero)">
										<i class="ace-icon fa fa-trash-o bigger-130"></i>
									</a>
								</td>
							</tr>
						</tbody>
					</table>

				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-danger" ng-click="cerrarModalMeserosVenta()">Cerrar</button>
			</div>
		</div>
	</div>
	<div id="modal-nuevo-mesero" class="modal">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" ng-click="cerrarModalNuevoMesero()"
					aria-hidden="true">&times;</button>
				<h4 class="modal-title">Nuevo Mesero</h4>
			</div>
			<form id="form-mesero-venta" ng-submit="guardarMeseroVenta()">
				<div class="modal-body">
					<div class="row">
						<div class="col-sm-12 col-md-4">
							<p>Nombre</p>
							<input type="text" ng-model="mesero.persona.nombres" ng-model-options="{updateOn: 'submit'}"
								required>
						</div>
						<div class="col-sm-12 col-md-4">
							<p>Apellido Paterno</p>
							<input type="text" ng-model="mesero.persona.apellido_paterno"
								ng-model-options="{updateOn: 'submit'}" required>
						</div>
						<div class="col-sm-12 col-md-4">
							<p>Apellido Materno</p>
							<input type="text" ng-model="mesero.persona.apellido_materno"
								ng-model-options="{updateOn: 'submit'}" required>
						</div>
					</div>
					<div class="space-4"></div>
					<div class="row">
						<div class="col-sm-12 col-md-4">
							<p>Codigo</p>
							<input type="text" ng-model="mesero.codigo" required>
							<br>
							<p ng-class="{'text-red':data.type,'text-green':!data.type}"> {{data.message}}</p>
						</div>
						<div class="col-sm-12 col-md-4">
							<p>Célula de identidad</p>
							<input type="text" ng-model="mesero.persona.ci" ng-model-options="{updateOn: 'submit'}"
								required>
						</div>
						<div class="col-sm-12 col-md-4">
							<p>Dirección</p>
							<input type="text" ng-model="mesero.persona.direccion"
								ng-model-options="{updateOn: 'submit'}" required>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger pull-left"
						ng-click="cerrarModalNuevoMesero()">Cerrar</button>
					<button type="submit" class="btn btn-success"
						ng-disabled="data.message=='¡el codigo ya Exsiste!'">Guardar</button>
				</div>
			</form>
		</div>
	</div>
	<div id="dialog-panel-ventas-express" class="modal wizard-posicion">
		<div></div>

		<div class="row">
			<div class="col-sm-12">
				<div class="widget-boxx">
					<form id="formularioVentaPanelExpress" name="formularioVentaPanelExpress" novalidate
						ng-submit="guardarVentaPanel(formularioVentaPanelExpress.$valid,venta)">
						<div class="widget-body">
							<div class="widget-main {{color.style}}">
								<div class="row">
									<a type="button" href="javascript:void(0)" class="red button-close-modal"
										ng-click="showHideFirstRow()">
										<i class="ace-icon fa fa-chevron-circle-down align-top bigger-280"></i>
									</a>
									<div class="col-xs-7 col-sm-7 col-lg-1 col-md-1 col-xl-1 hidden-md hidden-lg"
										align="center">
										<div class="group-color-button" style="height: 40px;">
											<button type="button" class="Vboton-verde-circle"
												ng-click="cambiarColor('green-style','green-style-button')"></button>
											<button type="button" class="Vboton-rojo-circle"
												ng-click="cambiarColor('red-style','red-style-button')"></button>
											<!-- circulo medio -->
											<div class=" hidden-xs hidden-sm Vpunto"></div>
											<button type="button" class="Vboton-azul-circle"
												ng-click="cambiarColor('skyblue-style','skyblue-style-button')"></button>
											<button type="button" class="Vboton-cafe-circle"
												ng-click="cambiarColor('brown-style','brown-style-button')"></button>
										</div>
									</div>
									<div class="col-xs-3 col-sm-3 hidden-md col-lg-2 hidden-lg text-center">
										<div class="">
											<label class="control-label label-responsive red"
												style="font-size:15px"><b>TOTAL :<span
														class="hidden-md hidden-lg">{{venta.total}}</span>
												</b></label>
										</div>
									</div>
									<a type="button" href="javascript:void(0)" class="red pull-right button-close-modal"
										ng-click="cerrarPopupPanelExpress()">
										<i class="ace-icon fa fa-times-circle-o align-top bigger-280"></i>
									</a>

									<div class="col-xs-12 col-sm-12">

										<div class="row first-row">

											<div class="col-xs-6 col-sm-6 col-lg-2 col-md-2 col-xl-2"
												ng-if="tipoEgreso==diccionario.EGRE_FACTURACION || tipoEgreso==diccionario.EGRE_PROFORMA">
												<label>FECHA</label>
												<input data-validate="validate(required)" required ng-update-hidden
													class="form-control date-picker" type="text"
													data-date-format="dd/mm/yyyy" id="fechaP"
													ng-model="venta.fechaTexto" placeholder="Ingrese la fecha" />
											</div>
											<!-- <div class="col-xs-6 col-sm-6 col-lg-2 col-md-2 col-xl-2">
														<label>MOVIMIENTO</label>
														<select class="form-control" data-validate="validate(required)" required
															id="movimiento" name="movimiento" ng-model="venta.movimiento"
															data-placeholder="Click para escoger"
															ng-change="obtenerTipoEgreso(venta.movimiento)"
															ng-options="movimiento as movimiento.nombre for movimiento in movimientosEgreso track by movimiento.id">
															
														</select>
													</div>
													<div class="col-xs-6 col-sm-6 col-lg-2 col-md-2 col-xl-2"
														ng-if="tipoEgreso==diccionario.EGRE_FACTURACION">
														<label>ACTIVIDAD</label>
														<select class="form-control" style='width:160px'
															data-validate="validate(required)" required id="actividad"
															name="actividad" ng-model="venta.actividad"
															ng-options="actividad as actividad.nombre for actividad in actividades track by actividad.id"
															data-placeholder="Click para escoger"></select>
													</div> -->
											<div class="col-xs-6 col-sm-6 col-lg-2 col-md-2 col-xl-2">
												<label>SUCURSAL</label>
												<select class="form-control" data-validate="validate(required)" required
													id="sucursalVentaPanel" name="sucursal"
													ng-options="sucursal as sucursal.nombre for sucursal in sucursales track by sucursal.id"
													ng-model="venta.sucursal"
													ng-change="obtenerAlmacenesActividades(venta.sucursal.id)">
												</select>
											</div>

											<div class="col-xs-6 col-sm-6 col-lg-3 col-md-3 col-xl-3">
												<label>ALMACEN</label>
												<select class="form-control" ng-change="cargarProductos()"
													data-validate="validate(required)" required id="almacen-v-2"
													name="almacen-v-2" ng-model="venta.almacen"
													ng-options="almacen as almacen.nombre for almacen in almacenes track by almacen.id"
													data-placeholder="Click para escoger"></select>
											</div>
											<div class="col-xs-6 col-sm-6 col-lg-3 col-md-3 col-xl-3"
												ng-if="tipoEgreso==diccionario.EGRE_FACTURACION || tipoEgreso==diccionario.EGRE_PROFORMA">
												<label>TIPO DE PAGO</label>
												<select class="form-control" data-validate="validate(required)" required
													id="pago" name="pago" ng-model="venta.tipoPago"
													data-placeholder="Elija un tipo de pago"
													ng-change="cambiarTipoPago(venta)"
													ng-options="tipoPago as tipoPago.nombre for tipoPago in tiposPago track by tipoPago.id">
												</select>
												<div class="space-4"></div>
											</div>

											<div
												class="col-xs-6 col-sm-6 col-lg-1 col-md-1 col-xl-1 hidden-sm hidden-xs PULL-RIGHT">
												<div class="group-color-button" style="width: 80px">
													<button type="button" class="btn Vboton-verde"
														ng-click="cambiarColor('green-style','green-style-button')"></button>
													<button type="button" class="btn Vboton-rojo"
														ng-click="cambiarColor('red-style','red-style-button')"></button>
													<!-- circulo medio -->
													<div class="Vpunto"></div>
													<button type="button" class="btn Vboton-azul"
														ng-click="cambiarColor('skyblue-style','skyblue-style-button')"></button>
													<button type="button" class="btn Vboton-cafe"
														ng-click="cambiarColor('brown-style','brown-style-button')"></button>
												</div>

											</div>

										</div>


										<div class="row first-row">
											<div class="col-xs-6 col-sm-6 col-lg-2 col-md-2 col-xl-2"
												ng-if="venta.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO">
												<label>DIAS</label>
												<input data-validate="validate(required)" required type="number"
													ng-model="venta.dias_credito" class="form-control" />
											</div>
											<div class="col-xs-6 col-sm-6 col-lg-2 col-md-2 col-xl-2"
												ng-if="venta.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO">
												<label>SUJETO A CF</label>
												<input disabled type="number" step="0.001" ng-model="venta.total"
													class="form-control" />
											</div>
											<div class="col-xs-6 col-sm-6 col-lg-2 col-md-2 col-xl-2"
												ng-if="venta.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO">
												<label>A CUENTA (Bs)</label>
												<input data-validate="validate(required)" required type="number"
													step="0.001" ng-model="venta.a_cuenta" value="0.0"
													ng-change="calcularSaldo()" class="form-control" />
											</div>
											<div class="col-xs-6 col-sm-6 col-lg-2 col-md-2 col-xl-2"
												ng-if="venta.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO">
												<label>SALDO</label>
												<input disabled type="number" step="0.001" ng-model="venta.saldo"
													class="form-control" />
												<div class="space-4"></div>
											</div>
											<div class="col-xs-6 col-sm-6 col-lg-2 col-md-2 col-xl-2"
												ng-if="venta.tipoPago.nombre_corto==diccionario.TIPO_PAGO_TARJETA_CREDITO">
												<label>Nro:.</label>
												<input data-validate="validate(required)" type="number"
													ng-model="venta.numero_tarjeta_credito" class="form-control" />
											</div>

											<div class="col-xs-6 col-sm-6 col-lg-2 col-md-2 col-xl-2"
												ng-if="venta.tipoPago.nombre_corto==diccionario.TIPO_PAGO_TARJETA_CREDITO">
												<label>Bs:.</label>
												<input data-validate="validate(required)" required type="number"
													disabled ng-model="venta.monto_tarjeta_credito"
													class="form-control" />
												<div class="space-4"></div>
											</div>
										</div>
										<div class="row nit-row">
											<div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
												<div class="align-panel-search">
													<a href="javascript:void(0)" class="white"
														ng-click="ordenarProductos(ordenProductos)">
														<i class="fa fa-sort-amount-desc bigger-200" aria-hidden="true"
															ng-if="ordenProductos"></i>
														<i class="fa fa-sort-amount-asc bigger-200" aria-hidden="true"
															ng-if="!ordenProductos"></i>
													</a>
												</div>
											</div>
											<div class="col-xs-3 col-sm-3 col-md-3 col-lg-2">
												<div class="align-panel-search">
													<a popover-placement="bottom" href="javascript:void(0)"
														popover-enable="venta.almacen" popover-is-open="popoverIsOpen"
														uib-popover-template="dynamicPopoverGrupos.templateUrl"
														popover-trigger="outsideClick: outsideClick"
														popover-title="Grupos" popover-append-to-body="false"
														class="white pull-right">
														<i class="fa fa-list-ol bigger-200" aria-hidden="true"></i>
													</a>
													<label
														class="label-responsive white">{{grupoSeleccionado.nombre}}</label>
												</div>
												<script type="text/ng-template"
													id="myPopoverTemplateGruposExpress.html">
														<div class="form-group">
														
															<div ng-if="grupos_productos.length>0">
																<div class="row">
																		<div class="col-xs-8">
																				<input type="text" ng-model="filtroGrupo.nombre" class="from-control">
																			</div>
																	<div class="inline pos-rel pull-left col-xs-4">
																		<a data-toggle="dropdown" href="javascript:void(0)"
																			class="btn btn-danger btn-sm dropdown-toggle"
																			aria-expanded="false">
																			<i class="glyphicon  glyphicon-list-alt"></i>
																			<span class="caret"></span>
																		</a>
		
																		<ul id="campos-detalle-venta"
																			class="dropdown-menu-right dropdown-menu dropdown-yellow dropdown-caret button-check-group">
		
																			<input type="text" ng-model="filterText"
																				class="imput-search">
																			<li ng-repeat="grupo in grupos_productos">
		
		
																				<div class="checkbox">
																					<label class="block"
																						ng-show="grupo.nombre.toUpperCase().search(filterText.toUpperCase()) !== -1">
																						<input name="form-field-checkbox"
																							type="checkbox" class="ace input-lg"
																							ng-model="grupo.selected"
																							ng-click="saveCheckList()">
																						<span class="lbl bigger-120 text-primary">
																							{{grupo.nombre}}</span>
																					</label>
																				</div>
																			</li>
		
		
																			<li class="divider"></li>
																		</ul>
																	</div>
		
																</div>
																
																<div class="row" style="height:320px !important;overflow: auto;">
																		<div class="col-xs-6">
																				<button type="button" ng-click="clasificarGrupo()"
																					class="button-style btn-panel btn-info btn-block btn-mini text-cut">Todos
																				</button>
																			</div>
																	<div class="col-xs-6"
																		ng-repeat="grupo in listChecked |filter:filtroGrupo">
																		<button type="button" ng-click="clasificarGrupo(grupo)"
																			class="button-style btn-panel btn-info btn-block btn-mini text-cut"><b>{{grupo.nombre}}</b>
																		</button>
																	</div>
																</div>
															</div>
															</div>
														</div>
														
															</script>
											</div>

											<div class="col-xs-7 col-sm-7 col-md-4 col-lg-6">
												<div class="row">
													<div class="col-sm-1 col-md-1 col-lg-1">
														<div class="align-panel-search">
															<a class="blue" href="javascirpt:void(0)"
																ng-click="abrirModalMesasVentaExpress()">
																<img height="40" width="40" src="img/mesa.png">
															</a>
														</div>
													</div>
													<div class="col-sm-11 col-md-11 col-lg-11">
														<div class="" data-barcode-scanner="barcodeScanned">
															<input type="text" class="form-control align-panel-search"
																placeholder="Buscar" id="inputGroup"
																ng-model="search" />
														</div>
													</div>
												</div>


											</div>
											<div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
												<div class="align-panel-search">
													<div ng-click="proformaClick(venta)" id="venta-proforma"
														class="btn-directo infobox-icon btn btn-xs {{color.style}}">
														<i class="ace-icon fa fa-shopping-cart bigger-220"></i>
													</div>
												</div>
											</div>
											<div class="hidden-xs hidden-sm col-md-2 col-lg-2 text-center">
												<div class="" data-barcode-scanner="barcodeScanned">
													<label class="control-label align-panel-search white"
														style="font-size:17px">
														<b>TOTAL :<span> {{venta.total}}</span>
														</b>
													</label>
												</div>
											</div>
										</div>
										<div class="space-4"></div>


										<!--- =================== aqui la tabla resonsive ========== -->

										<!-- ================= aqui termina ================== -->
									</div>
								</div>
								<div class="row">
									<div class="content"
										style="position: absolute;z-index: 1000 !important; margin-top: -5px!important;">
										<div class="panel-group accordionExpress" id="accordionExpress">
											<div class="panel panel-default">
												<div class="panel-heading" data-toggle="collapse"
													data-parent="#accordionExpress" data-target="#collapseOneExpress">
													<h4 class="panel-title">
														<a href="javascript:void(0)">
															<span
																class="toggle-icon glyphicon glyphicon-chevron-down"></span>

														</a>

													</h4>
												</div>
												<div id="collapseOneExpress" class="panel-collapse collapse in">
													<div class="panel-body">
														<div class="contExpress ScrollStyleExpress">
															<h4 class="header blue lighter bigger">
																<i class="fa fa-file-text-o bigger-150"
																	aria-hidden="true"></i>
																Datos de la Venta
															</h4>
															<div class="row"
																ng-if="usuario.empresa.usar_restaurante_express">
																<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6"
																	ng-if="tipoEgreso==diccionario.EGRE_FACTURACION || tipoEgreso==diccionario.EGRE_PROFORMA">
																	<label
																		class="control-label label-responsive">Mesero</label>
																	<input autocomplete="off" required type="text"
																		ng-model="venta.mesero" class="form-control"
																		placeholder="Ingrese el nombre del producto..."
																		uib-typeahead="mesero as (mesero.persona.nombre_completo) for mesero in buscarMeserosVenta($viewValue,'mesa-cierre')"
																		typeahead-wait-ms="1000"
																		typeahead-template-url="templates/autocompletar.html"
																		typeahead-show-hint="false"
																		typeahead-select-on-exact="true"
																		typeahead-min-length="3"
																		typeahead-on-select="establecerMesero($item, $model, $label, $event)">

																</div>
																<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6"
																	ng-if="tipoEgreso==diccionario.EGRE_FACTURACION || tipoEgreso==diccionario.EGRE_PROFORMA">
																	<label
																		class="control-label label-responsive">Mesa</label>
																	<input data-validate="validate(required)"
																		id="mesa-cierre" required type="text"
																		ng-model="venta.mesa"
																		placeholder="Ingrese la Mesa"
																		class="form-control">
																</div>
																<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
																	<div class="space-4"></div>
																	<button type="submit"
																		ng-disabled="venta.detallesVenta.length==0 || !formularioVentaPanelExpress.$valid"
																		class="btn btn-success btn-sm button-guardar pull-left">
																		<i
																			class="ace-icon fa fa-floppy-o align-top bigger-120"></i>
																		GUARDAR
																	</button>
																	<button type="button"
																		class="btn btn-warning btn-sm pull-right"
																		ng-click="abrirModalCerrarMesa()">
																		<i class="ace-icon fa fa-print bigger-120"></i>
																	</button>
																</div>

															</div>
															<div class="scrolldetalleExpress">
																<div class="space-4"></div>
																<table
																	class="table table-striped table-bordered table-hover">
																	<thead>
																		<tr>
																			<th class="hidden-sm hidden-xs">
																				<label>#</label>
																			</th>
																			<th>
																				<label>Cant.</label>
																			</th>
																			<th>
																				<label>Producto</label>
																			</th>
																			<th>
																				<label>comentario</label>
																			</th>
																			<th class="hidden-sm hidden-xs">
																				<label>P. U. (Bs)</label>
																			</th>
																			<th class="hidden-sm hidden-xs">
																				<label>Imp. (Bs)</label>
																			</th>
																			<th class="hidden-sm hidden-xs">
																				<label>Acciones</label>
																			</th>
																		</tr>
																	</thead>
																	<tbody>
																		<tr
																			ng-repeat="detalleVenta in venta.detallesVenta">
																			<td class="hidden-sm hidden-xs">
																				{{$index+1}}
																			</td>
																			<td>
																				{{detalleVenta.cantidad}}
																			</td>
																			<td>
																				{{detalleVenta.producto.nombre}}<span
																					ng-if="detalleVenta.promosCumple"
																					class="text-info">cantidad por
																					cumple:({{detalleVenta.cantidadPorCumple}})</span>
																				<span class="text-info"
																					ng-if="detalleVenta.promocionActiva">({{detalleVenta.promo.nombre}})</span>
																				<P
																					class="text-info hidden-md hidden-lg">
																					P. U. (Bs):
																					{{detalleVenta.precio_unitario}}</P>
																				<P
																					class="text-info hidden-md hidden-lg">
																					Imp. (Bs):
																					{{detalleVenta.total |number:2}}
																				</P>
																				<p class="hidden-md hidden-lg">
																					<a href="javascript:void(0)"
																						e-disabled="detalleVenta.cantidadPorCumple==detalleVenta.cantidad"
																						ng-if="usuario.administrador_panel_venta"
																						ng-click="abrirModalEntregaDetalleVentaCliente(detalleVenta)"
																						class="button-style btn red-style-button btn-xs">
																						<i class="fa fa-birthday-cake bigger-110"
																							aria-hidden="true"></i>
																					</a>
																					<button type="button"
																						ng-click="disminuirDetalleVenta(detalleVenta)"
																						class="button-style btn red-style-button btn-xs">
																						<i
																							class="ace-icon fa fa-minus bigger-110"></i>
																					</button>

																					<button type="button"
																						ng-click="eliminarDetalleVenta(detalleVenta)"
																						class="button-style btn red-style-button btn-xs">
																						<i
																							class="ace-icon fa fa-trash-o bigger-110"></i>
																					</button>

																				</p>
																			</td>
																			<td>
																				<input type="text" class="form-control"
																					ng-model="detalleVenta.observaciones">
																			</td>
																			<td class="hidden-sm hidden-xs">
																				{{detalleVenta.precio_unitario}}
																			</td>
																			<td class="hidden-sm hidden-xs">
																				{{detalleVenta.total}}
																			</td>
																			<td class="hidden-sm hidden-xs">
																				<div class="row">
																					<div class="col-sm-6">
																						<a href="javascript:void(0)"
																							e-disabled="detalleVenta.cantidadPorCumple==detalleVenta.cantidad"
																							ng-if="usuario.administrador_panel_venta"
																							ng-click="abrirModalEntregaDetalleVentaCliente(detalleVenta)"
																							class="button-style btn red-style-button btn-xs">
																							<i class="fa fa-birthday-cake bigger-110"
																								aria-hidden="true"></i>
																						</a>
																						<button type="button"
																							ng-click="disminuirDetalleVenta(detalleVenta)"
																							class="button-style btn red-style-button btn-xs">
																							<i
																								class="ace-icon fa fa-minus bigger-110"></i>
																						</button>
																					</div>
																					<div class="col-sm-6">
																						<button type="button"
																							ng-click="eliminarDetalleVenta(detalleVenta)"
																							class="button-style btn red-style-button btn-xs">
																							<i
																								class="ace-icon fa fa-trash-o bigger-110"></i>
																						</button>
																					</div>
																				</div>

																			</td>
																		</tr>

																	</tbody>
																</table>
															</div>
															<div>

																<h3><b>TOTAL</b>
																	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
																	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
																	<b>{{venta.total}}</b>
																</h3>

															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>

									<!-- PAGE CONTENT BEGINS -->

									<!-- <div style="overflow: scroll;overflow-x: hidden;width: 405px;height: 480px;"
													ng-if="venta.detallesVenta.length>0" class="row">
													<div class="col-xs-12 table-responsive">
														<table class="table table-striped table-bordered table-hover">
															<thead>
																<tr>
																	<th>
																		<label>#</label>
																	</th>
																	<th>
																		<label>Cant.</label>
																	</th>
																	<th>
																		<label>Producto</label>
																	</th>
																	<th>
																		<label>P. U. (Bs)</label>
																	</th>
																	<th>
																		<label>Imp. (Bs)</label>
																	</th>
																	<th>
																		<label>Acciones</label>
																	</th>
																</tr>
															</thead>
															<tbody>
																<tr ng-repeat="detalleVenta in venta.detallesVenta">
																	<td>
																		{{$index+1}}
																	</td>
																	<td>
																		{{detalleVenta.cantidad}}
																	</td>
																	<td>
																		{{detalleVenta.producto.nombre}}
																	</td>
																	<td>
																		{{detalleVenta.precio_unitario}}
																	</td>
																	<td>
																		{{detalleVenta.total}}
																	</td>
																	<td>
																		<div class="row">
																			<div class="col-sm-6">
																				<button type="button"
																					ng-click="disminuirDetalleVenta(detalleVenta)"
																					class="button-style btn red-style-button btn-xs">
																					<i class="ace-icon fa fa-minus bigger-110"></i>
																				</button>
																			</div>
																			<div class="col-sm-6">
																				<button type="button"
																					ng-click="eliminarDetalleVenta(detalleVenta)"
																					class="button-style btn red-style-button btn-xs">
																					<i
																						class="ace-icon fa fa-trash-o bigger-110"></i>
																				</button>
																			</div>
																		</div>
			
																	</td>
																</tr>
																<tr>
																	<td>
			
																	</td>
																	<td>
			
																	</td>
																	<td>
			
																	</td>
																	<td>
																		<b>TOTALES</b>
																	</td>
																	<td>
																		{{venta.total}}
																	</td>
																	<td>
			
																	</td>
																</tr>
															</tbody>
														</table>
													</div>
												</div> -->


									<!-- /.col -->
									<div class="col-xs-1 col-sm-1 col-md-1 col-lg-4"></div>
									<div class="col-xs-11 col-sm-11  col-md-11 col-lg-12 pull-right">
										<!-- PAGE CONTENT BEGINS -->
										<div class="row" ng-if="venta.detallesVenta.length>0">
											<!-- <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9">
															<a style="padding-left: 20px;" data-rel="tooltip" data-placement="top"
																uib-tooltip="{{detalleVenta.producto.nombre}}"
																ng-repeat="detalleVenta in venta.detallesVenta">
																<img ng-src="{{detalleVenta.producto.imagen}}" style="border-radius: 50%"
																	height="40" width="40"><span
																	class="badge badge-success">{{detalleVenta.cantidad}}</span>
															</a>
														</div> -->
											<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

												<nav class="nav-grupo">
													<ul class="nav-list-grupo">
														<li data-rel="tooltip" data-placement="bottom"
															tooltip-append-to-body="true"
															uib-tooltip="{{detalleVenta.producto.nombre}}"
															ng-repeat="detalleVenta in venta.detallesVenta"><img
																ng-src="{{detalleVenta.producto.imagen}}"
																style="border-radius: 50%" height="40" width="40"><span
																class="badge badge-success">{{detalleVenta.cantidad}}</span>
														</li>

													</ul>
												</nav>

											</div>

										</div>
										<div class="row height-productos" id="scrollproducto"
											ng-if="!usar_productos_derivados_panel">
											<div id="productos" class="col-xs-12" infinite-scroll='getProductosPanel()'
												infinite-scroll-distance='0'
												infinite-scroll-container="'#scrollproducto'">
												<div>
													<div ng-if="!usar_productos_derivados_panel">
														<div ng-click="agregarDetalleVentaPanel(producto)"
															ng-if="producto.visible"
															class="button-panel-product btn-success swiper-slide productos-button"
															ng-repeat="producto in productosProcesados">
															<img ng-src="{{producto.imagen}}" width="100%"
																class="foto-producto">


															<label class="panel-cantidad" ng-if="producto.activar_inventario">{{producto.inventario_disponible}}</label>
															<div class="">
																<span class="label-holder precios-panel">
																	<span ng-if="!producto.promocionEnHora"
																		class="label label-warning arrowed-in">{{producto.precio_unitario}}
																		Bs</span>
																	<span ng-if="producto.promocionEnHora"
																		class="label label-warning arrowed-in">{{producto.promocionActual.precio}}
																		Bs</span>
																</span>
															</div>
															<span class="panel-promocion"
																uib-tooltip="{{producto.promocionActual.nombre}}"
																tooltip-append-to-body="true"
																ng-if="producto.promocionEnHora"><a class="red"
																	href="javascript:void(0)"
																	e-disabled="!aplicacion.puede_modificar && usuario.empresa.usar_promocion_producto"
																	ng-click="abrirModalPromocionesProducto(producto)">
																	<img src="img/promo2.png" height="35" width="35"
																		alt="">
																</a></span>

															<h3 class="text-cut">{{producto.nombre}}</h3>

														</div>
													</div>


													<div ng-if="usar_productos_derivados_panel">
														<div>
															<button type="button" ng-if="paginaActualPanelgrupo>1"
																class="btn btn-primary btn-mini"
																ng-click="volverAtrasPanelGrupo()"><i
																	class="fa fa-arrow-circle-left bigger-150"></i>
																ATRAS</button>
															<button type="button" ng-if="paginaActualPanelgrupo>1"
																class="btn btn-primary btn-mini"
																ng-click="volverInicioPanelGrupo()"><i
																	class="fa fa-repeat bigger-150"></i>INICIO</button>
															<span ng-if="productosProcesados.length>0"
																class="text-info">Pagina Actual :
																{{paginaActualPanelgrupo}}</span>
														</div>
														<div ng-click="agregarDetalleVentaPanelRelaciones(producto,producto.combo)"
															ng-if="producto.visible"
															class="button-panel-product btn-success swiper-slide productos-button"
															ng-repeat="producto in productosProcesados">
															<img ng-src="{{producto.imagen}}" width="100%"
																class="foto-producto">


															<label class="panel-cantidad" ng-if="producto.hijos.length==0 && producto.activar_inventario">{{producto.inventario_disponible}}</label>
															<label class="panel-cantidad" ng-if="producto.hijos.length>0">
																<i class="fa fa-th-large" aria-hidden="true"></i>
															</label>
															<div class=""
																ng-if="producto.hijos.length==0 && producto.precio_unitario>0">
																<span class="label-holder precios-panel">
																	<span 
																		class="label label-warning arrowed-in">{{producto.precio_unitario}}
																		Bs</span>
																	<span ng-if="producto.promocionEnHora"
																		class="label label-warning arrowed-in">{{producto.promocionActual.precio}}
																		Bs</span>
																</span>
															</div>
															<span class="panel-promocion"
																uib-tooltip="{{producto.promocionActual.nombre}}"
																tooltip-append-to-body="true"
																ng-if="producto.promocionEnHora"><a class="red"
																	href="javascript:void(0)"
																	e-disabled="!aplicacion.puede_modificar && usuario.empresa.usar_promocion_producto"
																	ng-click="abrirModalPromocionesProducto(producto)">
																	<img src="img/promo2.png" height="35" width="35"
																		alt="">
																</a></span>

															<h3 class="text-cut">{{producto.nombre}}</h3>

														</div>
													</div>
													<!-- Add Pagination -->
													<!--<div class="swiper-pagination"></div>-->
												</div>
											</div>
										</div>
										<div class="row height-productos" ng-if="usar_productos_derivados_panel">
											<div id="productos" class="col-xs-12">
												<div>
													<div ng-if="!usar_productos_derivados_panel">
														<div ng-click="agregarDetalleVentaPanel(producto)"
															ng-if="producto.visible"
															class="button-panel-product btn-success swiper-slide productos-button"
															ng-repeat="producto in productosProcesados">
															<img ng-src="{{producto.imagen}}" width="100%"
																class="foto-producto">


															<label class="panel-cantidad" ng-if="producto.activar_inventario">{{producto.inventario_disponible}}</label>
															<div class="">
																<span class="label-holder precios-panel">
																	<span ng-if="!producto.promocionEnHora"
																		class="label label-warning arrowed-in">{{producto.precio_unitario}}
																		Bs</span>
																	<span ng-if="producto.promocionEnHora"
																		class="label label-warning arrowed-in">{{producto.promocionActual.precio}}
																		Bs</span>
																</span>
															</div>
															<span class="panel-promocion"
																uib-tooltip="{{producto.promocionActual.nombre}}"
																tooltip-append-to-body="true"
																ng-if="producto.promocionEnHora"><a class="red"
																	href="javascript:void(0)"
																	e-disabled="!aplicacion.puede_modificar && usuario.empresa.usar_promocion_producto"
																	ng-click="abrirModalPromocionesProducto(producto)">
																	<img src="img/promo2.png" height="35" width="35"
																		alt="">
																</a></span>

															<h3 class="text-cut">{{producto.nombre}}</h3>

														</div>
													</div>


													<div ng-if="usar_productos_derivados_panel">
														<div>
															<button type="button" ng-if="paginaActualPanelgrupo>1"
																class="btn btn-primary btn-mini"
																ng-click="volverAtrasPanelGrupo()"><i
																	class="fa fa-arrow-circle-left bigger-150"></i>
																ATRAS</button>
															<button type="button" ng-if="paginaActualPanelgrupo>1"
																class="btn btn-primary btn-mini"
																ng-click="volverInicioPanelGrupo()"><i
																	class="fa fa-repeat bigger-150"></i>INICIO</button>
															<span ng-if="productosProcesados.length>0"
																class="text-info">Pagina Actual :
																{{paginaActualPanelgrupo}}</span>
														</div>
														<div ng-click="agregarDetalleVentaPanelRelaciones(producto,producto.combo)"
															ng-if="producto.visible"
															class="button-panel-product btn-success swiper-slide productos-button"
															ng-repeat="producto in productosProcesados">
															<img ng-src="{{producto.imagen}}" width="100%"
																class="foto-producto">


															<label class="panel-cantidad" ng-if="producto.hijos.length==0 && producto.activar_inventario">{{producto.inventario_disponible}}</label>
															<label class="panel-cantidad" ng-if="producto.hijos.length>0">
																<i class="fa fa-th-large" aria-hidden="true"></i>
															</label>
															<div class=""
																ng-if="producto.hijos.length==0 && producto.precio_unitario>0">
																<span class="label-holder precios-panel">
																	<span ng-if="!producto.promocionEnHora"
																		class="label label-warning arrowed-in">{{producto.precio_unitario}}
																		Bs</span>
																	<span ng-if="producto.promocionEnHora"
																		class="label label-warning arrowed-in">{{producto.promocionActual.precio}}
																		Bs</span>
																</span>
															</div>
															<span class="panel-promocion"
																uib-tooltip="{{producto.promocionActual.nombre}}"
																tooltip-append-to-body="true"
																ng-if="producto.promocionEnHora"><a class="red"
																	href="javascript:void(0)"
																	e-disabled="!aplicacion.puede_modificar && usuario.empresa.usar_promocion_producto"
																	ng-click="abrirModalPromocionesProducto(producto)">
																	<img src="img/promo2.png" height="35" width="35"
																		alt="">
																</a></span>

															<h3 class="text-cut">{{producto.nombre}}</h3>

														</div>
													</div>
													<!-- Add Pagination -->
													<!--<div class="swiper-pagination"></div>-->
												</div>
											</div>
										</div>
									</div>

									<!-- /.col -->
								</div>




							</div>
						</div>
					</form>
				</div>
			</div>
		</div>

	</div>
	<div id="modal-cerrar-mesa" class="modal">
		<div class="modal-header">
			<button type="button" class="close" ng-click="cerrarModalCerrarMesa()" aria-hidden="true">&times;</button>
			<h4 class="modal-title">Cierre Mesa</h4>
			<div class="row">
				<div class="col-sm-6 style-modal-dates-m">
					<i class="ace-icon fa fa-calendar  bigger-110 fa-3"></i>
					{{cierremesa.fecha | date:"dd/MM/yyyy"}}
				</div>
				<div class="col-sm-6 style-modal-dates-m">
					<i class="fa fa-clock-o bigger-110  fa-3"></i>
					<span class="bg-info text-dark digital-clock digital-clock-style">00:00:00</span>
				</div>
			</div>
		</div>
		<form id="form-mesero-venta" name="formularioMesa"
			ng-submit="guardarCierreMesa(formularioMesa.$valid,cierremesa,visa)">
			<div class="modal-body">


				<div class="row">
					<div class="col-xs-6 col-sm-6 col-lg-6 col-md-6 col-xl-6">
						<label>MOVIMIENTO</label>
						<select class="form-control" data-validate="validate(required)" required id="movimiento"
							name="movimiento" ng-model="cierremesa.movimiento" data-placeholder="Click para escoger"
							ng-change="obtenerTipoEgreso(venta.movimiento)"
							ng-options="movimiento as movimiento.nombre for movimiento in movimientosEgreso|filtroCierreMesa track by movimiento.id">
							<!--<option ng-disabled="movimiento.nombre_corto==diccionario.EGRE_AJUSTE" ng-repeat="movimiento in movimientosEgreso" value="{{movimiento.id}}-{{movimiento.nombre_corto}}">{{movimiento.nombre}}</option>-->
						</select>
					</div>
					<div class="col-xs-6 col-sm-6 col-lg-6 col-md-6 col-xl-6"
						ng-if="cierremesa.movimiento.nombre_corto==diccionario.EGRE_FACTURACION">
						<label>ACTIVIDAD</label>
						<select class="form-control" data-validate="validate(required)" required id="actividad"
							name="actividad" ng-model="cierremesa.actividad"
							ng-options="actividad as actividad.nombre for actividad in actividades track by actividad.id"
							data-placeholder="Click para escoger"></select>
					</div>
				</div>
				<div class="row">

					<div class="col-sm-6 style-cliente-m">
						<div class="form-group">
							<label class=" control-label no-padding-right" for="form-field-1"> MESERO</label>
							<input autocomplete="off" required type="text" ng-model="cierremesa.mesero"
								class="form-control" placeholder="Ingrese el nombre del producto..."
								uib-typeahead="mesero as (mesero.persona.nombre_completo) for mesero in buscarMeserosVenta($viewValue,'mesa-cierre-venta',true)"
								typeahead-wait-ms="1000" typeahead-template-url="templates/autocompletar.html"
								typeahead-show-hint="false" typeahead-select-on-exact="true" typeahead-min-length="3"
								typeahead-on-select="establecerMeseroCierre($item, $model, $label, $event)">
						</div>
						<div class="form-group">
							<label class=" control-label no-padding-right" for="form-field-1"> MESA</label>
							<div class="space-4"></div>
							<input id="mesa-cierre-venta" required ng-blur="BuscarVentasMesa($event,cierremesa)"
								type="number" id="form-field-1" ng-model="cierremesa.mesa" placeholder="Mesa"
								class="form-control">

						</div>
						<div class="form-group">
							<label class=" control-label no-padding-right" for="form-field-1"> NIT/C.I.</label>
							<input ng-keypress="interceptarTecla($event,'razon_social',true)" required
								class="form-control" type="number" min="0" ng-model="cierremesa.cliente.nit"
								id="nit-cliente-express" placeholder="Ingrese el NIT"
								uib-typeahead="cliente as cliente.nit for cliente in buscarClienteCierreMesa($viewValue)"
								typeahead-wait-ms="2000" typeahead-template-url="templates/autocompletar.html"
								typeahead-show-hint="false" typeahead-min-length="0"
								typeahead-on-select="establecerClienteVentaExpress($item, $model, $label, $event)">
						</div>
					</div>
					<div class="col-sm-6 style-totales-mesa">
						<div class="form-group">
							<label class="control-label no-padding-right" for="form-field-1-1"> TOTAL
								(Bs):</label>
							<input name="pagado" required type="number" step="0.01" disabled ng-model="cierremesa.total"
								class="form-control" />
						</div>
						<div class="form-group">

							<div class="control-label">
								<label class="control-label no-padding-right" for="form-field-1-1">
									VISA:</label>
								<label>
									<input ng-model="visa" type="checkbox"
										class="ace ace-switch ace-switch-5 ng-pristine ng-untouched ng-valid ng-not-empty">
									<span class="lbl"
										data-lbl="Si&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No"></span>
								</label>
							</div>
							<div class="row">
								<div class="col-md-6">
									<input ng-disabled="!visa" type="number" step="0.01" ng-model="cierremesa.visa"
										class="form-control" />
								</div>
								<div class="col-md-6">
									<input ng-disabled="!visa" type="number" step="0.01"
										ng-model="cierremesa.pago_efectivo" class="form-control" placeholder="Bs." />
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class=" control-label no-padding-right" for="form-field-1"> Cliente</label>
							<input ng-keyup="$event.keyCode == 13 ? enfocar('pagadoP1') : null; capturarInteraccion()"
								required type="text" ng-model="cierremesa.cliente.razon_social"
								placeholder="Ingrese la Razon Social" class="form-control">

						</div>
					</div>

				</div>

				<div class="table-fixed-header3">
					<table class="table table-striped table-bordered table-hover ">
						<thead fix-head class="table-head-color">
							<tr>
								<th class="fila-num">
									Cant.
								</th>
								<th class="fila-prod">
									Producto
								</th>
								<th>
									Subtotal
								</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="p in cierremesa.datosVentasMesasGroup">
								<td class="fila-num">
									{{p.cantidad}}
								</td>
								<td class="fila-prod">
									{{p.producto.nombre}}
								</td>
								<td class="fila-sub">
									{{p.total}}
								</td>
							</tr>
						</tbody>
					</table>
				</div>



				<!-- 	<div id="pdfview"></div> -->
			</div>
			<div class="modal-footer">
				<!-- <div class="col-sm-6 style-button-align">
						<img src="img/CAJERA.png" width="30%">
					</div> -->
				<button type="button" class="btn btn-app btn-danger btn-xs text-size pull-left"
					ng-click="cerrarModalCerrarMesa()">
					<i class="ace-icon fa fa-times bigger-160"></i>
					CANCELAR
				</button>
				<button type="button" ng-disabled="cierremesa.datosVentasMesas.length==0" aling="center"
					ng-click="pdfPreview(cierremesa.datosVentasMesasGroup, cierremesa, visa)"
					class="btn btn-app btn-success btn-xs text-size radius-4">
					<i class="ace-icon fa fa-print bigger-160"></i>
					PREVIO
				</button>
				<button type="submit" id="guardar-cierre-mesa"
					ng-disabled="!formularioMesa.$valid || cierremesa.datosVentasMesas.length==0"
					class="btn btn-app btn-primary btn-xs text-size">
					<i class="ace-icon fa fa-floppy-o bigger-160"></i>
					GUARDAR
				</button>
			</div>
		</form>
	</div>
	<div id="modal-reporte-por-unidad" class="modal">
		<div class="modal-content">
			<div class="modal-header">
				<h3>Reporte Por Unidad</h3>
			</div>
			<div class="modal-body">
				<div class="row">
					<div class="form-group">
						<label>Unidad</label>
						<select required ng-model="unidad_medida" class="form-control"
							ng-options="unidad.unidad_medida as unidad.unidad_medida for unidad in unidadesMedidadProductos"
							data-placeholder="Click para escoger">
							<option value="" disabled selected>Selec.</option>
						</select>

						<br>
					</div>
				</div>
			</div>
		</div>
		<div class="modal-footer">
			<button class="btn btn-primary btn-sm" ng-click="generarReportePdfUnidad(unidad_medida)">Imprimir</button>
			<button class="btn btn-danger btn-sm pull-left" ng-click="cerrarModalRepostePorUnidad()">Cancelar</button>
		</div>
	</div>
	<div id="modal-reporte-por-mesero" class="modal">
		<div class="modal-content">
			<div class="modal-header">
				<h3>Reporte Por Mesero</h3>
			</div>
			<div class="modal-body">
				<div class="row">
					<div class="form-group">
						<label>Mesero</label>
						<select required ng-model="mesero" class="form-control"
							ng-options="mesero as mesero.persona.nombre_completo for mesero in meserosVenta"
							data-placeholder="Click para escoger">
							<option value="" disabled selected>Selec.</option>
						</select>
						<br>
					</div>
				</div>
			</div>
		</div>
		<div class="modal-footer">
			<button class="btn btn-primary btn-sm " ng-click="generarReportePdfMesero2(mesero)">Imprimir</button>
			<button class="btn btn-danger btn-sm pull-left" ng-click="cerrarModalRepostePorMesero()">Cancelar</button>
		</div>
	</div>
	<div id="modal-reporte-por-mesa" class="modal">
		<div class="modal-content">
			<div class="modal-header">
				<h3>Reporte Por Mesa</h3>
			</div>
			<div class="modal-body">
				<div class="row">
					<div class="form-group">
						<label>Mesa</label>
						<input type="number" ng-model="mesa" class="form-control">
						<br>


					</div>
				</div>
			</div>
		</div>
		<div class="modal-footer">
			<button class="btn btn-primary btn-sm " ng-click="generarReportePdfMesa(mesa)">Imprimir</button>
			<button class="btn btn-danger btn-sm pull-left" ng-click="cerrarModalRepostePorMesa()">Cancelar</button>
		</div>
	</div>
	<!-- inico modal pdf view -->
	<div id="modal-pdf-view" class="modal">
		<div class="model-header">
			<button class="btn btn-danger btn-sm pull-left" ng-click="cerrarmodalPdfView()">Cerrar</button>
		</div>
		<div id="pdfview"></div>
	</div>
	<!-- fin modal pdf view -->
	<!-- detalle venta cliente promo -->
	<div id="modal-entrega-detalle-cliente" class="modal">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" aria-hidden="true"
					ng-click="cerrarModalEntregaDetalleVentaCliente()">&times;</button>
				<h3 class="modal-title">Promoción cumplaños cliente</h3>
			</div>
			<form id="cumples" name="cumples" ng-submit="agregarPromoCumple()">
				<div class="modal-body">
					<div>
						<label for="cantidad-cumple pull-left">
							<h4>Cantidad</h4>
						</label>
						<input type="number" class="pull-left" min="1" max="{{limitCantidadCumple}}"
							class="form-control" required ng-model="promoCumple.cantidad"
							ng-value="detalleVenta.cantidad">
					</div>
					<div class="row">
						<div class="col-md-6 col-sm-12">
							<p>CI</p>
							<input ng-disabled="venta.editable"
								ng-keypress="interceptarTecla($event,'razon_social',true)"
								data-validate="validate(required)" id="nit" name="nit" required type="number" min="0"
								ng-model="promoCumple.cliente.nit" placeholder="Ingrese el NIT"
								uib-typeahead="cliente as cliente.nit for cliente in buscarClienteCumple($viewValue)"
								typeahead-wait-ms="2000" typeahead-template-url="templates/autocompletar.html"
								typeahead-show-hint="false" typeahead-min-length="0"
								typeahead-on-select="establecerClienteDetalle($item, $model, $label, $event)">

						</div>
						<div class="col-md-6 col-sm-12">
							<p>Nombre</p>
							<input ng-keyup="$event.keyCode == 13 ? enfocar('pagadoP1') : null; capturarInteraccion()"
								required type="text" ng-model="promoCumple.cliente.razon_social"
								placeholder="Ingrese la Razon Social" class="form-control">
						</div>
						<p>
						<h3 ng-if="promoCumple.messageError" class="text-danger">{{promoCumple.messageError}}</h3>
						</p>
					</div>

					<div class="row">
						<div class="col-md-12 col-sm-12">
							<p>Descuento(%)</p>
							<input type="number" class="form-control" ng-model="promoCumple.descuento" min="1" max="100"
								required>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger pull-left"
						ng-click="cerrarModalEntregaDetalleVentaCliente()">Cerrar</button>
					<button type="submit" class="btn btn-success"
						ng-disabled="promoCumple.messageError">Guardar</button>
				</div>
			</form>
		</div>

	</div>
	<!-- fin detalle venta cliente promo -->


	<div id="modal-cambios-productos-base-venta" class="modal">
		<div class="modal-dialog">
			<div class="modal-header">
				<button type="button" class="close" aria-hidden="true"
					ng-click="cerrarModalCambiosProductoBaseVenta()">&times;</button>
				<h4 class="modal-title">Cambiar Composicion</h4>
			</div>
			<div class="modal-body">
				<div class="table-fixed-header">
					<div ng-repeat="productoEditable in productosBaseEditables">
						<h4> <span class="text text-info">{{productoEditable.productoBase.nombre}}</span> <span
								ng-if="productoEditable.productoACambiar">&nbsp;<span class="text text-success">cambiar
									por</span>&nbsp; <span class="text text-warning">
									{{productoEditable.productoACambiar.nombre}}</span></span>
							<a href="javascript:void(0)" class="text text-danger" ng-if="!productoEditable.hidden"
								ng-click="productoEditable.hidden=true"> <i class="fa fa-angle-double-up"
									aria-hidden="true"></i></a>
							<a href="javascript:void(0)" class="text text-danger " ng-if="productoEditable.hidden"
								ng-click="productoEditable.hidden=false"> <i class="fa fa-angle-double-down"
									aria-hidden="true"></i></a>
						</h4>
						<div class="hr hr2 hr-double"></div>
						<div class="clearfix" ng-if="!productoEditable.hidden">
							<div class="itemdiv memberdiv" style=" cursor: pointer;"
								ng-click="cambiarProductoComboVenta(productoHermano,productoEditable)"
								ng-repeat="productoHermano in productoEditable.listaHermanos | filter:{ precio_unitario: '!0'}">
								<div class="user">
									<img alt="Bob Doe's avatar" ng-src="{{productoHermano.imagen}}">
								</div>

								<div class="body">
									<div class="name">
										<span class="text text-info">{{productoHermano.nombre}}</span>
									</div>

									<div class="time">
										<i class="ace-icon fa fa-money"></i>
										<span class="green">{{productoHermano.precio_unitario}}</span>
									</div>
									<!-- 

										<div>
											<a href="javascript:void(0)" class="label label-warning label-sm">Cambiars</a>
										</div> -->
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-danger pull-left"
					ng-click="cerrarModalCambiosProductoBaseVenta()">Cerrar</button>
				<button type="button" class="btn btn-primary" ng-click="guardarComboEnDetalle()">Agregar al
					Detalle</button>
			</div>
		</div>
	</div>

</div>

<!-- Modal -->
<div id="modal-mesas-venta-express" class="modal">

	<div class="modal-content">
		<div class="modal-header">
			<h5 class="modal-title">Mesas Ocupadas</h5>
		</div>
		<div class="modal-body">
			<div class="table-fixed-header" style="overflow-x: hidden;">
				<div class="row">
					<div class="col-md-2 col-sm-2 col-lg-2" ng-repeat="mesa in mesasOcupadas">
						<div class="form-group">
							<div class="text text-info center text-center">Mesa:{{mesa.mesa}}</div>
							<div class="container-img">
								<img height="50" width="50" src="img/mesas1.png" class="bg-info">
							</div>
						</div>
						<div class="hr"></div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-secondary" ng-click="cerrarModalMesasVentaExpress()">Cerrar</button>
	</div>
</div>

<div id="modal-venta-devolucion" class="modal wizard-posicion">
	<div class="row">
		<div class="col-sm-4">
			<div class="widget-box widget-color-blue">
				<div class="widget-header">
					<h4 class="widget-title">DATOS DE SALIDA</h4>
					&nbsp;
					<p>
						<button ng-if="!CancelacionVentaEdicion" id="cerrarV" type="button"
							class="btn btn-primary btn-danger" ng-click="cerrarPopupDevolucion()">
							<i class="ace-icon fa fa-times align-top bigger-125"></i>
							CERRAR
						</button>

					</p>
				</div>

				<div class="widget-body">
					<div class="widget-main">
						<table class="table table-striped table-bordered table-hover">
							<tr>
								<td>
									<label>MOVIMIENTO</label>
									<input type="text" ng-model="venta.movimiento.clase.nombre" disabled>
								</td>
								<td>
									<label>
										PAGADO (Bs):
									</label>
									<input class="form-control" id="pagado" name="pagado" disabled type="number"
										step="0.001" ng-model="venta.pagado" />
									<label>CAMBIO (Bs):
									</label>
									<input disabled type="number" step="0.01" ng-model="venta.cambio"
										class="form-control" />
								</td>
							</tr>

							<tr>
								<td>
									<p>SUCURSAL</p>
									<input type="text" ng-if="venta.almacen" disabled
										ng-model="venta.almacen.sucursal.nombre">
									<input type="text" ng-if="venta.sucursal" disabled ng-model="venta.sucursal.nombre">
								</td>
								<td>
									<p>ALMACEN</p>
									<input type="text" ng-model="venta.almacen.nombre" disabled>
								</td>
							</tr>
							<tr>
								<td ng-if="venta.movimiento.clase.nombre_corto==diccionario.EGRE_FACTURACION">
									<label>ACTIVIDAD</label>
								</td>
								<td ng-if="venta.movimiento.clase.nombre_corto==diccionario.EGRE_FACTURACION">
									<input type="text" ng-model="venta.actividad" disabled>
								</td>
							</tr>
							<tr>
								<td>
									<label>NIT CLIENTE</label>
									<input class="form-control" name="nit" type="number" ng-model="venta.cliente.nit"
										disabled>
								</td>
								<td>
									<label>RAZÓN SOCIAL CLIENTE</label>
									<input class="form-control" disabled name="razon_social" type="text"
										ng-model="venta.cliente.razon_social">
								</td>
							</tr>
							<tr>
								<td>
									<p>FECHA</p>
									<input name="fecha" disabled class="form-control date-picker" type="text"
										ng-model="venta.fecha" />
								</td>
								<td>
									<p>TIPO DE PAGO</p>
									<input type="text" disabled ng-model="venta.tipoPago.nombre">
								</td>
							</tr>
							<tr>
								<td ng-if="venta.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO">
									<label>DIAS</label>
									<input disabled type="number" class="form-control" name="dias"
										ng-model="venta.dias_credito" />
								</td>
								<td ng-if="venta.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO">
									<label>SUJETO A CF</label>
									<input disabled type="number" class="form-control" ng-model="venta.total" />
								</td>
								<td ng-if="venta.tipoPago.nombre_corto == diccionario.TIPO_PAGO_TARJETA_CREDITO">
									<label for="Nro-tarjeta-credito_normal">Nro:.</label>
									<input type="number" disabled name="Nro-tarjeta-credito_normal"
										ng-model="venta.numero_tarjeta_credito" class="form-control" />
								</td>
								<td ng-if="venta.tipoPago.nombre_corto == diccionario.TIPO_PAGO_TARJETA_CREDITO">
									<label for="bs-tarjeta-credito_normal">Bs:.</label>
									<input type="number" disabled name="bs-tarjeta-credito_normal" class="form-control"
										ng-model="venta.monto_tarjeta_credito" />
								</td>
							</tr>
							<tr>
								<td ng-if="venta.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO">
									<label>A CUENTA
										{{usuario.empresa.ver_costos_dolares && venta.ver_dolares ? '($us)' :
										'(Bs)'}}</label>
									<input name="acuenta" type="number" disabled class="form-control"
										ng-model="venta.a_cuenta" />
								</td>
								<td ng-if="venta.tipoPago.nombre==diccionario.TIPO_PAGO_CREDITO">
									<label>SALDO</label>
									<input disabled type="number" ng-model="venta.saldo" class="form-control" />
								</td>
							</tr>
							<tr>
								<td>
									<label>DESCUENTOS GENERALES</label>
									<label>
										<input class="ace ace-switch ace-switch-4" type="checkbox" disabled
											ng-model="venta.usar_descuento_general" />
										<span id="descuentos_generales" class="lbl check-descuento"></span>
									</label>
								</td>
								<td>
									<label>VENDEDOR</label>
									<input type="text" ng-model="venta.vendedor" disabled>
								</td>
							</tr>
							<tr>
								<td ng-if="venta.usar_descuento_general">
									<label>DESCUENTOS (-)</label>
									<label>
										<input class="ace ace-switch ace-switch-4" type="checkbox" disabled
											ng-model="venta.tipo_descuento" /><!-- ng-change="recalcular()" -->
										<span id="descuentos" class="lbl check-compra"></span>
									</label>
									<input disabled ng-model="venta.descuento" class="col-xs-12" type="number"
										value="0.0" />
								</td>
								<td ng-if="venta.usar_descuento_general">
									<label>RECARGOS (+)</label>
									<label>
										<input class="ace ace-switch ace-switch-4" type="checkbox" disabled
											ng-model="venta.tipo_recargo" />
									</label>
									<input disabled ng-model="venta.recargo" class="col-xs-12" type="number"
										value="0" />
								</td>
							</tr>
							<tr>
								<td ng-if="venta.usar_descuento_general">
									<label>ICE (-)</label>
									<input disabled ng-model="venta.ice" class="col-xs-12" type="number" value="0" />
								</td>
								<td ng-if="venta.usar_descuento_general">
									<label>EXCENTOS (-)</label>
									<input disabled ng-model="venta.excento" class="col-xs-12" type="number"
										value="0" />
								</td>
							<tr>
							<tr>
								<td colspan="2">
									<P> OBSERVACIONES</P>
									<input type="text" class="form-control col-sm-12" ng-model="venta.observacion"
										disabled>
								</td>
							</tr>
						</table>
					</div>
				</div>
			</div>
		</div>
		<div class="col-sm-8">

			<div class="widget-box widget-color-blue">
				<div class="widget-header" ng-if="venta.detallesVenta.length>0">
					<div class="row">
						<div class="col-sm-6">
							<h4 class="widget-title">DETALLE</h4>
						</div>
						<div class="col-sm-6">
							<div class="inline pos-rel pull-right">
								<a data-toggle="dropdown" href="javascript:void(0)" class="dropdown-toggle">
									<i class="glyphicon  glyphicon-list-alt"></i>
								</a>

								<ul id="campos-detalle-venta"
									class="dropdown-menu-right dropdown-menu dropdown-yellow dropdown-caret">
									<li>
										<label>
											<input class="ace ace-switch ace-switch-4" type="checkbox"
												ng-model="configuracionVentaVista.mostrar_producto"
												ng-change="guardarConfiguracionVentaVista()" />
											<span class="lbl check-descuento"></span>
										</label>
										<label>NOMBRE</label>
									</li>
									<li>
										<label>
											<input class="ace ace-switch ace-switch-4" type="checkbox"
												ng-model="configuracionVentaVista.mostrar_codigo_producto"
												ng-change="guardarConfiguracionVentaVista()" />
											<span class="lbl check-descuento"></span>
										</label>
										<label>CÓD. ITEM</label>
									</li>
									<li>
										<label>
											<input class="ace ace-switch ace-switch-4" type="checkbox"
												ng-model="configuracionVentaVista.mostrar_unidad_producto"
												ng-change="guardarConfiguracionVentaVista()" />
											<span class="lbl check-descuento"></span>
										</label>
										<label>UNID. MED.</label>
									</li>
									<li>
										<label>
											<input class="ace ace-switch ace-switch-4" type="checkbox"
												ng-model="configuracionVentaVista.mostrar_precio_unitario"
												ng-change="guardarConfiguracionVentaVista()" />
											<span class="lbl check-descuento"></span>
										</label>
										<label>P.U.
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ? '($us/u)' :
											'(Bs/u)')}}</label>
									</li>
									<li>
										<label>
											<input class="ace ace-switch ace-switch-4" type="checkbox"
												ng-model="configuracionVentaVista.mostrar_cantidad"
												ng-change="guardarConfiguracionVentaVista()" />
											<span class="lbl check-descuento"></span>
										</label>
										<label>CANT. (u)</label>
									</li>
									<li
										ng-if="usuario.empresa.usar_vencimientos && usuario.empresa.usar_vencimiento_productos">
										<label>
											<input class="ace ace-switch ace-switch-4" type="checkbox"
												ng-model="configuracionVentaVista.mostrar_fecha_vencimiento"
												ng-change="guardarConfiguracionVentaVista()" />
											<span class="lbl check-descuento"></span>
										</label>
										<label>VENC.</label>
									</li>
									<li
										ng-if="usuario.empresa.usar_vencimientos && usuario.empresa.usar_vencimiento_productos">
										<label>
											<input class="ace ace-switch ace-switch-4" type="checkbox"
												ng-model="configuracionVentaVista.mostrar_lote"
												ng-change="guardarConfiguracionVentaVista()" />
											<span class="lbl check-descuento"></span>
										</label>
										<label>LOTE</label>
									</li>
									<li>
										<label>
											<input class="ace ace-switch ace-switch-4" type="checkbox"
												ng-model="configuracionVentaVista.mostrar_importe"
												ng-change="guardarConfiguracionVentaVista()" />
											<span class="lbl check-descuento"></span>
										</label>
										<label>IMP.
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ? '($us)' :
											'(Bs)')}}</label>
									</li>
									<li>
										<label>
											<input class="ace ace-switch ace-switch-4" type="checkbox"
												ng-model="configuracionVentaVista.mostrar_descuento"
												ng-change="guardarConfiguracionVentaVista()" />
											<span class="lbl check-descuento"></span>
										</label>
										<label>DESC. (-)</label>
									</li>
									<li>
										<label>
											<input class="ace ace-switch ace-switch-4" type="checkbox"
												ng-model="configuracionVentaVista.mostrar_recargo"
												ng-change="guardarConfiguracionVentaVista()" />
											<span class="lbl check-descuento"></span>
										</label>
										<label>REC. (+)</label>
									</li>
									<li>
										<label>
											<input class="ace ace-switch ace-switch-4" type="checkbox"
												ng-model="configuracionVentaVista.mostrar_ice"
												ng-change="guardarConfiguracionVentaVista()" />
											<span class="lbl check-descuento"></span>
										</label>
										<label>ICE (-)</label>
									</li>
									<li>
										<label>
											<input class="ace ace-switch ace-switch-4" type="checkbox"
												ng-model="configuracionVentaVista.mostrar_excento"
												ng-change="guardarConfiguracionVentaVista()" />
											<span class="lbl check-descuento"></span>
										</label>
										<label>EXC. (-)</label>
									</li>
									<li>
										<label>
											<input class="ace ace-switch ace-switch-4" type="checkbox"
												ng-model="configuracionVentaVista.mostrar_total"
												ng-change="guardarConfiguracionVentaVista()" />
											<span class="lbl check-descuento"></span>
										</label>
										<label>SUJETO A DF</label>
									</li>
									<li class="divider"></li>
								</ul>
							</div>
						</div>
					</div>
				</div>
				<div class="widget-body" style="overflow-x:auto;" ng-if="venta.detallesVenta.length>0">
					<div class="widget-main">
						<table class="table table-striped table-bordered table-hover">
							<thead>
								<tr>
									<th>
										<label>#</label>
									</th>
									<th ng-if="configuracionVentaVista.mostrar_producto">
										<label>NOMBRE</label>
									</th>
									<th ng-if="configuracionVentaVista.mostrar_codigo_producto">
										<label>CÓD. ITEM</label>
									</th>
									<th ng-if="configuracionVentaVista.mostrar_unidad_producto">
										<label>UNID. MED.</label>
									</th>
									<th ng-if="configuracionVentaVista.mostrar_precio_unitario">
										<label>P.U.
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ? '($us/u)' :
											'(Bs/u)')}}</label>
									</th>
									<th ng-if="configuracionVentaVista.mostrar_cantidad">
										<label>CANT. (u)</label>
									</th>
									<th
										ng-if="configuracionVentaVista.mostrar_fecha_vencimiento && usuario.empresa.usar_vencimientos">
										<label>VENC.</label>
									</th>
									<th
										ng-if="configuracionVentaVista.mostrar_lote && usuario.empresa.usar_vencimientos">
										<label>LOTE</label>
									</th>
									<th ng-if="configuracionVentaVista.mostrar_importe">
										<label>IMP.
											{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ? '($us)' :
											'(Bs)')}}</label>
									</th>
									<th ng-if="configuracionVentaVista.mostrar_descuento">
										<label>DESC. (-)</label>
									</th>
									<th ng-if="configuracionVentaVista.mostrar_recargo">
										<label>REC. (+)</label>
									</th>
									<th ng-if="configuracionVentaVista.mostrar_ice">
										<label>ICE (-)</label>
									</th>
									<th ng-if="configuracionVentaVista.mostrar_excento">
										<label>EXC. (-)</label>
									</th>
									<th ng-if="configuracionVentaVista.mostrar_total">
										<label>SUJETO A DF</label>
									</th>
									<th ng-if="tipoEgreso==diccionario.EGRE_BAJA">
										<label>Observaciones</label>
									</th>
									<th>
										<label>ACCIONES</label>
									</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="detalleVenta in venta.detallesVenta">
									<td>
										{{$index+1}}
									</td>
									<td ng-if="configuracionVentaVista.mostrar_producto">
										{{detalleVenta.producto.nombre}}
									</td>
									<td ng-if="configuracionVentaVista.mostrar_codigo_producto">
										{{detalleVenta.producto.codigo}}
									</td>
									<td ng-if="configuracionVentaVista.mostrar_unidad_producto">
										{{detalleVenta.producto.unidad_medida}}
									</td>
									<td ng-if="configuracionVentaVista.mostrar_precio_unitario">
										{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
										detalleVenta.precio_unitario_dolares :
										detalleVenta.precio_unitario) | number: 2}}
									</td>
									<td ng-if="configuracionVentaVista.mostrar_cantidad">
										{{detalleVenta.cantidad}}
									</td>
									<td
										ng-if="configuracionVentaVista.mostrar_fecha_vencimiento && usuario.empresa.usar_vencimientos">
										{{detalleVenta.fecha_vencimiento | date:"dd/MM/yyyy"}}
									</td>
									<td
										ng-if="configuracionVentaVista.mostrar_lote && usuario.empresa.usar_vencimientos">
										{{detalleVenta.lote}}
									</td>
									<td ng-if="configuracionVentaVista.mostrar_importe">
										{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
										detalleVenta.importe_dolares :
										detalleVenta.importe) | number: 2}}
									</td>
									<td ng-if="configuracionVentaVista.mostrar_descuento">
										{{(detalleVenta.total_descuento !== undefined ?
										(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
										detalleVenta.total_descuento_dolares : detalleVenta.total_descuento) :
										(usuario.empresa.ver_costos_dolares &&
										venta.ver_dolares ? detalleVenta.descuento_dolares : detalleVenta.descuento)) |
										number: 2}}
										<!--&nbsp;{{detalleVenta.tipo_descuento ? '('+detalleVenta.descuento+'%)':''}}-->
									</td>
									<td ng-if="configuracionVentaVista.mostrar_recargo">
										{{(detalleVenta.total_recargo !== undefined ?
										(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
										detalleVenta.total_recargo_dolares : detalleVenta.total_recargo) :
										(usuario.empresa.ver_costos_dolares &&
										venta.ver_dolares ? detalleVenta.recargo_dolares : detalleVenta.recargo)) |
										number: 2}}
										<!--&nbsp;{{detalleVenta.tipo_recargo ? '('+detalleVenta.recargo+'%)':''}}-->
									</td>
									<td ng-if="configuracionVentaVista.mostrar_ice">
										{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
										detalleVenta.ice_dolares : detalleVenta.ice) |
										number: 2}}
									</td>
									<td ng-if="configuracionVentaVista.mostrar_excento">
										{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
										detalleVenta.excento_dolares :
										detalleVenta.excento) | number: 2 }}
									</td>
									<td ng-if="configuracionVentaVista.mostrar_total">
										{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
										detalleVenta.total_dolares : detalleVenta.total)
										| number: 2}}
									</td>
									<td ng-if="tipoEgreso==diccionario.EGRE_BAJA">
										{{detalleVenta.observaciones}}
									</td>
									<td>
										<div class="hidden-sm hidden-xs action-buttons">
											<a ng-if="detalleVenta.detallesVentaProductoDevolucion.length == 0 && !detalleVenta.cambio_item"
												class="blue" href="javascript:void(0)" data-rel="tooltip"
												data-placement="bottom" tooltip-append-to-body="true"
												uib-tooltip="Devolucion" ng-click="nuevaDevolucionItem(detalleVenta)">
												<span class="fa-stack smaller-90">
													<i class="fa fa-circle fa-stack-2x"></i>
													<i class="fa fa-exchange fa-stack-1x fa-inverse"></i>
												</span>
											</a>
											<a ng-if="detalleVenta.detallesVentaProductoDevolucion.length > 0"
												class="blue" href="javascript:void(0)" data-rel="tooltip"
												data-placement="bottom" tooltip-append-to-body="true"
												uib-tooltip="Impresion Dev."
												ng-click="impresionDevolucionItem(venta, detalleVenta, detalleVenta.detallesVentaProductoDevolucion[0])">
												<i class="ace-icon fa fa-print bigger-130"></i>
											</a>
											<!-- <a class="green" href="javascript:void(0)"
												ng-if="detalleVenta.detallesVentaProductoDevolucion.length > 0 && detalleVenta.detallesVentaProductoReposicion.length == 0"
												data-rel="tooltip" data-placement="bottom"
												tooltip-append-to-body="true"
												uib-tooltip="Reposicion"
												ng-click="nuevaReposicionItem(detalleVenta)">
												<span class="fa-stack smaller-90">
													<i class="fa fa-undo fa-stack-2x"></i>
													<i class="fa fa-usd fa-stack-1x"></i>
												</span>
											</a> -->
											<a class="green" href="javascript:void(0)"
												ng-if="detalleVenta.detallesVentaProductoDevolucion.length > 0 && detalleVenta.detallesVentaProductoReposicion.length == 0"
												popover-placement="left" popover-title="Tipos de Reposicion"
												uib-popover-template="dynamicPopoverTiposReposicion.templateUrl"
												popover-is-open="dynamicPopoverTiposReposicion.isOpen"
												popover-trigger="outsideClick: outsideClick"
												popover-append-to-body="true" popover-class="popover-success">
												<span class="fa-stack smaller-90">
													<i class="fa fa-undo fa-stack-2x"></i>
													<i class="fa fa-usd fa-stack-1x"></i>
												</span>
												<script type="text/ng-template" id="myPopoverTiposReposicion.html">
													<div >
														<div class="infobox popover-with infobox-green" ng-click="nuevaReposicionItem(detalleVenta)">
															<div class="infobox-icon">
																<!-- <i class="ace-icon fa fa-cog"></i> -->
																<span class="fa-stack bigger-110">
																	<i class="fa fa-undo fa-stack-2x"></i>
																	<i class="fa fa-usd fa-stack-1x"></i>
																</span>
															</div>
															<div class="infobox-data">
																<span class="infobox-data-text"><font size="2">Reposicion Fabricante</font></span>
															</div>
														</div>
						
														<div class="infobox popover-with infobox-orange2" ng-click="nuevaCambioItem(detalleVenta)">
															<div class="infobox-icon">
																<!-- <i class="ace-icon fa fa-print"></i> -->
																<span class="fa-stack bigger-110">
																	<i class="fa fa-refresh fa-stack-2x"></i>
																	<i class="fa fa-cube fa-stack-1x"></i>
																</span>
															</div>
						
															<div class="infobox-data">
																<span class="infobox-data-text"><font size="2">Cambio Producto</font></span>
															</div>
														</div>
														<div class="infobox popover-with infobox-blue2" ng-click="nuevaEfectivoItem(detalleVenta)">
															<div class="infobox-icon">
																<i class="icono-prestamo icono-font"></i>
															</div>
						
															<div class="infobox-data">
																<span class="infobox-data-text"><font size="2">Reposicion en Efectivo</font></span>
															</div>
														</div>
														<br>
													</div>
												</script>
											</a>
											<a ng-if="detalleVenta.detallesVentaProductoReposicion.length > 0"
												class="green" href="javascript:void(0)" data-rel="tooltip"
												data-placement="bottom" tooltip-append-to-body="true"
												uib-tooltip="Impresion Rep."
												ng-click="impresionReposicionItem(venta, detalleVenta, detalleVenta.detallesVentaProductoReposicion[0])">
												<i class="ace-icon fa fa-print bigger-130"></i>
											</a>
										</div>

									</td>
								</tr>
								<tr>
									<td>

									</td>
									<td ng-if="configuracionVentaVista.mostrar_producto">
										<b>TOTALES</b>
									</td>
									<td ng-if="configuracionVentaVista.mostrar_codigo_producto">

									</td>
									<td ng-if="configuracionVentaVista.mostrar_unidad_producto">

									</td>
									<td ng-if="configuracionVentaVista.mostrar_precio_unitario">

									</td>
									<td ng-if="configuracionVentaVista.mostrar_cantidad">

									</td>
									<td
										ng-if="configuracionVentaVista.mostrar_fecha_vencimiento && usuario.empresa.usar_vencimientos">

									</td>
									<td
										ng-if="configuracionVentaVista.mostrar_lote && usuario.empresa.usar_vencimientos">

									</td>
									<td ng-if="configuracionVentaVista.mostrar_importe">
										{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
										venta.importe_dolares : venta.importe) | number:
										2}}
									</td>
									<td ng-if="configuracionVentaVista.mostrar_descuento">
										{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
										venta.total_descuento_dolares :
										venta.total_descuento_general) | number: 2}}
									</td>
									<td ng-if="configuracionVentaVista.mostrar_recargo">
										{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
										venta.total_recargo_dolares :
										venta.total_recargo_general) | number: 2}}
									</td>
									<td ng-if="configuracionVentaVista.mostrar_ice">
										{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ?
										venta.total_ice_dolares : venta.total_ice) |
										number: 2 }}
									</td>
									<td ng-if="configuracionVentaVista.mostrar_excento">
										{{venta.total_exento| number: 2}}
									</td>
									<td ng-if="configuracionVentaVista.mostrar_total">
										{{(usuario.empresa.ver_costos_dolares && venta.ver_dolares ? venta.total_dolares
										: venta.total)| number: 2}}
									</td>
									<td>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div id="modal-item-devolucion" class="modal">
	<div class="modal-header ficha">
		<h4 class="modal-title" id="myModalLabel">
			<span class="fa-stack smaller-90">
				<i class="fa fa-circle fa-stack-2x"></i>
				<i class="fa fa-exchange fa-stack-1x fa-inverse blue"></i>
			</span>
			Devolucion
		</h4>
		<h5 class="modal-title">{{detalleVenta.producto.nombre}}</h5>
	</div>
	<form ng-submit="guardarDevolucionItem(devolucion, detalleVenta)" name="formularioDevolucionVenta">
		<div class="modal-body">

			<div class="row">
				<div class="form-group col-sm-12">
					<label for="sexo">Fecha</label>
					<input type="text" ng-update-hidden class="form-control date-picker" autocomplete="off"
						data-date-format="dd/mm/yyyy" ng-model="devolucion.fecha" id="hrs-extra-fecha" name="fecha"
						placeholder="Fecha" required>
				</div>
			</div>
			<div class="row">
				<div class="form-group col-sm-12">
					<label>Entrega</label>
					<input type="text" autofocus name="Entrega" class="form-control" placeholder="Entrega"
						ng-model="devolucion.entrega" required>
				</div>

			</div>
			<div class="row">
				<div class="form-group col-sm-12">
					<label>Recibe</label>
					<input type="text" autofocus name="recibe" class="form-control" placeholder="Recibe"
						ng-model="devolucion.recibe" required>
				</div>
			</div>
			<div>
				<div class="form-group">
					<label>Observaciónes</label>
					<textarea class="form-control" name="observaciones" placeholder="Observación"
						ng-model="devolucion.observaciones"></textarea>
				</div>
			</div>

		</div>
		<div class="modal-footer wizard-actions">
			<button class="btn btn-primary btn-sm" type="submit" ng-disabled="!formularioDevolucionVenta.$valid">
				<i class="glyphicon glyphicon-floppy-disk"></i>Guardar
			</button>
			<button type="button" class="btn btn-danger btn-sm" ng-click="cerrarNuevaDevolucionItem()">
				<i class="ace-icon fa fa-times"></i>Cancelar
			</button>

		</div>
	</form>
</div>
<div id="modal-item-reposicion" class="modal">
	<div class="modal-header ficha">
		<h4 class="modal-title" id="myModalLabel">
			<span class="fa-stack smaller-70">
				<i class="fa fa-undo fa-stack-2x"></i>
				<i class="fa fa-usd fa-stack-1x"></i>
			</span>
			Reposicion
		</h4>
		<h5 class="modal-title">{{detalleVenta.producto.nombre}}</h5>
	</div>

	<form ng-submit="guardarReposicionItem(reposicion, detalleVenta)" name="formularioReposicionVenta">
		<div class="modal-body">

			<div class="row">
				<div class="form-group col-sm-12">
					<label for="sexo">Fecha</label>
					<input type="text" ng-update-hidden class="form-control date-picker" autocomplete="off"
						data-date-format="dd/mm/yyyy" ng-model="reposicion.fecha" id="hrs-extra-fecha" name="fecha"
						placeholder="Fecha" required>
				</div>
			</div>
			<div class="row">
				<div class="form-group col-sm-12">
					<label>Entrega</label>
					<input type="text" autofocus name="Entrega" class="form-control" placeholder="Entrega"
						ng-model="reposicion.entrega" required>
				</div>

			</div>
			<div class="row">
				<div class="form-group col-sm-12">
					<label>Recibe</label>
					<input type="text" autofocus name="recibe" class="form-control" placeholder="Recibe"
						ng-model="reposicion.recibe" required>
				</div>
			</div>
			<div class="row">
				<div class="form-group col-sm-12">
					<label>Nro. serie</label>
					<input type="text" autofocus name="recibe" class="form-control" placeholder="Nro serie"
						ng-model="reposicion.numero_serie" required>
				</div>
			</div>
			<div>
				<div class="form-group">
					<label>Observaciónes</label>
					<textarea class="form-control" name="observaciones" placeholder="Observación"
						ng-model="reposicion.observaciones"></textarea>
				</div>
			</div>

		</div>
		<div class="modal-footer wizard-actions">
			<button class="btn btn-primary btn-sm" type="submit" ng-disabled="!formularioReposicionVenta.$valid">
				<i class="glyphicon glyphicon-floppy-disk"></i>Guardar
			</button>
			<button type="button" class="btn btn-danger btn-sm" ng-click="cerrarNuevaReposicionItem()">
				<i class="ace-icon fa fa-times"></i>Cancelar
			</button>

		</div>
	</form>
</div>
<div id="modal-item-cambio" class="modal">
	<div class="modal-header ficha">
		<h4 class="modal-title" id="myModalLabel">
			<span class="fa-stack smaller-70">
				<i class="fa fa-undo fa-stack-2x"></i>
				<i class="fa fa-usd fa-stack-1x"></i>
			</span>
			Reposicion
		</h4>
		<h5 class="modal-title">{{detalleVenta.producto.nombre}}</h5>
	</div>

	<form ng-submit="guardarReposicionCambioItem(reposicion, detalleVenta)" name="formularioReposicionCambio">
		<div class="modal-body">

			<div class="row">
				<div class="form-group col-sm-12">
					<label for="sexo">Fecha</label>
					<input type="text" ng-update-hidden class="form-control date-picker" autocomplete="off"
						data-date-format="dd/mm/yyyy" ng-model="reposicion.fecha" id="hrs-extra-fecha" name="fecha"
						placeholder="Fecha" required>
				</div>
			</div>
			<div class="row">
				<div class="form-group col-sm-6">
					<label>Entrega</label>
					<input type="text" autofocus name="Entrega" class="form-control" placeholder="Entrega"
						ng-model="reposicion.entrega" required>
				</div>
				<div class="form-group col-sm-6">
					<label>Recibe</label>
					<input type="text" autofocus name="recibe" class="form-control" placeholder="Recibe"
						ng-model="reposicion.recibe" required>
				</div>

			</div>
			<div class="row">
				<div class="form-group col-sm-12">
					<label>Producto</label>
					<div class="input-group">
						<input autocomplete="off" class="form-control search-query btn btn-white btn-primary" required
							type="text" ng-model="reposicion.producto.nombre" placeholder="Agregue el producto &#xf061;"
							style="font-family:Arial, FontAwesome" readonly="true">
						<span class="input-group-btn">
							<button type="button" class="btn btn-purple btn-sm"
								ng-click="abrirPopupInventarioReposicion()">
								<span class="ace-icon fa fa-plus icon-on-right bigger-110"></span></button>
						</span>
					</div>
				</div>

			</div>
			<div class="row">
				<div class="form-group col-sm-12">
					<label>Precio de venta</label>
					<input type="number" autofocus name="recibe" class="form-control" placeholder="Precio de venta"
						ng-change="calcularImporteReposicion()" ng-model="reposicion.precio_venta" required>

					<span class="label label-success label-white middle" ng-if="reposicion.monto_faltante == 0">
						<i class="ace-icon fa fa-exclamation-triangle bigger-120"></i>
						Correcto
						{{reposicion.monto_faltante}}
					</span>

					<span class="label label-warning label-white middle" ng-if="reposicion.monto_faltante > 0">
						<i class="ace-icon fa fa-exclamation-triangle bigger-120"></i>
						Faltante
						{{reposicion.monto_faltante}}
					</span>
					<span class="label label-danger label-white middle" ng-if="reposicion.monto_faltante < 0">
						<i class="ace-icon fa fa-times-circle bigger-120" aria-hidden="true"></i>
						Restante
						{{reposicion.monto_faltante}}
					</span>
					<!-- <span class="help-block red bolder" ng-if="reposicion.monto_faltante < 0">
							Restante
							{{reposicion.monto_faltante}}
						</span> -->

				</div>
			</div>
			<div>
				<div class="form-group">
					<label>Observaciónes</label>
					<textarea class="form-control" name="observaciones" placeholder="Observación"
						ng-model="reposicion.observaciones"></textarea>
				</div>
			</div>

		</div>
		<div class="modal-footer wizard-actions">
			<button class="btn btn-primary btn-sm" type="submit" ng-disabled="!formularioReposicionCambio.$valid">
				<i class="glyphicon glyphicon-floppy-disk"></i>Guardar
			</button>
			<button type="button" class="btn btn-danger btn-sm" ng-click="cerrarNuevaCambioItem()">
				<i class="ace-icon fa fa-times"></i>Cancelar
			</button>

		</div>
	</form>
</div>
<div id="modal-item-efectivo" class="modal">
	<div class="modal-header ficha">
		<h4 class="modal-title" id="myModalLabel">
			<span class="fa-stack smaller-70">
				<i class="fa fa-undo fa-stack-2x"></i>
				<i class="fa fa-usd fa-stack-1x"></i>
			</span>
			Reposicion
		</h4>
		<h5 class="modal-title">{{detalleVenta.producto.nombre}}</h5>
	</div>

	<form ng-submit="guardarReposicionEfectivoItem(reposicion, detalleVenta)" name="formularioReposicionEfectivoVenta">
		<div class="modal-body">

			<div class="row">
				<div class="form-group col-sm-12">
					<label for="sexo">Fecha</label>
					<input type="text" ng-update-hidden class="form-control date-picker" autocomplete="off"
						data-date-format="dd/mm/yyyy" ng-model="reposicion.fecha" id="hrs-extra-fecha" name="fecha"
						placeholder="Fecha" required>
				</div>
			</div>
			<div class="row">
				<div class="form-group col-sm-6">
					<label>Entrega</label>
					<input type="text" autofocus name="Entrega" class="form-control" placeholder="Entrega"
						ng-model="reposicion.entrega" required>
				</div>
				<div class="form-group col-sm-6">
					<label>Recibe</label>
					<input type="text" autofocus name="recibe" class="form-control" placeholder="Recibe"
						ng-model="reposicion.recibe" required>
				</div>

			</div>
			<div class="row">
				<div class="form-group col-sm-12">
					<label>Monto</label>
					<input type="number" autofocus name="monto" class="form-control" placeholder="Monto"
						ng-model="reposicion.monto" required>
				</div>
			</div>
			<div>
				<div class="form-group">
					<label>Observaciónes</label>
					<textarea class="form-control" name="observaciones" placeholder="Observación"
						ng-model="reposicion.observaciones"></textarea>
				</div>
			</div>

		</div>
		<div class="modal-footer wizard-actions">
			<button class="btn btn-primary btn-sm" type="submit"
				ng-disabled="!formularioReposicionEfectivoVenta.$valid">
				<i class="glyphicon glyphicon-floppy-disk"></i>Guardar
			</button>
			<button type="button" class="btn btn-danger btn-sm" ng-click="cerrarNuevaEfectivoItem()">
				<i class="ace-icon fa fa-times"></i>Cancelar
			</button>

		</div>
	</form>
</div>

<div id="dialog-productos-reposicion" class="modal">
	<div class="modal-dialogg">
		<div class="modal-content">
			<div class="modal-header no-padding">
				<div class="table-header text-center">
					<button type="button" class="close" ng-click="cerrarPopup(idModalProductoReposicion)"
						aria-hidden="true">
						<span class="white">×</span>
					</button>
					<i class="fa fa-cube bigger-130" aria-hidden="true"></i>
					Items
				</div>
			</div>

			<div class="modal-body no-padding">
				<div class="content-filtros">
					<div class="pull-left form-group has-info">
						<div class="dataTables_length" id="tabla-productos_length">
							<label>
								Mostrar
								<select ng-model="itemsPorPagina"
									ng-change="buscarInventarios(almacenBusqueda.id,1,itemsPorPagina,textoBusqueda,columna,direccion,cantidadInv)"
									name="tabla-proveedores_length" aria-controls="tabla-productos"
									class="form-control input-sm">
									<option selected value="10">10</option>
									<option value="25">25</option>
									<option value="50">50</option>
									<option value="100">100</option>
								</select> productos por página</label>
						</div>
					</div>
					<div class="pull-right form-group has-info">
						<div id="tabla-productos_filter" class="">
							<label>Búsqueda:
								<!-- <input type="search" class="form-control input-sm" ng-model="textoBusqueda" placeholder=""
									aria-controls="tabla-productos" ng-keydown="verificarPulso($event,textoBusqueda)"> -->
								<span class="block input-icon input-icon-right">
									<input type="text" id="inputInfo" ng-model="textoBusqueda"
										ng-keydown="verificarPulso($event,textoBusqueda)" class="width-100 input-sm">
									<i class="ace-icon fa fa-search"></i>
								</span>
							</label>
						</div>
					</div>
				</div>
				<table id="tabla-inventarios"
					class="table table-striped table-bordered table-hover no-margin-bottom no-border-top tabla-inventario-venta">
					<thead>
						<tr>
							<th class="fila-num">
								#
							</th>
							<th class="fila-codigo">
								<a href="javascript:void(0)" ng-click="clasificarColumna('codigo')">Código
									<span id="codigop" class="sort ace-icon fa fa-sort icon-only"></span>
								</a>
							</th>
							<th class="fila-producto">
								<a href="javascript:void(0)" ng-click="clasificarColumna('nombre')">Producto
									<span id="nombrep" class="sort ace-icon fa fa-sort icon-only"></span>
								</a>
							</th>
							<th class="fila-descripcion">
								<a href="javascript:void(0)" ng-click="clasificarColumna('descripcion')">Descripcion
									<span id="descripcionp" class="sort ace-icon fa fa-sort icon-only"></span>
								</a>
							</th>
							<th class="fila-cantidad-total">
								<a href="javascript:void(0)" ng-click="clasificarColumna('cantidad')">Cantidad Total
									<span id="cantidadp" class="sort ace-icon fa fa-sort icon-only"></span>
								</a>
							</th>
							<th class="fila-precio">
								<a href="javascript:void(0)" ng-click="clasificarColumna('precio_unitario')">Precio
									Unitario
									<span id="precio_unitariop" class="sort ace-icon fa fa-sort icon-only"></span>
								</a>
							</th>
							<th class="fila-fecha">
								<a href="javascript:void(0)" ng-click="clasificarColumna('fecha_vencimiento')">Fecha
									Venc.
									Próximo
									<span id="fecha_vencimientop" class="sort ace-icon fa fa-sort icon-only"></span>
								</a>
							</th>
							<th class="fila-grupo">
								<a href="javascript:void(0)" ng-click="clasificarColumna('grupo')">Grupo
									<span id="grupop" class="sort ace-icon fa fa-sort icon-only"></span>
								</a>
							</th>
							<th class="fila-grupo">
								<a href="javascript:void(0)" ng-click="clasificarColumna('subgrupo')">Sub Grupo
									<span id="subgrupop" class="sort ace-icon fa fa-sort icon-only"></span>
								</a>
							</th>
							<th class="fila-acciones">Acciones</th>
						</tr>
					</thead>

					<tbody>
						<tr ng-repeat="producto in productos">
							<td class="fila-num">
								{{$index+1}}
							</td>
							<td class="fila-codigo">{{producto.codigo}}</td>
							<td class="fila-producto">{{producto.nombre}}
							</td>
							<td class="fila-descripcion">{{producto.descripcion}}
							</td>
							<td class="fila-cantidad-total">
								<b>{{producto.cantidad_total}}</b>
							</td>
							<td class="fila-precio">{{producto.precio_unitario}}</td>
							<td class="fila-fecha">{{producto.fecha_vencimiento | date:'dd/MM/yyyy'}}</td>
							<td class="fila-grupo">{{producto.grupo}}</td>
							<td class="fila-grupo">{{producto.subgrupo}}</td>
							<td class="fila-acciones">
								<button type="button" ng-disabled="producto.cantidad_total <= 0"
									ng-click="establecerProductoReposicion(producto)" class="btn btn-success btn-sm">
									<i class="ace-icon fa fa-check icon-only"></i>
								</button>
							</td>
						</tr>
					</tbody>
				</table>
			</div>

			<div class="modal-footer no-margin-top">
				<button class="btn btn-sm btn-danger pull-left" ng-click="cerrarPopup(idModalProductoReposicion)">
					<i class="ace-icon fa fa-times"></i>
					Cerrar
				</button>

				<div class="dataTables_info aling-num-pagina pull-left" id="tabla-productos_info" role="status"
					aria-live="polite">Mostrando página
					{{paginaActual}}
					de {{paginas.length}}</div>
				<div class="dataTables_paginate paging_simple_numbers pull-right no-margin"
					id="tabla-productos_paginate">

					<ul class="pagination pull-right no-margin">
						<li class="paginate_button previous" aria-controls="tabla-productos" tabindex="0"
							id="tabla-productos_previous">
							<a href="javascript:void(0)"
								ng-click="buscarInventarios(almacenBusqueda.id,1,itemsPorPagina,textoBusqueda,columna,direccion,cantidadInv)">Primero</a>
						</li>
						<li class="paginate_button previous" ng-class="{disabled:paginaActual==1}"
							aria-controls="tabla-productos" tabindex="0" id="tabla-productos_previous">
							<a href="javascript:void(0)" e-disabled="paginaActual==1"
								ng-click="buscarInventarios(almacenBusqueda.id,paginaActual-1,itemsPorPagina,textoBusqueda,columna,direccion,cantidadInv)">
								<< </a>
						</li>
						<li class="paginate_button" ng-class="{active:paginaActual==pagina}"
							aria-controls="tabla-productos" tabindex="0" ng-repeat="pagina in paginas"
							ng-if="abs(paginaActual-pagina)<4">
							<a href="javascript:void(0)"
								ng-click="buscarInventarios(almacenBusqueda.id,pagina,itemsPorPagina,textoBusqueda,columna,direccion,cantidadInv)">{{pagina}}</a>
						</li>
						<li class="paginate_button" ng-class="{disabled:paginaActual==paginas.length}"
							aria-controls="tabla-productos" tabindex="0" id="tabla-productos_next">
							<a href="javascript:void(0)" e-disabled="paginaActual==paginas.length"
								ng-click="buscarInventarios(almacenBusqueda.id,paginaActual+1,itemsPorPagina,textoBusqueda,columna,direccion,cantidadInv)">>></a>
						</li>
						<li class="paginate_button previous" aria-controls="tabla-productos" tabindex="0"
							id="tabla-productos_previous">
							<a href="javascript:void(0)"
								ng-click="buscarInventarios(almacenBusqueda.id,paginas.length,itemsPorPagina,textoBusqueda,columna,direccion,cantidadInv)">Ultimo</a>
						</li>
					</ul>
				</div>
			</div>
		</div><!-- /.modal-content -->
	</div><!-- /.modal-dialog -->
</div>
<!-- === modal reposicion pedidos"==== -->
<div id="dialog-reposicion-almacen" class="modal">
	<div class="modal-content">
		<div class="modal-header bg-primary">
			<h4 class='smaller text-white text-uppercase'>
				<i class='icono-prerequisito'></i>
				<label>Consumos</label>
			</h4>
		</div>
		<div class="modal-body">
			<div id="tabla-productos_wrapper" class="dataTables_wrapper">
				<div class="row">
					<div class="col-sm-3">
						<div>
							<label>
								Mostrar <select ng-model="paginatorReposicionesPedido.itemsPerPage"
									ng-change="paginatorReposicionesPedido.getFirstPage()" name="tabla-pedido_length"
									aria-controls="tabla-pedido" class="form-control input-sm">
									<option value="0">Todos</option>
									<option ng-selected="true" value="10">10</option>
									<option value="25">25</option>
									<option value="50">50</option>
									<option value="100">100</option>
								</select> Elementos</label>
						</div>
					</div>
					<!-- <div class="col-sm-3">
						<div class="form-group">
							<label>correlativo:</label>
							<input class="form-control input-sm" type="search"
								ng-model="filtroPedidosCompra.correlativo" ng-model-options='{ debounce: 600 }'
								ng-change="obtenerPedidosEmpresa(filtroPedidosCompra)">

						</div>
					</div>
					<div class="col-sm-3">
						<div class="form-group">
							<label>Doc/ISO:</label>
							<input class="form-control input-sm" type="search"
								ng-model="filtroPedidosCompra.dociso" ng-model-options='{ debounce: 600 }'
								ng-change="obtenerPedidosEmpresa(filtroPedidosCompra)">

						</div>
					</div> -->
					<!-- <div class="col-sm-3">
						<div class="form-group">
							<label>Buscar:</label>
							<input class="form-control input-sm" type="search" ng-model="textSearch"
								ng-model-options='{ debounce: 600 }'
								ng-change="paginatorReposicionesPedido.getSearch(textSearch,paginatorReposicionesPedido.filter,$event)">

						</div>
					</div> -->
				</div>
				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th>Nº</th>
							<th>Sucursal</th>
							<th>Almacen</th>
							<th>Fecha</th>
							<th>Acciones</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="item in ordenesReposicion">
							<td>{{$index+1}}</td>
							<td>{{item.almacen.sucursal.nombre}}</td>
							<td>{{item.almacen.nombre}}</td>
							<td>{{item.fecha_consumo | date:"dd/MM/yyyy"}}</td>

							<td>
								<label ng-if="!item.eliminado">
									<a ng-click="abrirDialogDetalleReposicionPedido(item)">
										<i class="fa fa-check bigger-200"></i>
									</a>
								</label>
								<label>
									<a class="red" ng-click="abrirDialogEliminarReposicionPedido(item)">
										<i class="fa fa-trash-o bigger-200"></i>
									</a>
								</label>
							</td>
						</tr>
					</tbody>
				</table>
				<div class="row">
					<div class="col-sm-6">
						<div>
							Mostrando página {{paginatorReposicionesPedido.currentPage}} de
							{{paginatorReposicionesPedido.pages.length}}
						</div>
					</div>
					<div class="col-sm-6" align="right">
						<ul class="pagination">
							<li class="paginate_button">
								<a href="javascript:void(0)"
									ng-click="paginatorReposicionesPedido.getFirstPage()">Primero</a>
							</li>
							<li class="paginate_button">
								<a href="javascript:void(0)" e-disabled="paginatorReposicionesPedido.currentPage==1"
									ng-click="paginatorReposicionesPedido.getPreviousPage()">
									<< </a>
							</li>
							<li class="paginate_button"
								ng-class="{active:paginatorReposicionesPedido.currentPage==page}"
								ng-repeat="page in paginatorReposicionesPedido.pages"
								ng-if="abs(paginatorReposicionesPedido.currentPage-page)<4">
								<a e-disabled="paginatorReposicionesPedido.currentPage==page" href="javascript:void(0)"
									ng-click="paginatorReposicionesPedido.getPage(page)">{{page}}</a>
							</li>
							<li class="paginate_button">
								<a href="javascript:void(0)"
									e-disabled="paginatorReposicionesPedido.currentPage==paginatorReposicionesPedido.pages.length"
									ng-click="paginatorReposicionesPedido.getNextPage()">>></a>
								</lidiv>
							<li class="paginate_button">
								<a href="javascript:void(0)"
									ng-click="paginatorReposicionesPedido.getLastPage()">Ultimo</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<div class="modal-footer wizard-actions">

			<button class="btn btn-danger btn-sm" ng-click="cerrarReposicionAlmacen()">
				<i class="ace-icon fa fa-times"></i>Cancelar
			</button>
		</div>
	</div>
</div>

<!-- ========= fin reposicion pedidos ========= -->
<!-- inicio detalle reposicion -->
<div id="dialog-detalle-reposicion-almacen" class="modal">
	<div class="modal-content">
		<div class="modal-header bg-primary">
			<h4 class='smaller text-white text-uppercase'>
				<i class='icono-prerequisito'></i>
				<label>detalle Consumo</label>
			</h4>
		</div>
		<form id="orden-repo-detalle" ng-submit="generarVentaTDesdeOrdenReposicion()">
			<div class="modal-body">
				<div class="table-fixed-header">
					<table class="table table-striped table-bordered table-hover ">
						<thead fix-head class="table-head-color">
							<tr>
								<th>Nº</th>
								<th>Producto</th>
								<th>Und. Med.</th>
								<th>Fecha venc.</th>
								<th>Lote</th>
								<th>Cant(u)</th>
								<th>Cant. Existente</th>
								<th>Acciones</th>
							</tr>
						</thead>
						<tbody>
							<tr  ng-class="{red:item.eliminado}" ng-repeat="item in detallesReposicion">
								<td>{{$index+1}}</td>
								<td>{{item.producto.nombre}}</td>
								<td>{{item.producto.unidad_medida}}</td>
								<td>
									<input type="text" id="fechasrep" ng-update-hidden class="form-control date-picker"
										autocomplete="off" data-date-format="dd/mm/yyyy" tabindex="-1"
										ng-model="item.fecha_vencimiento">
								</td>
								<td><input type="text" class="form-control" ng-model="item.lote" tabindex="-1"></td>
								<td><input type="number" class="form-control" ng-model="item.cantidad_corregida"
										step="0.00001" min="0.00001" max="{{sumarInvTotal(item.producto.inventarios)}}">
								</td>
								<td>{{sumarInvTotal(item.producto.inventarios)|number:2}}</td>

								<td>
									<label>
										<a ng-if="!item.eliminado" class="red"
											ng-click="item.eliminado=!item.eliminado">
											<i class="fa fa-trash-o bigger-200"></i>
										</a>
									</label>
								</td>
							</tr>
						</tbody>
					</table>

				</div>
			</div>
			<div class="modal-footer wizard-actions">

				<button type="button" class="btn btn-danger btn-sm pull-left"
					ng-click="cerrarDialogDetalleReposicionPedido()">
					<i class="ace-icon fa fa-times"></i>Cancelar
				</button>
				<button type="submit" class="btn btn-success btn-sm">
					<i class="ace-icon fa fa-times"></i>Generar
				</button>
			</div>
		</form>
	</div>
</div>
<!-- fin detalle reposicion-->
<!-- historial traspasos campamento -->
<div id="dialog-historial-traspaso-campamento" class="modal">
	<div class="modal-content">
		<div class="modal-header bg-primary">
			<h4 class='smaller text-white text-uppercase'>
				<i class='icono-prerequisito'></i>
				<label>traspasos campamento</label>
			</h4>
			<h4>{{sucursalCamp.nombre}}</h4>
		</div>
		<div class="modal-body">
			<div>
				<div class="row">
					<div class="col-sm-6">
						<div>
							<label>
								Mostrar <select ng-model="paginatortraspasosSync.itemsPerPage"
									ng-change="paginatortraspasosSync.getFirstPage()" name="tabla-proveedores_length"
									aria-controls="tabla-proveedores" class="form-control input-sm">
									<option value="0">Todos</option>
									<option ng-selected="true" value="10">10</option>
									<option value="25">25</option>
									<option value="50">50</option>
									<option value="100">100</option>
								</select> Elementos</label>
						</div>
					</div>
					<!-- <div class="col-sm-6" align="right">
						<div>
							<label>Buscar:(Beneficiario)
								<input autofocus class="form-control input-sm" type="search" ng-model="textSearch"
									ng-model-options='{ debounce: 600 }'
									ng-change="paginatortraspasosSync.getSearch(textSearch,paginatortraspasosSync.filter,$event)">
							</label>
						</div>
					</div> -->
				</div>
				<table class="table table-striped table-bordered table-hover ">
					<thead>
						<tr>
							<th>Nº</th>
							<th>sucursal|almacen|doc.</th>							
							<th>Sincronizado</th>
							<th>Fecha sincronización</th>
							<th>Acciones</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="item in traspasosCampamento">
							<td>{{$index+1}}</td>
							<td><p ng-repeat="venta in item.ventas">{{venta.almacen.sucursal.nombre+" | "+venta.almacen.nombre+" | "+venta.factura}}</p></td>
							<td>{{item.campamento_sincronizado?'FINALIZADO':'PENDIENTE'}}</td>
							<td>{{fechaATexto(item.fecha_sincronizado)}}</td>
							<td>
								<a  ng-if="!item.campamento_sincronizado"								
								class="green" uib-tooltip="Confirmar Traspaso" tooltip-placement="left"
								tooltip-append-to-body="true" href="javascript:void(0)"
								ng-click="CerrarFechaTraspasoCampamento(item)">
								<i class="fa fa-unlock bigger-130" aria-hidden="true"></i>
							</a>
							<a ng-if="item.campamento_sincronizado"	
								class="red" uib-tooltip="Transaccion cerrada." tooltip-placement="left"
								tooltip-append-to-body="true" href="javascript:void(0)">
								<i class="fa fa-lock bigger-130" aria-hidden="true"></i>
							</a>
								<a class="text-info" href="javascript:void(0)" ng-click="excelTraspasoConsumoHistorial(item)">
									<i class="fa fa-file-excel-o bigger-130"></i>
								</a>

							</td>
						</tr>
					</tbody>
				</table>

				<div class="row">
					<div class="col-sm-6">
						<div>
							Mostrando página {{paginatortraspasosSync.currentPage}} de {{paginatortraspasosSync.pages.length}}
						</div>
					</div>
					<div class="col-sm-6" align="right">
						<ul class="pagination">
							<li class="paginate_button">
								<a href="javascript:void(0)" ng-click="paginatortraspasosSync.getFirstPage()">Primero</a>
							</li>
							<li class="paginate_button">
								<a href="javascript:void(0)" e-disabled="paginatortraspasosSync.currentPage==1"
									ng-click="paginatortraspasosSync.getPreviousPage()">
									<< </a>
							</li>
							<li class="paginate_button" ng-class="{active:paginatortraspasosSync.currentPage==page}"
								ng-repeat="page in paginatortraspasosSync.pages"
								ng-if="abs(paginatortraspasosSync.currentPage-page)<4">
								<a e-disabled="paginatortraspasosSync.currentPage==page" href="javascript:void(0)"
									ng-click="paginatortraspasosSync.getPage(page)">{{page}}</a>
							</li>
							<li class="paginate_button">
								<a href="javascript:void(0)"
									e-disabled="paginatortraspasosSync.currentPage==paginatortraspasosSync.pages.length"
									ng-click="paginatortraspasosSync.getNextPage()">>></a>
								</lidiv>
							<li class="paginate_button">
								<a href="javascript:void(0)" ng-click="paginatortraspasosSync.getLastPage()">Ultimo</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="modal-footer wizard-actions">

		<button type="button" class="btn btn-danger btn-sm pull-left" ng-click="cerrarDialogHTraspasoCampamento()">
			<i class="ace-icon fa fa-times"></i>Cancelar
		</button>
	</div>
</div>
</div>